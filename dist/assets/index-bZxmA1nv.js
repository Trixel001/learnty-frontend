var IQ=Object.defineProperty;var jR=n=>{throw TypeError(n)};var RQ=(n,t,e)=>t in n?IQ(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ht=(n,t,e)=>RQ(n,typeof t!="symbol"?t+"":t,e),pP=(n,t,e)=>t.has(n)||jR("Cannot "+e);var p=(n,t,e)=>(pP(n,t,"read from private field"),e?e.call(n):t.get(n)),j=(n,t,e)=>t.has(n)?jR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),D=(n,t,e,a)=>(pP(n,t,"write to private field"),a?a.call(n,e):t.set(n,e),e),O=(n,t,e)=>(pP(n,t,"access private method"),e);var Bn=(n,t,e,a)=>({set _(r){D(n,t,r,e)},get _(){return p(n,t,a)}});function MQ(n,t){for(var e=0;e<t.length;e++){const a=t[e];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function dU(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var r=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(e,a,r.get?r:{enumerable:!0,get:function(){return n[a]}})}),e}var fP={exports:{}},ig={},gP={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function FQ(){if(OR)return ae;OR=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function b(z,K,it){this.props=z,this.context=K,this.refs=v,this.updater=it||y}b.prototype.isReactComponent={},b.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=b.prototype;function _(z,K,it){this.props=z,this.context=K,this.refs=v,this.updater=it||y}var P=_.prototype=new S;P.constructor=_,w(P,b.prototype),P.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,T={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function L(z,K,it){var ft,ct={},yt=null,bt=null;if(K!=null)for(ft in K.ref!==void 0&&(bt=K.ref),K.key!==void 0&&(yt=""+K.key),K)C.call(K,ft)&&!B.hasOwnProperty(ft)&&(ct[ft]=K[ft]);var Gt=arguments.length-2;if(Gt===1)ct.children=it;else if(1<Gt){for(var ut=Array(Gt),Et=0;Et<Gt;Et++)ut[Et]=arguments[Et+2];ct.children=ut}if(z&&z.defaultProps)for(ft in Gt=z.defaultProps,Gt)ct[ft]===void 0&&(ct[ft]=Gt[ft]);return{$$typeof:n,type:z,key:yt,ref:bt,props:ct,_owner:T.current}}function M(z,K){return{$$typeof:n,type:z.type,key:K,ref:z.ref,props:z.props,_owner:z._owner}}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(it){return K[it]})}var G=/\/+/g;function $(z,K){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):K.toString(36)}function H(z,K,it,ft,ct){var yt=typeof z;(yt==="undefined"||yt==="boolean")&&(z=null);var bt=!1;if(z===null)bt=!0;else switch(yt){case"string":case"number":bt=!0;break;case"object":switch(z.$$typeof){case n:case t:bt=!0}}if(bt)return bt=z,ct=ct(bt),z=ft===""?"."+$(bt,0):ft,E(ct)?(it="",z!=null&&(it=z.replace(G,"$&/")+"/"),H(ct,K,it,"",function(Et){return Et})):ct!=null&&(U(ct)&&(ct=M(ct,it+(!ct.key||bt&&bt.key===ct.key?"":(""+ct.key).replace(G,"$&/")+"/")+z)),K.push(ct)),1;if(bt=0,ft=ft===""?".":ft+":",E(z))for(var Gt=0;Gt<z.length;Gt++){yt=z[Gt];var ut=ft+$(yt,Gt);bt+=H(yt,K,it,ut,ct)}else if(ut=f(z),typeof ut=="function")for(z=ut.call(z),Gt=0;!(yt=z.next()).done;)yt=yt.value,ut=ft+$(yt,Gt++),bt+=H(yt,K,it,ut,ct);else if(yt==="object")throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return bt}function X(z,K,it){if(z==null)return z;var ft=[],ct=0;return H(z,ft,"","",function(yt){return K.call(it,yt,ct++)}),ft}function Q(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(it){(z._status===0||z._status===-1)&&(z._status=1,z._result=it)},function(it){(z._status===0||z._status===-1)&&(z._status=2,z._result=it)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var W={current:null},V={transition:null},tt={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:V,ReactCurrentOwner:T};function nt(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:X,forEach:function(z,K,it){X(z,function(){K.apply(this,arguments)},it)},count:function(z){var K=0;return X(z,function(){K++}),K},toArray:function(z){return X(z,function(K){return K})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ae.Component=b,ae.Fragment=e,ae.Profiler=r,ae.PureComponent=_,ae.StrictMode=a,ae.Suspense=c,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tt,ae.act=nt,ae.cloneElement=function(z,K,it){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ft=w({},z.props),ct=z.key,yt=z.ref,bt=z._owner;if(K!=null){if(K.ref!==void 0&&(yt=K.ref,bt=T.current),K.key!==void 0&&(ct=""+K.key),z.type&&z.type.defaultProps)var Gt=z.type.defaultProps;for(ut in K)C.call(K,ut)&&!B.hasOwnProperty(ut)&&(ft[ut]=K[ut]===void 0&&Gt!==void 0?Gt[ut]:K[ut])}var ut=arguments.length-2;if(ut===1)ft.children=it;else if(1<ut){Gt=Array(ut);for(var Et=0;Et<ut;Et++)Gt[Et]=arguments[Et+2];ft.children=Gt}return{$$typeof:n,type:z.type,key:ct,ref:yt,props:ft,_owner:bt}},ae.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},ae.createElement=L,ae.createFactory=function(z){var K=L.bind(null,z);return K.type=z,K},ae.createRef=function(){return{current:null}},ae.forwardRef=function(z){return{$$typeof:s,render:z}},ae.isValidElement=U,ae.lazy=function(z){return{$$typeof:u,_payload:{_status:-1,_result:z},_init:Q}},ae.memo=function(z,K){return{$$typeof:l,type:z,compare:K===void 0?null:K}},ae.startTransition=function(z){var K=V.transition;V.transition={};try{z()}finally{V.transition=K}},ae.unstable_act=nt,ae.useCallback=function(z,K){return W.current.useCallback(z,K)},ae.useContext=function(z){return W.current.useContext(z)},ae.useDebugValue=function(){},ae.useDeferredValue=function(z){return W.current.useDeferredValue(z)},ae.useEffect=function(z,K){return W.current.useEffect(z,K)},ae.useId=function(){return W.current.useId()},ae.useImperativeHandle=function(z,K,it){return W.current.useImperativeHandle(z,K,it)},ae.useInsertionEffect=function(z,K){return W.current.useInsertionEffect(z,K)},ae.useLayoutEffect=function(z,K){return W.current.useLayoutEffect(z,K)},ae.useMemo=function(z,K){return W.current.useMemo(z,K)},ae.useReducer=function(z,K,it){return W.current.useReducer(z,K,it)},ae.useRef=function(z){return W.current.useRef(z)},ae.useState=function(z){return W.current.useState(z)},ae.useSyncExternalStore=function(z,K,it){return W.current.useSyncExternalStore(z,K,it)},ae.useTransition=function(){return W.current.useTransition()},ae.version="18.3.1",ae}var LR;function TB(){return LR||(LR=1,gP.exports=FQ()),gP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function $Q(){if(IR)return ig;IR=1;var n=TB(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(s,c,l){var u,h={},f=null,y=null;l!==void 0&&(f=""+l),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(y=c.ref);for(u in c)a.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(s&&s.defaultProps)for(u in c=s.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:t,type:s,key:f,ref:y,props:h,_owner:r.current}}return ig.Fragment=e,ig.jsx=o,ig.jsxs=o,ig}var RR;function GQ(){return RR||(RR=1,fP.exports=$Q()),fP.exports}var x=GQ(),I=TB();const Y=Ee(I),UQ=MQ({__proto__:null,default:Y},[I]);var vb={},xP={exports:{}},rr={},yP={exports:{}},vP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function zQ(){return MR||(MR=1,function(n){function t(V,tt){var nt=V.length;V.push(tt);t:for(;0<nt;){var z=nt-1>>>1,K=V[z];if(0<r(K,tt))V[z]=tt,V[nt]=K,nt=z;else break t}}function e(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var tt=V[0],nt=V.pop();if(nt!==tt){V[0]=nt;t:for(var z=0,K=V.length,it=K>>>1;z<it;){var ft=2*(z+1)-1,ct=V[ft],yt=ft+1,bt=V[yt];if(0>r(ct,nt))yt<K&&0>r(bt,ct)?(V[z]=bt,V[yt]=nt,z=yt):(V[z]=ct,V[ft]=nt,z=ft);else if(yt<K&&0>r(bt,nt))V[z]=bt,V[yt]=nt,z=yt;else break t}}return tt}function r(V,tt){var nt=V.sortIndex-tt.sortIndex;return nt!==0?nt:V.id-tt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,h=null,f=3,y=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(V){for(var tt=e(l);tt!==null;){if(tt.callback===null)a(l);else if(tt.startTime<=V)a(l),tt.sortIndex=tt.expirationTime,t(c,tt);else break;tt=e(l)}}function E(V){if(v=!1,P(V),!w)if(e(c)!==null)w=!0,Q(C);else{var tt=e(l);tt!==null&&W(E,tt.startTime-V)}}function C(V,tt){w=!1,v&&(v=!1,S(L),L=-1),y=!0;var nt=f;try{for(P(tt),h=e(c);h!==null&&(!(h.expirationTime>tt)||V&&!F());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var K=z(h.expirationTime<=tt);tt=n.unstable_now(),typeof K=="function"?h.callback=K:h===e(c)&&a(c),P(tt)}else a(c);h=e(c)}if(h!==null)var it=!0;else{var ft=e(l);ft!==null&&W(E,ft.startTime-tt),it=!1}return it}finally{h=null,f=nt,y=!1}}var T=!1,B=null,L=-1,M=5,U=-1;function F(){return!(n.unstable_now()-U<M)}function G(){if(B!==null){var V=n.unstable_now();U=V;var tt=!0;try{tt=B(!0,V)}finally{tt?$():(T=!1,B=null)}}else T=!1}var $;if(typeof _=="function")$=function(){_(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=G,$=function(){X.postMessage(null)}}else $=function(){b(G,0)};function Q(V){B=V,T||(T=!0,$())}function W(V,tt){L=b(function(){V(n.unstable_now())},tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){w||y||(w=!0,Q(C))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return e(c)},n.unstable_next=function(V){switch(f){case 1:case 2:case 3:var tt=3;break;default:tt=f}var nt=f;f=tt;try{return V()}finally{f=nt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,tt){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var nt=f;f=V;try{return tt()}finally{f=nt}},n.unstable_scheduleCallback=function(V,tt,nt){var z=n.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?z+nt:z):nt=z,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=nt+K,V={id:u++,callback:tt,priorityLevel:V,startTime:nt,expirationTime:K,sortIndex:-1},nt>z?(V.sortIndex=nt,t(l,V),e(c)===null&&V===e(l)&&(v?(S(L),L=-1):v=!0,W(E,nt-z))):(V.sortIndex=K,t(c,V),w||y||(w=!0,Q(C))),V},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(V){var tt=f;return function(){var nt=f;f=tt;try{return V.apply(this,arguments)}finally{f=nt}}}}(vP)),vP}var FR;function qQ(){return FR||(FR=1,yP.exports=zQ()),yP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R;function HQ(){if($R)return rr;$R=1;var n=TB(),t=qQ();function e(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,g=1;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,r={};function i(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(r[d]=m,d=0;d<m.length;d++)a.add(m[d])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(d){return c.call(h,d)?!0:c.call(u,d)?!1:l.test(d)?h[d]=!0:(u[d]=!0,!1)}function y(d,m,g,A){if(g!==null&&g.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return A?!1:g!==null?!g.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function w(d,m,g,A){if(m===null||typeof m>"u"||y(d,m,g,A))return!0;if(A)return!1;if(g!==null)switch(g.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(d,m,g,A,k,N,R){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=A,this.attributeNamespace=k,this.mustUseProperty=g,this.propertyName=d,this.type=m,this.sanitizeURL=N,this.removeEmptyString=R}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];b[m]=new v(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(S,_);b[m]=new v(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(S,_);b[m]=new v(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(S,_);b[m]=new v(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function P(d,m,g,A){var k=b.hasOwnProperty(m)?b[m]:null;(k!==null?k.type!==0:A||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(w(m,g,k,A)&&(g=null),A||k===null?f(m)&&(g===null?d.removeAttribute(m):d.setAttribute(m,""+g)):k.mustUseProperty?d[k.propertyName]=g===null?k.type===3?!1:"":g:(m=k.attributeName,A=k.attributeNamespace,g===null?d.removeAttribute(m):(k=k.type,g=k===3||k===4&&g===!0?"":""+g,A?d.setAttributeNS(A,m,g):d.setAttribute(m,g))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),T=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),V=Symbol.iterator;function tt(d){return d===null||typeof d!="object"?null:(d=V&&d[V]||d["@@iterator"],typeof d=="function"?d:null)}var nt=Object.assign,z;function K(d){if(z===void 0)try{throw Error()}catch(g){var m=g.stack.trim().match(/\n( *(at )?)/);z=m&&m[1]||""}return`
`+z+d}var it=!1;function ft(d,m){if(!d||it)return"";it=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(rt){var A=rt}Reflect.construct(d,[],m)}else{try{m.call()}catch(rt){A=rt}d.call(m.prototype)}else{try{throw Error()}catch(rt){A=rt}d()}}catch(rt){if(rt&&A&&typeof rt.stack=="string"){for(var k=rt.stack.split(`
`),N=A.stack.split(`
`),R=k.length-1,q=N.length-1;1<=R&&0<=q&&k[R]!==N[q];)q--;for(;1<=R&&0<=q;R--,q--)if(k[R]!==N[q]){if(R!==1||q!==1)do if(R--,q--,0>q||k[R]!==N[q]){var J=`
`+k[R].replace(" at new "," at ");return d.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",d.displayName)),J}while(1<=R&&0<=q);break}}}finally{it=!1,Error.prepareStackTrace=g}return(d=d?d.displayName||d.name:"")?K(d):""}function ct(d){switch(d.tag){case 5:return K(d.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return d=ft(d.type,!1),d;case 11:return d=ft(d.type.render,!1),d;case 1:return d=ft(d.type,!0),d;default:return""}}function yt(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case B:return"Fragment";case T:return"Portal";case M:return"Profiler";case L:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case F:return(d.displayName||"Context")+".Consumer";case U:return(d._context.displayName||"Context")+".Provider";case G:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case X:return m=d.displayName||null,m!==null?m:yt(d.type)||"Memo";case Q:m=d._payload,d=d._init;try{return yt(d(m))}catch{}}return null}function bt(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yt(m);case 8:return m===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function Gt(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ut(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Et(d){var m=ut(d)?"checked":"value",g=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),A=""+d[m];if(!d.hasOwnProperty(m)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var k=g.get,N=g.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return k.call(this)},set:function(R){A=""+R,N.call(this,R)}}),Object.defineProperty(d,m,{enumerable:g.enumerable}),{getValue:function(){return A},setValue:function(R){A=""+R},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Rt(d){d._valueTracker||(d._valueTracker=Et(d))}function lt(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var g=m.getValue(),A="";return d&&(A=ut(d)?d.checked?"true":"false":d.value),d=A,d!==g?(m.setValue(d),!0):!1}function fe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function ne(d,m){var g=m.checked;return nt({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??d._wrapperState.initialChecked})}function rn(d,m){var g=m.defaultValue==null?"":m.defaultValue,A=m.checked!=null?m.checked:m.defaultChecked;g=Gt(m.value!=null?m.value:g),d._wrapperState={initialChecked:A,initialValue:g,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function on(d,m){m=m.checked,m!=null&&P(d,"checked",m,!1)}function qn(d,m){on(d,m);var g=Gt(m.value),A=m.type;if(g!=null)A==="number"?(g===0&&d.value===""||d.value!=g)&&(d.value=""+g):d.value!==""+g&&(d.value=""+g);else if(A==="submit"||A==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?xo(d,m.type,g):m.hasOwnProperty("defaultValue")&&xo(d,m.type,Gt(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function ji(d,m,g){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var A=m.type;if(!(A!=="submit"&&A!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,g||m===d.value||(d.value=m),d.defaultValue=m}g=d.name,g!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,g!==""&&(d.name=g)}function xo(d,m,g){(m!=="number"||fe(d.ownerDocument)!==d)&&(g==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+g&&(d.defaultValue=""+g))}var yo=Array.isArray;function Ja(d,m,g,A){if(d=d.options,m){m={};for(var k=0;k<g.length;k++)m["$"+g[k]]=!0;for(g=0;g<d.length;g++)k=m.hasOwnProperty("$"+d[g].value),d[g].selected!==k&&(d[g].selected=k),k&&A&&(d[g].defaultSelected=!0)}else{for(g=""+Gt(g),m=null,k=0;k<d.length;k++){if(d[k].value===g){d[k].selected=!0,A&&(d[k].defaultSelected=!0);return}m!==null||d[k].disabled||(m=d[k])}m!==null&&(m.selected=!0)}}function Oi(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(e(91));return nt({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Um(d,m){var g=m.value;if(g==null){if(g=m.children,m=m.defaultValue,g!=null){if(m!=null)throw Error(e(92));if(yo(g)){if(1<g.length)throw Error(e(93));g=g[0]}m=g}m==null&&(m=""),g=m}d._wrapperState={initialValue:Gt(g)}}function v2(d,m){var g=Gt(m.value),A=Gt(m.defaultValue);g!=null&&(g=""+g,g!==d.value&&(d.value=g),m.defaultValue==null&&d.defaultValue!==g&&(d.defaultValue=g)),A!=null&&(d.defaultValue=""+A)}function b2(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function VO(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PS(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?VO(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var dv,WO=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,g,A,k){MSApp.execUnsafeLocalFunction(function(){return d(m,g,A,k)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(dv=dv||document.createElement("div"),dv.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=dv.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function w2(d,m){if(m){var g=d.firstChild;if(g&&g===d.lastChild&&g.nodeType===3){g.nodeValue=m;return}}d.textContent=m}var A2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$X=["Webkit","ms","Moz","O"];Object.keys(A2).forEach(function(d){$X.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),A2[m]=A2[d]})});function KO(d,m,g){return m==null||typeof m=="boolean"||m===""?"":g||typeof m!="number"||m===0||A2.hasOwnProperty(d)&&A2[d]?(""+m).trim():m+"px"}function XO(d,m){d=d.style;for(var g in m)if(m.hasOwnProperty(g)){var A=g.indexOf("--")===0,k=KO(g,m[g],A);g==="float"&&(g="cssFloat"),A?d.setProperty(g,k):d[g]=k}}var GX=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kS(d,m){if(m){if(GX[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(e(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(e(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(e(61))}if(m.style!=null&&typeof m.style!="object")throw Error(e(62))}}function CS(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=null;function TS(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var DS=null,zm=null,qm=null;function YO(d){if(d=q2(d)){if(typeof DS!="function")throw Error(e(280));var m=d.stateNode;m&&(m=jv(m),DS(d.stateNode,d.type,m))}}function QO(d){zm?qm?qm.push(d):qm=[d]:zm=d}function JO(){if(zm){var d=zm,m=qm;if(qm=zm=null,YO(d),m)for(d=0;d<m.length;d++)YO(m[d])}}function ZO(d,m){return d(m)}function tL(){}var NS=!1;function eL(d,m,g){if(NS)return d(m,g);NS=!0;try{return ZO(d,m,g)}finally{NS=!1,(zm!==null||qm!==null)&&(tL(),JO())}}function S2(d,m){var g=d.stateNode;if(g===null)return null;var A=jv(g);if(A===null)return null;g=A[m];t:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(d=d.type,A=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!A;break t;default:d=!1}if(d)return null;if(g&&typeof g!="function")throw Error(e(231,m,typeof g));return g}var BS=!1;if(s)try{var _2={};Object.defineProperty(_2,"passive",{get:function(){BS=!0}}),window.addEventListener("test",_2,_2),window.removeEventListener("test",_2,_2)}catch{BS=!1}function UX(d,m,g,A,k,N,R,q,J){var rt=Array.prototype.slice.call(arguments,3);try{m.apply(g,rt)}catch(mt){this.onError(mt)}}var P2=!1,uv=null,mv=!1,jS=null,zX={onError:function(d){P2=!0,uv=d}};function qX(d,m,g,A,k,N,R,q,J){P2=!1,uv=null,UX.apply(zX,arguments)}function HX(d,m,g,A,k,N,R,q,J){if(qX.apply(this,arguments),P2){if(P2){var rt=uv;P2=!1,uv=null}else throw Error(e(198));mv||(mv=!0,jS=rt)}}function Pd(d){var m=d,g=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(g=m.return),d=m.return;while(d)}return m.tag===3?g:null}function nL(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function aL(d){if(Pd(d)!==d)throw Error(e(188))}function VX(d){var m=d.alternate;if(!m){if(m=Pd(d),m===null)throw Error(e(188));return m!==d?null:d}for(var g=d,A=m;;){var k=g.return;if(k===null)break;var N=k.alternate;if(N===null){if(A=k.return,A!==null){g=A;continue}break}if(k.child===N.child){for(N=k.child;N;){if(N===g)return aL(k),d;if(N===A)return aL(k),m;N=N.sibling}throw Error(e(188))}if(g.return!==A.return)g=k,A=N;else{for(var R=!1,q=k.child;q;){if(q===g){R=!0,g=k,A=N;break}if(q===A){R=!0,A=k,g=N;break}q=q.sibling}if(!R){for(q=N.child;q;){if(q===g){R=!0,g=N,A=k;break}if(q===A){R=!0,A=N,g=k;break}q=q.sibling}if(!R)throw Error(e(189))}}if(g.alternate!==A)throw Error(e(190))}if(g.tag!==3)throw Error(e(188));return g.stateNode.current===g?d:m}function rL(d){return d=VX(d),d!==null?iL(d):null}function iL(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=iL(d);if(m!==null)return m;d=d.sibling}return null}var oL=t.unstable_scheduleCallback,sL=t.unstable_cancelCallback,WX=t.unstable_shouldYield,KX=t.unstable_requestPaint,fn=t.unstable_now,XX=t.unstable_getCurrentPriorityLevel,OS=t.unstable_ImmediatePriority,cL=t.unstable_UserBlockingPriority,hv=t.unstable_NormalPriority,YX=t.unstable_LowPriority,lL=t.unstable_IdlePriority,pv=null,vo=null;function QX(d){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(pv,d,void 0,(d.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:tY,JX=Math.log,ZX=Math.LN2;function tY(d){return d>>>=0,d===0?32:31-(JX(d)/ZX|0)|0}var fv=64,gv=4194304;function k2(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function xv(d,m){var g=d.pendingLanes;if(g===0)return 0;var A=0,k=d.suspendedLanes,N=d.pingedLanes,R=g&268435455;if(R!==0){var q=R&~k;q!==0?A=k2(q):(N&=R,N!==0&&(A=k2(N)))}else R=g&~k,R!==0?A=k2(R):N!==0&&(A=k2(N));if(A===0)return 0;if(m!==0&&m!==A&&(m&k)===0&&(k=A&-A,N=m&-m,k>=N||k===16&&(N&4194240)!==0))return m;if((A&4)!==0&&(A|=g&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=A;0<m;)g=31-Li(m),k=1<<g,A|=d[g],m&=~k;return A}function eY(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nY(d,m){for(var g=d.suspendedLanes,A=d.pingedLanes,k=d.expirationTimes,N=d.pendingLanes;0<N;){var R=31-Li(N),q=1<<R,J=k[R];J===-1?((q&g)===0||(q&A)!==0)&&(k[R]=eY(q,m)):J<=m&&(d.expiredLanes|=q),N&=~q}}function LS(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function dL(){var d=fv;return fv<<=1,(fv&4194240)===0&&(fv=64),d}function IS(d){for(var m=[],g=0;31>g;g++)m.push(d);return m}function C2(d,m,g){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Li(m),d[m]=g}function aY(d,m){var g=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<g;){var k=31-Li(g),N=1<<k;m[k]=0,A[k]=-1,d[k]=-1,g&=~N}}function RS(d,m){var g=d.entangledLanes|=m;for(d=d.entanglements;g;){var A=31-Li(g),k=1<<A;k&m|d[A]&m&&(d[A]|=m),g&=~k}}var ve=0;function uL(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var mL,MS,hL,pL,fL,FS=!1,yv=[],Lc=null,Ic=null,Rc=null,E2=new Map,T2=new Map,Mc=[],rY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gL(d,m){switch(d){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Ic=null;break;case"mouseover":case"mouseout":Rc=null;break;case"pointerover":case"pointerout":E2.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":T2.delete(m.pointerId)}}function D2(d,m,g,A,k,N){return d===null||d.nativeEvent!==N?(d={blockedOn:m,domEventName:g,eventSystemFlags:A,nativeEvent:N,targetContainers:[k]},m!==null&&(m=q2(m),m!==null&&MS(m)),d):(d.eventSystemFlags|=A,m=d.targetContainers,k!==null&&m.indexOf(k)===-1&&m.push(k),d)}function iY(d,m,g,A,k){switch(m){case"focusin":return Lc=D2(Lc,d,m,g,A,k),!0;case"dragenter":return Ic=D2(Ic,d,m,g,A,k),!0;case"mouseover":return Rc=D2(Rc,d,m,g,A,k),!0;case"pointerover":var N=k.pointerId;return E2.set(N,D2(E2.get(N)||null,d,m,g,A,k)),!0;case"gotpointercapture":return N=k.pointerId,T2.set(N,D2(T2.get(N)||null,d,m,g,A,k)),!0}return!1}function xL(d){var m=kd(d.target);if(m!==null){var g=Pd(m);if(g!==null){if(m=g.tag,m===13){if(m=nL(g),m!==null){d.blockedOn=m,fL(d.priority,function(){hL(g)});return}}else if(m===3&&g.stateNode.current.memoizedState.isDehydrated){d.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}d.blockedOn=null}function vv(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var g=GS(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(g===null){g=d.nativeEvent;var A=new g.constructor(g.type,g);ES=A,g.target.dispatchEvent(A),ES=null}else return m=q2(g),m!==null&&MS(m),d.blockedOn=g,!1;m.shift()}return!0}function yL(d,m,g){vv(d)&&g.delete(m)}function oY(){FS=!1,Lc!==null&&vv(Lc)&&(Lc=null),Ic!==null&&vv(Ic)&&(Ic=null),Rc!==null&&vv(Rc)&&(Rc=null),E2.forEach(yL),T2.forEach(yL)}function N2(d,m){d.blockedOn===m&&(d.blockedOn=null,FS||(FS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oY)))}function B2(d){function m(k){return N2(k,d)}if(0<yv.length){N2(yv[0],d);for(var g=1;g<yv.length;g++){var A=yv[g];A.blockedOn===d&&(A.blockedOn=null)}}for(Lc!==null&&N2(Lc,d),Ic!==null&&N2(Ic,d),Rc!==null&&N2(Rc,d),E2.forEach(m),T2.forEach(m),g=0;g<Mc.length;g++)A=Mc[g],A.blockedOn===d&&(A.blockedOn=null);for(;0<Mc.length&&(g=Mc[0],g.blockedOn===null);)xL(g),g.blockedOn===null&&Mc.shift()}var Hm=E.ReactCurrentBatchConfig,bv=!0;function sY(d,m,g,A){var k=ve,N=Hm.transition;Hm.transition=null;try{ve=1,$S(d,m,g,A)}finally{ve=k,Hm.transition=N}}function cY(d,m,g,A){var k=ve,N=Hm.transition;Hm.transition=null;try{ve=4,$S(d,m,g,A)}finally{ve=k,Hm.transition=N}}function $S(d,m,g,A){if(bv){var k=GS(d,m,g,A);if(k===null)r_(d,m,A,wv,g),gL(d,A);else if(iY(k,d,m,g,A))A.stopPropagation();else if(gL(d,A),m&4&&-1<rY.indexOf(d)){for(;k!==null;){var N=q2(k);if(N!==null&&mL(N),N=GS(d,m,g,A),N===null&&r_(d,m,A,wv,g),N===k)break;k=N}k!==null&&A.stopPropagation()}else r_(d,m,A,null,g)}}var wv=null;function GS(d,m,g,A){if(wv=null,d=TS(A),d=kd(d),d!==null)if(m=Pd(d),m===null)d=null;else if(g=m.tag,g===13){if(d=nL(m),d!==null)return d;d=null}else if(g===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return wv=d,null}function vL(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XX()){case OS:return 1;case cL:return 4;case hv:case YX:return 16;case lL:return 536870912;default:return 16}default:return 16}}var Fc=null,US=null,Av=null;function bL(){if(Av)return Av;var d,m=US,g=m.length,A,k="value"in Fc?Fc.value:Fc.textContent,N=k.length;for(d=0;d<g&&m[d]===k[d];d++);var R=g-d;for(A=1;A<=R&&m[g-A]===k[N-A];A++);return Av=k.slice(d,1<A?1-A:void 0)}function Sv(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function _v(){return!0}function wL(){return!1}function wr(d){function m(g,A,k,N,R){this._reactName=g,this._targetInst=k,this.type=A,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var q in d)d.hasOwnProperty(q)&&(g=d[q],this[q]=g?g(N):N[q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?_v:wL,this.isPropagationStopped=wL,this}return nt(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=_v)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=_v)},persist:function(){},isPersistent:_v}),m}var Vm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zS=wr(Vm),j2=nt({},Vm,{view:0,detail:0}),lY=wr(j2),qS,HS,O2,Pv=nt({},j2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WS,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==O2&&(O2&&d.type==="mousemove"?(qS=d.screenX-O2.screenX,HS=d.screenY-O2.screenY):HS=qS=0,O2=d),qS)},movementY:function(d){return"movementY"in d?d.movementY:HS}}),AL=wr(Pv),dY=nt({},Pv,{dataTransfer:0}),uY=wr(dY),mY=nt({},j2,{relatedTarget:0}),VS=wr(mY),hY=nt({},Vm,{animationName:0,elapsedTime:0,pseudoElement:0}),pY=wr(hY),fY=nt({},Vm,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),gY=wr(fY),xY=nt({},Vm,{data:0}),SL=wr(xY),yY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wY(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=bY[d])?!!m[d]:!1}function WS(){return wY}var AY=nt({},j2,{key:function(d){if(d.key){var m=yY[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Sv(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?vY[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WS,charCode:function(d){return d.type==="keypress"?Sv(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Sv(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),SY=wr(AY),_Y=nt({},Pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_L=wr(_Y),PY=nt({},j2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WS}),kY=wr(PY),CY=nt({},Vm,{propertyName:0,elapsedTime:0,pseudoElement:0}),EY=wr(CY),TY=nt({},Pv,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),DY=wr(TY),NY=[9,13,27,32],KS=s&&"CompositionEvent"in window,L2=null;s&&"documentMode"in document&&(L2=document.documentMode);var BY=s&&"TextEvent"in window&&!L2,PL=s&&(!KS||L2&&8<L2&&11>=L2),kL=" ",CL=!1;function EL(d,m){switch(d){case"keyup":return NY.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TL(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Wm=!1;function jY(d,m){switch(d){case"compositionend":return TL(m);case"keypress":return m.which!==32?null:(CL=!0,kL);case"textInput":return d=m.data,d===kL&&CL?null:d;default:return null}}function OY(d,m){if(Wm)return d==="compositionend"||!KS&&EL(d,m)?(d=bL(),Av=US=Fc=null,Wm=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return PL&&m.locale!=="ko"?null:m.data;default:return null}}var LY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DL(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!LY[d.type]:m==="textarea"}function NL(d,m,g,A){QO(A),m=Dv(m,"onChange"),0<m.length&&(g=new zS("onChange","change",null,g,A),d.push({event:g,listeners:m}))}var I2=null,R2=null;function IY(d){XL(d,0)}function kv(d){var m=Jm(d);if(lt(m))return d}function RY(d,m){if(d==="change")return m}var BL=!1;if(s){var XS;if(s){var YS="oninput"in document;if(!YS){var jL=document.createElement("div");jL.setAttribute("oninput","return;"),YS=typeof jL.oninput=="function"}XS=YS}else XS=!1;BL=XS&&(!document.documentMode||9<document.documentMode)}function OL(){I2&&(I2.detachEvent("onpropertychange",LL),R2=I2=null)}function LL(d){if(d.propertyName==="value"&&kv(R2)){var m=[];NL(m,R2,d,TS(d)),eL(IY,m)}}function MY(d,m,g){d==="focusin"?(OL(),I2=m,R2=g,I2.attachEvent("onpropertychange",LL)):d==="focusout"&&OL()}function FY(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return kv(R2)}function $Y(d,m){if(d==="click")return kv(m)}function GY(d,m){if(d==="input"||d==="change")return kv(m)}function UY(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Ii=typeof Object.is=="function"?Object.is:UY;function M2(d,m){if(Ii(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var g=Object.keys(d),A=Object.keys(m);if(g.length!==A.length)return!1;for(A=0;A<g.length;A++){var k=g[A];if(!c.call(m,k)||!Ii(d[k],m[k]))return!1}return!0}function IL(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function RL(d,m){var g=IL(d);d=0;for(var A;g;){if(g.nodeType===3){if(A=d+g.textContent.length,d<=m&&A>=m)return{node:g,offset:m-d};d=A}t:{for(;g;){if(g.nextSibling){g=g.nextSibling;break t}g=g.parentNode}g=void 0}g=IL(g)}}function ML(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?ML(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function FL(){for(var d=window,m=fe();m instanceof d.HTMLIFrameElement;){try{var g=typeof m.contentWindow.location.href=="string"}catch{g=!1}if(g)d=m.contentWindow;else break;m=fe(d.document)}return m}function QS(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function zY(d){var m=FL(),g=d.focusedElem,A=d.selectionRange;if(m!==g&&g&&g.ownerDocument&&ML(g.ownerDocument.documentElement,g)){if(A!==null&&QS(g)){if(m=A.start,d=A.end,d===void 0&&(d=m),"selectionStart"in g)g.selectionStart=m,g.selectionEnd=Math.min(d,g.value.length);else if(d=(m=g.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var k=g.textContent.length,N=Math.min(A.start,k);A=A.end===void 0?N:Math.min(A.end,k),!d.extend&&N>A&&(k=A,A=N,N=k),k=RL(g,N);var R=RL(g,A);k&&R&&(d.rangeCount!==1||d.anchorNode!==k.node||d.anchorOffset!==k.offset||d.focusNode!==R.node||d.focusOffset!==R.offset)&&(m=m.createRange(),m.setStart(k.node,k.offset),d.removeAllRanges(),N>A?(d.addRange(m),d.extend(R.node,R.offset)):(m.setEnd(R.node,R.offset),d.addRange(m)))}}for(m=[],d=g;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<m.length;g++)d=m[g],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var qY=s&&"documentMode"in document&&11>=document.documentMode,Km=null,JS=null,F2=null,ZS=!1;function $L(d,m,g){var A=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ZS||Km==null||Km!==fe(A)||(A=Km,"selectionStart"in A&&QS(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),F2&&M2(F2,A)||(F2=A,A=Dv(JS,"onSelect"),0<A.length&&(m=new zS("onSelect","select",null,m,g),d.push({event:m,listeners:A}),m.target=Km)))}function Cv(d,m){var g={};return g[d.toLowerCase()]=m.toLowerCase(),g["Webkit"+d]="webkit"+m,g["Moz"+d]="moz"+m,g}var Xm={animationend:Cv("Animation","AnimationEnd"),animationiteration:Cv("Animation","AnimationIteration"),animationstart:Cv("Animation","AnimationStart"),transitionend:Cv("Transition","TransitionEnd")},t_={},GL={};s&&(GL=document.createElement("div").style,"AnimationEvent"in window||(delete Xm.animationend.animation,delete Xm.animationiteration.animation,delete Xm.animationstart.animation),"TransitionEvent"in window||delete Xm.transitionend.transition);function Ev(d){if(t_[d])return t_[d];if(!Xm[d])return d;var m=Xm[d],g;for(g in m)if(m.hasOwnProperty(g)&&g in GL)return t_[d]=m[g];return d}var UL=Ev("animationend"),zL=Ev("animationiteration"),qL=Ev("animationstart"),HL=Ev("transitionend"),VL=new Map,WL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $c(d,m){VL.set(d,m),i(m,[d])}for(var e_=0;e_<WL.length;e_++){var n_=WL[e_],HY=n_.toLowerCase(),VY=n_[0].toUpperCase()+n_.slice(1);$c(HY,"on"+VY)}$c(UL,"onAnimationEnd"),$c(zL,"onAnimationIteration"),$c(qL,"onAnimationStart"),$c("dblclick","onDoubleClick"),$c("focusin","onFocus"),$c("focusout","onBlur"),$c(HL,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WY=new Set("cancel close invalid load scroll toggle".split(" ").concat($2));function KL(d,m,g){var A=d.type||"unknown-event";d.currentTarget=g,HX(A,m,void 0,d),d.currentTarget=null}function XL(d,m){m=(m&4)!==0;for(var g=0;g<d.length;g++){var A=d[g],k=A.event;A=A.listeners;t:{var N=void 0;if(m)for(var R=A.length-1;0<=R;R--){var q=A[R],J=q.instance,rt=q.currentTarget;if(q=q.listener,J!==N&&k.isPropagationStopped())break t;KL(k,q,rt),N=J}else for(R=0;R<A.length;R++){if(q=A[R],J=q.instance,rt=q.currentTarget,q=q.listener,J!==N&&k.isPropagationStopped())break t;KL(k,q,rt),N=J}}}if(mv)throw d=jS,mv=!1,jS=null,d}function $e(d,m){var g=m[d_];g===void 0&&(g=m[d_]=new Set);var A=d+"__bubble";g.has(A)||(YL(m,d,2,!1),g.add(A))}function a_(d,m,g){var A=0;m&&(A|=4),YL(g,d,A,m)}var Tv="_reactListening"+Math.random().toString(36).slice(2);function G2(d){if(!d[Tv]){d[Tv]=!0,a.forEach(function(g){g!=="selectionchange"&&(WY.has(g)||a_(g,!1,d),a_(g,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Tv]||(m[Tv]=!0,a_("selectionchange",!1,m))}}function YL(d,m,g,A){switch(vL(m)){case 1:var k=sY;break;case 4:k=cY;break;default:k=$S}g=k.bind(null,m,g,d),k=void 0,!BS||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(k=!0),A?k!==void 0?d.addEventListener(m,g,{capture:!0,passive:k}):d.addEventListener(m,g,!0):k!==void 0?d.addEventListener(m,g,{passive:k}):d.addEventListener(m,g,!1)}function r_(d,m,g,A,k){var N=A;if((m&1)===0&&(m&2)===0&&A!==null)t:for(;;){if(A===null)return;var R=A.tag;if(R===3||R===4){var q=A.stateNode.containerInfo;if(q===k||q.nodeType===8&&q.parentNode===k)break;if(R===4)for(R=A.return;R!==null;){var J=R.tag;if((J===3||J===4)&&(J=R.stateNode.containerInfo,J===k||J.nodeType===8&&J.parentNode===k))return;R=R.return}for(;q!==null;){if(R=kd(q),R===null)return;if(J=R.tag,J===5||J===6){A=N=R;continue t}q=q.parentNode}}A=A.return}eL(function(){var rt=N,mt=TS(g),pt=[];t:{var dt=VL.get(d);if(dt!==void 0){var wt=zS,Dt=d;switch(d){case"keypress":if(Sv(g)===0)break t;case"keydown":case"keyup":wt=SY;break;case"focusin":Dt="focus",wt=VS;break;case"focusout":Dt="blur",wt=VS;break;case"beforeblur":case"afterblur":wt=VS;break;case"click":if(g.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=AL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=uY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=kY;break;case UL:case zL:case qL:wt=pY;break;case HL:wt=EY;break;case"scroll":wt=lY;break;case"wheel":wt=DY;break;case"copy":case"cut":case"paste":wt=gY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=_L}var Bt=(m&4)!==0,gn=!Bt&&d==="scroll",et=Bt?dt!==null?dt+"Capture":null:dt;Bt=[];for(var Z=rt,at;Z!==null;){at=Z;var gt=at.stateNode;if(at.tag===5&&gt!==null&&(at=gt,et!==null&&(gt=S2(Z,et),gt!=null&&Bt.push(U2(Z,gt,at)))),gn)break;Z=Z.return}0<Bt.length&&(dt=new wt(dt,Dt,null,g,mt),pt.push({event:dt,listeners:Bt}))}}if((m&7)===0){t:{if(dt=d==="mouseover"||d==="pointerover",wt=d==="mouseout"||d==="pointerout",dt&&g!==ES&&(Dt=g.relatedTarget||g.fromElement)&&(kd(Dt)||Dt[ps]))break t;if((wt||dt)&&(dt=mt.window===mt?mt:(dt=mt.ownerDocument)?dt.defaultView||dt.parentWindow:window,wt?(Dt=g.relatedTarget||g.toElement,wt=rt,Dt=Dt?kd(Dt):null,Dt!==null&&(gn=Pd(Dt),Dt!==gn||Dt.tag!==5&&Dt.tag!==6)&&(Dt=null)):(wt=null,Dt=rt),wt!==Dt)){if(Bt=AL,gt="onMouseLeave",et="onMouseEnter",Z="mouse",(d==="pointerout"||d==="pointerover")&&(Bt=_L,gt="onPointerLeave",et="onPointerEnter",Z="pointer"),gn=wt==null?dt:Jm(wt),at=Dt==null?dt:Jm(Dt),dt=new Bt(gt,Z+"leave",wt,g,mt),dt.target=gn,dt.relatedTarget=at,gt=null,kd(mt)===rt&&(Bt=new Bt(et,Z+"enter",Dt,g,mt),Bt.target=at,Bt.relatedTarget=gn,gt=Bt),gn=gt,wt&&Dt)e:{for(Bt=wt,et=Dt,Z=0,at=Bt;at;at=Ym(at))Z++;for(at=0,gt=et;gt;gt=Ym(gt))at++;for(;0<Z-at;)Bt=Ym(Bt),Z--;for(;0<at-Z;)et=Ym(et),at--;for(;Z--;){if(Bt===et||et!==null&&Bt===et.alternate)break e;Bt=Ym(Bt),et=Ym(et)}Bt=null}else Bt=null;wt!==null&&QL(pt,dt,wt,Bt,!1),Dt!==null&&gn!==null&&QL(pt,gn,Dt,Bt,!0)}}t:{if(dt=rt?Jm(rt):window,wt=dt.nodeName&&dt.nodeName.toLowerCase(),wt==="select"||wt==="input"&&dt.type==="file")var Lt=RY;else if(DL(dt))if(BL)Lt=GY;else{Lt=FY;var Mt=MY}else(wt=dt.nodeName)&&wt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Lt=$Y);if(Lt&&(Lt=Lt(d,rt))){NL(pt,Lt,g,mt);break t}Mt&&Mt(d,dt,rt),d==="focusout"&&(Mt=dt._wrapperState)&&Mt.controlled&&dt.type==="number"&&xo(dt,"number",dt.value)}switch(Mt=rt?Jm(rt):window,d){case"focusin":(DL(Mt)||Mt.contentEditable==="true")&&(Km=Mt,JS=rt,F2=null);break;case"focusout":F2=JS=Km=null;break;case"mousedown":ZS=!0;break;case"contextmenu":case"mouseup":case"dragend":ZS=!1,$L(pt,g,mt);break;case"selectionchange":if(qY)break;case"keydown":case"keyup":$L(pt,g,mt)}var Ft;if(KS)t:{switch(d){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Wm?EL(d,g)&&(Ht="onCompositionEnd"):d==="keydown"&&g.keyCode===229&&(Ht="onCompositionStart");Ht&&(PL&&g.locale!=="ko"&&(Wm||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Wm&&(Ft=bL()):(Fc=mt,US="value"in Fc?Fc.value:Fc.textContent,Wm=!0)),Mt=Dv(rt,Ht),0<Mt.length&&(Ht=new SL(Ht,d,null,g,mt),pt.push({event:Ht,listeners:Mt}),Ft?Ht.data=Ft:(Ft=TL(g),Ft!==null&&(Ht.data=Ft)))),(Ft=BY?jY(d,g):OY(d,g))&&(rt=Dv(rt,"onBeforeInput"),0<rt.length&&(mt=new SL("onBeforeInput","beforeinput",null,g,mt),pt.push({event:mt,listeners:rt}),mt.data=Ft))}XL(pt,m)})}function U2(d,m,g){return{instance:d,listener:m,currentTarget:g}}function Dv(d,m){for(var g=m+"Capture",A=[];d!==null;){var k=d,N=k.stateNode;k.tag===5&&N!==null&&(k=N,N=S2(d,g),N!=null&&A.unshift(U2(d,N,k)),N=S2(d,m),N!=null&&A.push(U2(d,N,k))),d=d.return}return A}function Ym(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function QL(d,m,g,A,k){for(var N=m._reactName,R=[];g!==null&&g!==A;){var q=g,J=q.alternate,rt=q.stateNode;if(J!==null&&J===A)break;q.tag===5&&rt!==null&&(q=rt,k?(J=S2(g,N),J!=null&&R.unshift(U2(g,J,q))):k||(J=S2(g,N),J!=null&&R.push(U2(g,J,q)))),g=g.return}R.length!==0&&d.push({event:m,listeners:R})}var KY=/\r\n?/g,XY=/\u0000|\uFFFD/g;function JL(d){return(typeof d=="string"?d:""+d).replace(KY,`
`).replace(XY,"")}function Nv(d,m,g){if(m=JL(m),JL(d)!==m&&g)throw Error(e(425))}function Bv(){}var i_=null,o_=null;function s_(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var c_=typeof setTimeout=="function"?setTimeout:void 0,YY=typeof clearTimeout=="function"?clearTimeout:void 0,ZL=typeof Promise=="function"?Promise:void 0,QY=typeof queueMicrotask=="function"?queueMicrotask:typeof ZL<"u"?function(d){return ZL.resolve(null).then(d).catch(JY)}:c_;function JY(d){setTimeout(function(){throw d})}function l_(d,m){var g=m,A=0;do{var k=g.nextSibling;if(d.removeChild(g),k&&k.nodeType===8)if(g=k.data,g==="/$"){if(A===0){d.removeChild(k),B2(m);return}A--}else g!=="$"&&g!=="$?"&&g!=="$!"||A++;g=k}while(g);B2(m)}function Gc(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function tI(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var g=d.data;if(g==="$"||g==="$!"||g==="$?"){if(m===0)return d;m--}else g==="/$"&&m++}d=d.previousSibling}return null}var Qm=Math.random().toString(36).slice(2),bo="__reactFiber$"+Qm,z2="__reactProps$"+Qm,ps="__reactContainer$"+Qm,d_="__reactEvents$"+Qm,ZY="__reactListeners$"+Qm,tQ="__reactHandles$"+Qm;function kd(d){var m=d[bo];if(m)return m;for(var g=d.parentNode;g;){if(m=g[ps]||g[bo]){if(g=m.alternate,m.child!==null||g!==null&&g.child!==null)for(d=tI(d);d!==null;){if(g=d[bo])return g;d=tI(d)}return m}d=g,g=d.parentNode}return null}function q2(d){return d=d[bo]||d[ps],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Jm(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(e(33))}function jv(d){return d[z2]||null}var u_=[],Zm=-1;function Uc(d){return{current:d}}function Ge(d){0>Zm||(d.current=u_[Zm],u_[Zm]=null,Zm--)}function Oe(d,m){Zm++,u_[Zm]=d.current,d.current=m}var zc={},va=Uc(zc),Za=Uc(!1),Cd=zc;function th(d,m){var g=d.type.contextTypes;if(!g)return zc;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var k={},N;for(N in g)k[N]=m[N];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=k),k}function tr(d){return d=d.childContextTypes,d!=null}function Ov(){Ge(Za),Ge(va)}function eI(d,m,g){if(va.current!==zc)throw Error(e(168));Oe(va,m),Oe(Za,g)}function nI(d,m,g){var A=d.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return g;A=A.getChildContext();for(var k in A)if(!(k in m))throw Error(e(108,bt(d)||"Unknown",k));return nt({},g,A)}function Lv(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||zc,Cd=va.current,Oe(va,d),Oe(Za,Za.current),!0}function aI(d,m,g){var A=d.stateNode;if(!A)throw Error(e(169));g?(d=nI(d,m,Cd),A.__reactInternalMemoizedMergedChildContext=d,Ge(Za),Ge(va),Oe(va,d)):Ge(Za),Oe(Za,g)}var fs=null,Iv=!1,m_=!1;function rI(d){fs===null?fs=[d]:fs.push(d)}function eQ(d){Iv=!0,rI(d)}function qc(){if(!m_&&fs!==null){m_=!0;var d=0,m=ve;try{var g=fs;for(ve=1;d<g.length;d++){var A=g[d];do A=A(!0);while(A!==null)}fs=null,Iv=!1}catch(k){throw fs!==null&&(fs=fs.slice(d+1)),oL(OS,qc),k}finally{ve=m,m_=!1}}return null}var eh=[],nh=0,Rv=null,Mv=0,ti=[],ei=0,Ed=null,gs=1,xs="";function Td(d,m){eh[nh++]=Mv,eh[nh++]=Rv,Rv=d,Mv=m}function iI(d,m,g){ti[ei++]=gs,ti[ei++]=xs,ti[ei++]=Ed,Ed=d;var A=gs;d=xs;var k=32-Li(A)-1;A&=~(1<<k),g+=1;var N=32-Li(m)+k;if(30<N){var R=k-k%5;N=(A&(1<<R)-1).toString(32),A>>=R,k-=R,gs=1<<32-Li(m)+k|g<<k|A,xs=N+d}else gs=1<<N|g<<k|A,xs=d}function h_(d){d.return!==null&&(Td(d,1),iI(d,1,0))}function p_(d){for(;d===Rv;)Rv=eh[--nh],eh[nh]=null,Mv=eh[--nh],eh[nh]=null;for(;d===Ed;)Ed=ti[--ei],ti[ei]=null,xs=ti[--ei],ti[ei]=null,gs=ti[--ei],ti[ei]=null}var Ar=null,Sr=null,He=!1,Ri=null;function oI(d,m){var g=ii(5,null,null,0);g.elementType="DELETED",g.stateNode=m,g.return=d,m=d.deletions,m===null?(d.deletions=[g],d.flags|=16):m.push(g)}function sI(d,m){switch(d.tag){case 5:var g=d.type;return m=m.nodeType!==1||g.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Ar=d,Sr=Gc(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Ar=d,Sr=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(g=Ed!==null?{id:gs,overflow:xs}:null,d.memoizedState={dehydrated:m,treeContext:g,retryLane:1073741824},g=ii(18,null,null,0),g.stateNode=m,g.return=d,d.child=g,Ar=d,Sr=null,!0):!1;default:return!1}}function f_(d){return(d.mode&1)!==0&&(d.flags&128)===0}function g_(d){if(He){var m=Sr;if(m){var g=m;if(!sI(d,m)){if(f_(d))throw Error(e(418));m=Gc(g.nextSibling);var A=Ar;m&&sI(d,m)?oI(A,g):(d.flags=d.flags&-4097|2,He=!1,Ar=d)}}else{if(f_(d))throw Error(e(418));d.flags=d.flags&-4097|2,He=!1,Ar=d}}}function cI(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ar=d}function Fv(d){if(d!==Ar)return!1;if(!He)return cI(d),He=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!s_(d.type,d.memoizedProps)),m&&(m=Sr)){if(f_(d))throw lI(),Error(e(418));for(;m;)oI(d,m),m=Gc(m.nextSibling)}if(cI(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(e(317));t:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var g=d.data;if(g==="/$"){if(m===0){Sr=Gc(d.nextSibling);break t}m--}else g!=="$"&&g!=="$!"&&g!=="$?"||m++}d=d.nextSibling}Sr=null}}else Sr=Ar?Gc(d.stateNode.nextSibling):null;return!0}function lI(){for(var d=Sr;d;)d=Gc(d.nextSibling)}function ah(){Sr=Ar=null,He=!1}function x_(d){Ri===null?Ri=[d]:Ri.push(d)}var nQ=E.ReactCurrentBatchConfig;function H2(d,m,g){if(d=g.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(e(309));var A=g.stateNode}if(!A)throw Error(e(147,d));var k=A,N=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===N?m.ref:(m=function(R){var q=k.refs;R===null?delete q[N]:q[N]=R},m._stringRef=N,m)}if(typeof d!="string")throw Error(e(284));if(!g._owner)throw Error(e(290,d))}return d}function $v(d,m){throw d=Object.prototype.toString.call(m),Error(e(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function dI(d){var m=d._init;return m(d._payload)}function uI(d){function m(et,Z){if(d){var at=et.deletions;at===null?(et.deletions=[Z],et.flags|=16):at.push(Z)}}function g(et,Z){if(!d)return null;for(;Z!==null;)m(et,Z),Z=Z.sibling;return null}function A(et,Z){for(et=new Map;Z!==null;)Z.key!==null?et.set(Z.key,Z):et.set(Z.index,Z),Z=Z.sibling;return et}function k(et,Z){return et=Jc(et,Z),et.index=0,et.sibling=null,et}function N(et,Z,at){return et.index=at,d?(at=et.alternate,at!==null?(at=at.index,at<Z?(et.flags|=2,Z):at):(et.flags|=2,Z)):(et.flags|=1048576,Z)}function R(et){return d&&et.alternate===null&&(et.flags|=2),et}function q(et,Z,at,gt){return Z===null||Z.tag!==6?(Z=cP(at,et.mode,gt),Z.return=et,Z):(Z=k(Z,at),Z.return=et,Z)}function J(et,Z,at,gt){var Lt=at.type;return Lt===B?mt(et,Z,at.props.children,gt,at.key):Z!==null&&(Z.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Q&&dI(Lt)===Z.type)?(gt=k(Z,at.props),gt.ref=H2(et,Z,at),gt.return=et,gt):(gt=db(at.type,at.key,at.props,null,et.mode,gt),gt.ref=H2(et,Z,at),gt.return=et,gt)}function rt(et,Z,at,gt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==at.containerInfo||Z.stateNode.implementation!==at.implementation?(Z=lP(at,et.mode,gt),Z.return=et,Z):(Z=k(Z,at.children||[]),Z.return=et,Z)}function mt(et,Z,at,gt,Lt){return Z===null||Z.tag!==7?(Z=Rd(at,et.mode,gt,Lt),Z.return=et,Z):(Z=k(Z,at),Z.return=et,Z)}function pt(et,Z,at){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=cP(""+Z,et.mode,at),Z.return=et,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return at=db(Z.type,Z.key,Z.props,null,et.mode,at),at.ref=H2(et,null,Z),at.return=et,at;case T:return Z=lP(Z,et.mode,at),Z.return=et,Z;case Q:var gt=Z._init;return pt(et,gt(Z._payload),at)}if(yo(Z)||tt(Z))return Z=Rd(Z,et.mode,at,null),Z.return=et,Z;$v(et,Z)}return null}function dt(et,Z,at,gt){var Lt=Z!==null?Z.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return Lt!==null?null:q(et,Z,""+at,gt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case C:return at.key===Lt?J(et,Z,at,gt):null;case T:return at.key===Lt?rt(et,Z,at,gt):null;case Q:return Lt=at._init,dt(et,Z,Lt(at._payload),gt)}if(yo(at)||tt(at))return Lt!==null?null:mt(et,Z,at,gt,null);$v(et,at)}return null}function wt(et,Z,at,gt,Lt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return et=et.get(at)||null,q(Z,et,""+gt,Lt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case C:return et=et.get(gt.key===null?at:gt.key)||null,J(Z,et,gt,Lt);case T:return et=et.get(gt.key===null?at:gt.key)||null,rt(Z,et,gt,Lt);case Q:var Mt=gt._init;return wt(et,Z,at,Mt(gt._payload),Lt)}if(yo(gt)||tt(gt))return et=et.get(at)||null,mt(Z,et,gt,Lt,null);$v(Z,gt)}return null}function Dt(et,Z,at,gt){for(var Lt=null,Mt=null,Ft=Z,Ht=Z=0,Wn=null;Ft!==null&&Ht<at.length;Ht++){Ft.index>Ht?(Wn=Ft,Ft=null):Wn=Ft.sibling;var me=dt(et,Ft,at[Ht],gt);if(me===null){Ft===null&&(Ft=Wn);break}d&&Ft&&me.alternate===null&&m(et,Ft),Z=N(me,Z,Ht),Mt===null?Lt=me:Mt.sibling=me,Mt=me,Ft=Wn}if(Ht===at.length)return g(et,Ft),He&&Td(et,Ht),Lt;if(Ft===null){for(;Ht<at.length;Ht++)Ft=pt(et,at[Ht],gt),Ft!==null&&(Z=N(Ft,Z,Ht),Mt===null?Lt=Ft:Mt.sibling=Ft,Mt=Ft);return He&&Td(et,Ht),Lt}for(Ft=A(et,Ft);Ht<at.length;Ht++)Wn=wt(Ft,et,Ht,at[Ht],gt),Wn!==null&&(d&&Wn.alternate!==null&&Ft.delete(Wn.key===null?Ht:Wn.key),Z=N(Wn,Z,Ht),Mt===null?Lt=Wn:Mt.sibling=Wn,Mt=Wn);return d&&Ft.forEach(function(Zc){return m(et,Zc)}),He&&Td(et,Ht),Lt}function Bt(et,Z,at,gt){var Lt=tt(at);if(typeof Lt!="function")throw Error(e(150));if(at=Lt.call(at),at==null)throw Error(e(151));for(var Mt=Lt=null,Ft=Z,Ht=Z=0,Wn=null,me=at.next();Ft!==null&&!me.done;Ht++,me=at.next()){Ft.index>Ht?(Wn=Ft,Ft=null):Wn=Ft.sibling;var Zc=dt(et,Ft,me.value,gt);if(Zc===null){Ft===null&&(Ft=Wn);break}d&&Ft&&Zc.alternate===null&&m(et,Ft),Z=N(Zc,Z,Ht),Mt===null?Lt=Zc:Mt.sibling=Zc,Mt=Zc,Ft=Wn}if(me.done)return g(et,Ft),He&&Td(et,Ht),Lt;if(Ft===null){for(;!me.done;Ht++,me=at.next())me=pt(et,me.value,gt),me!==null&&(Z=N(me,Z,Ht),Mt===null?Lt=me:Mt.sibling=me,Mt=me);return He&&Td(et,Ht),Lt}for(Ft=A(et,Ft);!me.done;Ht++,me=at.next())me=wt(Ft,et,Ht,me.value,gt),me!==null&&(d&&me.alternate!==null&&Ft.delete(me.key===null?Ht:me.key),Z=N(me,Z,Ht),Mt===null?Lt=me:Mt.sibling=me,Mt=me);return d&&Ft.forEach(function(LQ){return m(et,LQ)}),He&&Td(et,Ht),Lt}function gn(et,Z,at,gt){if(typeof at=="object"&&at!==null&&at.type===B&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case C:t:{for(var Lt=at.key,Mt=Z;Mt!==null;){if(Mt.key===Lt){if(Lt=at.type,Lt===B){if(Mt.tag===7){g(et,Mt.sibling),Z=k(Mt,at.props.children),Z.return=et,et=Z;break t}}else if(Mt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Q&&dI(Lt)===Mt.type){g(et,Mt.sibling),Z=k(Mt,at.props),Z.ref=H2(et,Mt,at),Z.return=et,et=Z;break t}g(et,Mt);break}else m(et,Mt);Mt=Mt.sibling}at.type===B?(Z=Rd(at.props.children,et.mode,gt,at.key),Z.return=et,et=Z):(gt=db(at.type,at.key,at.props,null,et.mode,gt),gt.ref=H2(et,Z,at),gt.return=et,et=gt)}return R(et);case T:t:{for(Mt=at.key;Z!==null;){if(Z.key===Mt)if(Z.tag===4&&Z.stateNode.containerInfo===at.containerInfo&&Z.stateNode.implementation===at.implementation){g(et,Z.sibling),Z=k(Z,at.children||[]),Z.return=et,et=Z;break t}else{g(et,Z);break}else m(et,Z);Z=Z.sibling}Z=lP(at,et.mode,gt),Z.return=et,et=Z}return R(et);case Q:return Mt=at._init,gn(et,Z,Mt(at._payload),gt)}if(yo(at))return Dt(et,Z,at,gt);if(tt(at))return Bt(et,Z,at,gt);$v(et,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,Z!==null&&Z.tag===6?(g(et,Z.sibling),Z=k(Z,at),Z.return=et,et=Z):(g(et,Z),Z=cP(at,et.mode,gt),Z.return=et,et=Z),R(et)):g(et,Z)}return gn}var rh=uI(!0),mI=uI(!1),Gv=Uc(null),Uv=null,ih=null,y_=null;function v_(){y_=ih=Uv=null}function b_(d){var m=Gv.current;Ge(Gv),d._currentValue=m}function w_(d,m,g){for(;d!==null;){var A=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),d===g)break;d=d.return}}function oh(d,m){Uv=d,y_=ih=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(er=!0),d.firstContext=null)}function ni(d){var m=d._currentValue;if(y_!==d)if(d={context:d,memoizedValue:m,next:null},ih===null){if(Uv===null)throw Error(e(308));ih=d,Uv.dependencies={lanes:0,firstContext:d}}else ih=ih.next=d;return m}var Dd=null;function A_(d){Dd===null?Dd=[d]:Dd.push(d)}function hI(d,m,g,A){var k=m.interleaved;return k===null?(g.next=g,A_(m)):(g.next=k.next,k.next=g),m.interleaved=g,ys(d,A)}function ys(d,m){d.lanes|=m;var g=d.alternate;for(g!==null&&(g.lanes|=m),g=d,d=d.return;d!==null;)d.childLanes|=m,g=d.alternate,g!==null&&(g.childLanes|=m),g=d,d=d.return;return g.tag===3?g.stateNode:null}var Hc=!1;function S_(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pI(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function vs(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Vc(d,m,g){var A=d.updateQueue;if(A===null)return null;if(A=A.shared,(le&2)!==0){var k=A.pending;return k===null?m.next=m:(m.next=k.next,k.next=m),A.pending=m,ys(d,g)}return k=A.interleaved,k===null?(m.next=m,A_(A)):(m.next=k.next,k.next=m),A.interleaved=m,ys(d,g)}function zv(d,m,g){if(m=m.updateQueue,m!==null&&(m=m.shared,(g&4194240)!==0)){var A=m.lanes;A&=d.pendingLanes,g|=A,m.lanes=g,RS(d,g)}}function fI(d,m){var g=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,g===A)){var k=null,N=null;if(g=g.firstBaseUpdate,g!==null){do{var R={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};N===null?k=N=R:N=N.next=R,g=g.next}while(g!==null);N===null?k=N=m:N=N.next=m}else k=N=m;g={baseState:A.baseState,firstBaseUpdate:k,lastBaseUpdate:N,shared:A.shared,effects:A.effects},d.updateQueue=g;return}d=g.lastBaseUpdate,d===null?g.firstBaseUpdate=m:d.next=m,g.lastBaseUpdate=m}function qv(d,m,g,A){var k=d.updateQueue;Hc=!1;var N=k.firstBaseUpdate,R=k.lastBaseUpdate,q=k.shared.pending;if(q!==null){k.shared.pending=null;var J=q,rt=J.next;J.next=null,R===null?N=rt:R.next=rt,R=J;var mt=d.alternate;mt!==null&&(mt=mt.updateQueue,q=mt.lastBaseUpdate,q!==R&&(q===null?mt.firstBaseUpdate=rt:q.next=rt,mt.lastBaseUpdate=J))}if(N!==null){var pt=k.baseState;R=0,mt=rt=J=null,q=N;do{var dt=q.lane,wt=q.eventTime;if((A&dt)===dt){mt!==null&&(mt=mt.next={eventTime:wt,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});t:{var Dt=d,Bt=q;switch(dt=m,wt=g,Bt.tag){case 1:if(Dt=Bt.payload,typeof Dt=="function"){pt=Dt.call(wt,pt,dt);break t}pt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Bt.payload,dt=typeof Dt=="function"?Dt.call(wt,pt,dt):Dt,dt==null)break t;pt=nt({},pt,dt);break t;case 2:Hc=!0}}q.callback!==null&&q.lane!==0&&(d.flags|=64,dt=k.effects,dt===null?k.effects=[q]:dt.push(q))}else wt={eventTime:wt,lane:dt,tag:q.tag,payload:q.payload,callback:q.callback,next:null},mt===null?(rt=mt=wt,J=pt):mt=mt.next=wt,R|=dt;if(q=q.next,q===null){if(q=k.shared.pending,q===null)break;dt=q,q=dt.next,dt.next=null,k.lastBaseUpdate=dt,k.shared.pending=null}}while(!0);if(mt===null&&(J=pt),k.baseState=J,k.firstBaseUpdate=rt,k.lastBaseUpdate=mt,m=k.shared.interleaved,m!==null){k=m;do R|=k.lane,k=k.next;while(k!==m)}else N===null&&(k.shared.lanes=0);jd|=R,d.lanes=R,d.memoizedState=pt}}function gI(d,m,g){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var A=d[m],k=A.callback;if(k!==null){if(A.callback=null,A=g,typeof k!="function")throw Error(e(191,k));k.call(A)}}}var V2={},wo=Uc(V2),W2=Uc(V2),K2=Uc(V2);function Nd(d){if(d===V2)throw Error(e(174));return d}function __(d,m){switch(Oe(K2,m),Oe(W2,d),Oe(wo,V2),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:PS(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=PS(m,d)}Ge(wo),Oe(wo,m)}function sh(){Ge(wo),Ge(W2),Ge(K2)}function xI(d){Nd(K2.current);var m=Nd(wo.current),g=PS(m,d.type);m!==g&&(Oe(W2,d),Oe(wo,g))}function P_(d){W2.current===d&&(Ge(wo),Ge(W2))}var Qe=Uc(0);function Hv(d){for(var m=d;m!==null;){if(m.tag===13){var g=m.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var k_=[];function C_(){for(var d=0;d<k_.length;d++)k_[d]._workInProgressVersionPrimary=null;k_.length=0}var Vv=E.ReactCurrentDispatcher,E_=E.ReactCurrentBatchConfig,Bd=0,Je=null,Dn=null,Hn=null,Wv=!1,X2=!1,Y2=0,aQ=0;function ba(){throw Error(e(321))}function T_(d,m){if(m===null)return!1;for(var g=0;g<m.length&&g<d.length;g++)if(!Ii(d[g],m[g]))return!1;return!0}function D_(d,m,g,A,k,N){if(Bd=N,Je=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Vv.current=d===null||d.memoizedState===null?sQ:cQ,d=g(A,k),X2){N=0;do{if(X2=!1,Y2=0,25<=N)throw Error(e(301));N+=1,Hn=Dn=null,m.updateQueue=null,Vv.current=lQ,d=g(A,k)}while(X2)}if(Vv.current=Yv,m=Dn!==null&&Dn.next!==null,Bd=0,Hn=Dn=Je=null,Wv=!1,m)throw Error(e(300));return d}function N_(){var d=Y2!==0;return Y2=0,d}function Ao(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Je.memoizedState=Hn=d:Hn=Hn.next=d,Hn}function ai(){if(Dn===null){var d=Je.alternate;d=d!==null?d.memoizedState:null}else d=Dn.next;var m=Hn===null?Je.memoizedState:Hn.next;if(m!==null)Hn=m,Dn=d;else{if(d===null)throw Error(e(310));Dn=d,d={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Hn===null?Je.memoizedState=Hn=d:Hn=Hn.next=d}return Hn}function Q2(d,m){return typeof m=="function"?m(d):m}function B_(d){var m=ai(),g=m.queue;if(g===null)throw Error(e(311));g.lastRenderedReducer=d;var A=Dn,k=A.baseQueue,N=g.pending;if(N!==null){if(k!==null){var R=k.next;k.next=N.next,N.next=R}A.baseQueue=k=N,g.pending=null}if(k!==null){N=k.next,A=A.baseState;var q=R=null,J=null,rt=N;do{var mt=rt.lane;if((Bd&mt)===mt)J!==null&&(J=J.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),A=rt.hasEagerState?rt.eagerState:d(A,rt.action);else{var pt={lane:mt,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};J===null?(q=J=pt,R=A):J=J.next=pt,Je.lanes|=mt,jd|=mt}rt=rt.next}while(rt!==null&&rt!==N);J===null?R=A:J.next=q,Ii(A,m.memoizedState)||(er=!0),m.memoizedState=A,m.baseState=R,m.baseQueue=J,g.lastRenderedState=A}if(d=g.interleaved,d!==null){k=d;do N=k.lane,Je.lanes|=N,jd|=N,k=k.next;while(k!==d)}else k===null&&(g.lanes=0);return[m.memoizedState,g.dispatch]}function j_(d){var m=ai(),g=m.queue;if(g===null)throw Error(e(311));g.lastRenderedReducer=d;var A=g.dispatch,k=g.pending,N=m.memoizedState;if(k!==null){g.pending=null;var R=k=k.next;do N=d(N,R.action),R=R.next;while(R!==k);Ii(N,m.memoizedState)||(er=!0),m.memoizedState=N,m.baseQueue===null&&(m.baseState=N),g.lastRenderedState=N}return[N,A]}function yI(){}function vI(d,m){var g=Je,A=ai(),k=m(),N=!Ii(A.memoizedState,k);if(N&&(A.memoizedState=k,er=!0),A=A.queue,O_(AI.bind(null,g,A,d),[d]),A.getSnapshot!==m||N||Hn!==null&&Hn.memoizedState.tag&1){if(g.flags|=2048,J2(9,wI.bind(null,g,A,k,m),void 0,null),Vn===null)throw Error(e(349));(Bd&30)!==0||bI(g,m,k)}return k}function bI(d,m,g){d.flags|=16384,d={getSnapshot:m,value:g},m=Je.updateQueue,m===null?(m={lastEffect:null,stores:null},Je.updateQueue=m,m.stores=[d]):(g=m.stores,g===null?m.stores=[d]:g.push(d))}function wI(d,m,g,A){m.value=g,m.getSnapshot=A,SI(m)&&_I(d)}function AI(d,m,g){return g(function(){SI(m)&&_I(d)})}function SI(d){var m=d.getSnapshot;d=d.value;try{var g=m();return!Ii(d,g)}catch{return!0}}function _I(d){var m=ys(d,1);m!==null&&Gi(m,d,1,-1)}function PI(d){var m=Ao();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Q2,lastRenderedState:d},m.queue=d,d=d.dispatch=oQ.bind(null,Je,d),[m.memoizedState,d]}function J2(d,m,g,A){return d={tag:d,create:m,destroy:g,deps:A,next:null},m=Je.updateQueue,m===null?(m={lastEffect:null,stores:null},Je.updateQueue=m,m.lastEffect=d.next=d):(g=m.lastEffect,g===null?m.lastEffect=d.next=d:(A=g.next,g.next=d,d.next=A,m.lastEffect=d)),d}function kI(){return ai().memoizedState}function Kv(d,m,g,A){var k=Ao();Je.flags|=d,k.memoizedState=J2(1|m,g,void 0,A===void 0?null:A)}function Xv(d,m,g,A){var k=ai();A=A===void 0?null:A;var N=void 0;if(Dn!==null){var R=Dn.memoizedState;if(N=R.destroy,A!==null&&T_(A,R.deps)){k.memoizedState=J2(m,g,N,A);return}}Je.flags|=d,k.memoizedState=J2(1|m,g,N,A)}function CI(d,m){return Kv(8390656,8,d,m)}function O_(d,m){return Xv(2048,8,d,m)}function EI(d,m){return Xv(4,2,d,m)}function TI(d,m){return Xv(4,4,d,m)}function DI(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function NI(d,m,g){return g=g!=null?g.concat([d]):null,Xv(4,4,DI.bind(null,m,d),g)}function L_(){}function BI(d,m){var g=ai();m=m===void 0?null:m;var A=g.memoizedState;return A!==null&&m!==null&&T_(m,A[1])?A[0]:(g.memoizedState=[d,m],d)}function jI(d,m){var g=ai();m=m===void 0?null:m;var A=g.memoizedState;return A!==null&&m!==null&&T_(m,A[1])?A[0]:(d=d(),g.memoizedState=[d,m],d)}function OI(d,m,g){return(Bd&21)===0?(d.baseState&&(d.baseState=!1,er=!0),d.memoizedState=g):(Ii(g,m)||(g=dL(),Je.lanes|=g,jd|=g,d.baseState=!0),m)}function rQ(d,m){var g=ve;ve=g!==0&&4>g?g:4,d(!0);var A=E_.transition;E_.transition={};try{d(!1),m()}finally{ve=g,E_.transition=A}}function LI(){return ai().memoizedState}function iQ(d,m,g){var A=Yc(d);if(g={lane:A,action:g,hasEagerState:!1,eagerState:null,next:null},II(d))RI(m,g);else if(g=hI(d,m,g,A),g!==null){var k=Ma();Gi(g,d,A,k),MI(g,m,A)}}function oQ(d,m,g){var A=Yc(d),k={lane:A,action:g,hasEagerState:!1,eagerState:null,next:null};if(II(d))RI(m,k);else{var N=d.alternate;if(d.lanes===0&&(N===null||N.lanes===0)&&(N=m.lastRenderedReducer,N!==null))try{var R=m.lastRenderedState,q=N(R,g);if(k.hasEagerState=!0,k.eagerState=q,Ii(q,R)){var J=m.interleaved;J===null?(k.next=k,A_(m)):(k.next=J.next,J.next=k),m.interleaved=k;return}}catch{}finally{}g=hI(d,m,k,A),g!==null&&(k=Ma(),Gi(g,d,A,k),MI(g,m,A))}}function II(d){var m=d.alternate;return d===Je||m!==null&&m===Je}function RI(d,m){X2=Wv=!0;var g=d.pending;g===null?m.next=m:(m.next=g.next,g.next=m),d.pending=m}function MI(d,m,g){if((g&4194240)!==0){var A=m.lanes;A&=d.pendingLanes,g|=A,m.lanes=g,RS(d,g)}}var Yv={readContext:ni,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},sQ={readContext:ni,useCallback:function(d,m){return Ao().memoizedState=[d,m===void 0?null:m],d},useContext:ni,useEffect:CI,useImperativeHandle:function(d,m,g){return g=g!=null?g.concat([d]):null,Kv(4194308,4,DI.bind(null,m,d),g)},useLayoutEffect:function(d,m){return Kv(4194308,4,d,m)},useInsertionEffect:function(d,m){return Kv(4,2,d,m)},useMemo:function(d,m){var g=Ao();return m=m===void 0?null:m,d=d(),g.memoizedState=[d,m],d},useReducer:function(d,m,g){var A=Ao();return m=g!==void 0?g(m):m,A.memoizedState=A.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},A.queue=d,d=d.dispatch=iQ.bind(null,Je,d),[A.memoizedState,d]},useRef:function(d){var m=Ao();return d={current:d},m.memoizedState=d},useState:PI,useDebugValue:L_,useDeferredValue:function(d){return Ao().memoizedState=d},useTransition:function(){var d=PI(!1),m=d[0];return d=rQ.bind(null,d[1]),Ao().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,g){var A=Je,k=Ao();if(He){if(g===void 0)throw Error(e(407));g=g()}else{if(g=m(),Vn===null)throw Error(e(349));(Bd&30)!==0||bI(A,m,g)}k.memoizedState=g;var N={value:g,getSnapshot:m};return k.queue=N,CI(AI.bind(null,A,N,d),[d]),A.flags|=2048,J2(9,wI.bind(null,A,N,g,m),void 0,null),g},useId:function(){var d=Ao(),m=Vn.identifierPrefix;if(He){var g=xs,A=gs;g=(A&~(1<<32-Li(A)-1)).toString(32)+g,m=":"+m+"R"+g,g=Y2++,0<g&&(m+="H"+g.toString(32)),m+=":"}else g=aQ++,m=":"+m+"r"+g.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},cQ={readContext:ni,useCallback:BI,useContext:ni,useEffect:O_,useImperativeHandle:NI,useInsertionEffect:EI,useLayoutEffect:TI,useMemo:jI,useReducer:B_,useRef:kI,useState:function(){return B_(Q2)},useDebugValue:L_,useDeferredValue:function(d){var m=ai();return OI(m,Dn.memoizedState,d)},useTransition:function(){var d=B_(Q2)[0],m=ai().memoizedState;return[d,m]},useMutableSource:yI,useSyncExternalStore:vI,useId:LI,unstable_isNewReconciler:!1},lQ={readContext:ni,useCallback:BI,useContext:ni,useEffect:O_,useImperativeHandle:NI,useInsertionEffect:EI,useLayoutEffect:TI,useMemo:jI,useReducer:j_,useRef:kI,useState:function(){return j_(Q2)},useDebugValue:L_,useDeferredValue:function(d){var m=ai();return Dn===null?m.memoizedState=d:OI(m,Dn.memoizedState,d)},useTransition:function(){var d=j_(Q2)[0],m=ai().memoizedState;return[d,m]},useMutableSource:yI,useSyncExternalStore:vI,useId:LI,unstable_isNewReconciler:!1};function Mi(d,m){if(d&&d.defaultProps){m=nt({},m),d=d.defaultProps;for(var g in d)m[g]===void 0&&(m[g]=d[g]);return m}return m}function I_(d,m,g,A){m=d.memoizedState,g=g(A,m),g=g==null?m:nt({},m,g),d.memoizedState=g,d.lanes===0&&(d.updateQueue.baseState=g)}var Qv={isMounted:function(d){return(d=d._reactInternals)?Pd(d)===d:!1},enqueueSetState:function(d,m,g){d=d._reactInternals;var A=Ma(),k=Yc(d),N=vs(A,k);N.payload=m,g!=null&&(N.callback=g),m=Vc(d,N,k),m!==null&&(Gi(m,d,k,A),zv(m,d,k))},enqueueReplaceState:function(d,m,g){d=d._reactInternals;var A=Ma(),k=Yc(d),N=vs(A,k);N.tag=1,N.payload=m,g!=null&&(N.callback=g),m=Vc(d,N,k),m!==null&&(Gi(m,d,k,A),zv(m,d,k))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var g=Ma(),A=Yc(d),k=vs(g,A);k.tag=2,m!=null&&(k.callback=m),m=Vc(d,k,A),m!==null&&(Gi(m,d,A,g),zv(m,d,A))}};function FI(d,m,g,A,k,N,R){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,N,R):m.prototype&&m.prototype.isPureReactComponent?!M2(g,A)||!M2(k,N):!0}function $I(d,m,g){var A=!1,k=zc,N=m.contextType;return typeof N=="object"&&N!==null?N=ni(N):(k=tr(m)?Cd:va.current,A=m.contextTypes,N=(A=A!=null)?th(d,k):zc),m=new m(g,N),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qv,d.stateNode=m,m._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=k,d.__reactInternalMemoizedMaskedChildContext=N),m}function GI(d,m,g,A){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(g,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(g,A),m.state!==d&&Qv.enqueueReplaceState(m,m.state,null)}function R_(d,m,g,A){var k=d.stateNode;k.props=g,k.state=d.memoizedState,k.refs={},S_(d);var N=m.contextType;typeof N=="object"&&N!==null?k.context=ni(N):(N=tr(m)?Cd:va.current,k.context=th(d,N)),k.state=d.memoizedState,N=m.getDerivedStateFromProps,typeof N=="function"&&(I_(d,m,N,g),k.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(m=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),m!==k.state&&Qv.enqueueReplaceState(k,k.state,null),qv(d,g,k,A),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308)}function ch(d,m){try{var g="",A=m;do g+=ct(A),A=A.return;while(A);var k=g}catch(N){k=`
Error generating stack: `+N.message+`
`+N.stack}return{value:d,source:m,stack:k,digest:null}}function M_(d,m,g){return{value:d,source:null,stack:g??null,digest:m??null}}function F_(d,m){try{console.error(m.value)}catch(g){setTimeout(function(){throw g})}}var dQ=typeof WeakMap=="function"?WeakMap:Map;function UI(d,m,g){g=vs(-1,g),g.tag=3,g.payload={element:null};var A=m.value;return g.callback=function(){rb||(rb=!0,tP=A),F_(d,m)},g}function zI(d,m,g){g=vs(-1,g),g.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var k=m.value;g.payload=function(){return A(k)},g.callback=function(){F_(d,m)}}var N=d.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(g.callback=function(){F_(d,m),typeof A!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})}),g}function qI(d,m,g){var A=d.pingCache;if(A===null){A=d.pingCache=new dQ;var k=new Set;A.set(m,k)}else k=A.get(m),k===void 0&&(k=new Set,A.set(m,k));k.has(g)||(k.add(g),d=_Q.bind(null,d,m,g),m.then(d,d))}function HI(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function VI(d,m,g,A,k){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(m=vs(-1,1),m.tag=2,Vc(g,m,1))),g.lanes|=1),d):(d.flags|=65536,d.lanes=k,d)}var uQ=E.ReactCurrentOwner,er=!1;function Ra(d,m,g,A){m.child=d===null?mI(m,null,g,A):rh(m,d.child,g,A)}function WI(d,m,g,A,k){g=g.render;var N=m.ref;return oh(m,k),A=D_(d,m,g,A,N,k),g=N_(),d!==null&&!er?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k,bs(d,m,k)):(He&&g&&h_(m),m.flags|=1,Ra(d,m,A,k),m.child)}function KI(d,m,g,A,k){if(d===null){var N=g.type;return typeof N=="function"&&!sP(N)&&N.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(m.tag=15,m.type=N,XI(d,m,N,A,k)):(d=db(g.type,null,A,m,m.mode,k),d.ref=m.ref,d.return=m,m.child=d)}if(N=d.child,(d.lanes&k)===0){var R=N.memoizedProps;if(g=g.compare,g=g!==null?g:M2,g(R,A)&&d.ref===m.ref)return bs(d,m,k)}return m.flags|=1,d=Jc(N,A),d.ref=m.ref,d.return=m,m.child=d}function XI(d,m,g,A,k){if(d!==null){var N=d.memoizedProps;if(M2(N,A)&&d.ref===m.ref)if(er=!1,m.pendingProps=A=N,(d.lanes&k)!==0)(d.flags&131072)!==0&&(er=!0);else return m.lanes=d.lanes,bs(d,m,k)}return $_(d,m,g,A,k)}function YI(d,m,g){var A=m.pendingProps,k=A.children,N=d!==null?d.memoizedState:null;if(A.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(dh,_r),_r|=g;else{if((g&1073741824)===0)return d=N!==null?N.baseLanes|g:g,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Oe(dh,_r),_r|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=N!==null?N.baseLanes:g,Oe(dh,_r),_r|=A}else N!==null?(A=N.baseLanes|g,m.memoizedState=null):A=g,Oe(dh,_r),_r|=A;return Ra(d,m,k,g),m.child}function QI(d,m){var g=m.ref;(d===null&&g!==null||d!==null&&d.ref!==g)&&(m.flags|=512,m.flags|=2097152)}function $_(d,m,g,A,k){var N=tr(g)?Cd:va.current;return N=th(m,N),oh(m,k),g=D_(d,m,g,A,N,k),A=N_(),d!==null&&!er?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k,bs(d,m,k)):(He&&A&&h_(m),m.flags|=1,Ra(d,m,g,k),m.child)}function JI(d,m,g,A,k){if(tr(g)){var N=!0;Lv(m)}else N=!1;if(oh(m,k),m.stateNode===null)Zv(d,m),$I(m,g,A),R_(m,g,A,k),A=!0;else if(d===null){var R=m.stateNode,q=m.memoizedProps;R.props=q;var J=R.context,rt=g.contextType;typeof rt=="object"&&rt!==null?rt=ni(rt):(rt=tr(g)?Cd:va.current,rt=th(m,rt));var mt=g.getDerivedStateFromProps,pt=typeof mt=="function"||typeof R.getSnapshotBeforeUpdate=="function";pt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==A||J!==rt)&&GI(m,R,A,rt),Hc=!1;var dt=m.memoizedState;R.state=dt,qv(m,A,R,k),J=m.memoizedState,q!==A||dt!==J||Za.current||Hc?(typeof mt=="function"&&(I_(m,g,mt,A),J=m.memoizedState),(q=Hc||FI(m,g,q,A,dt,J,rt))?(pt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(m.flags|=4194308)):(typeof R.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=J),R.props=A,R.state=J,R.context=rt,A=q):(typeof R.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{R=m.stateNode,pI(d,m),q=m.memoizedProps,rt=m.type===m.elementType?q:Mi(m.type,q),R.props=rt,pt=m.pendingProps,dt=R.context,J=g.contextType,typeof J=="object"&&J!==null?J=ni(J):(J=tr(g)?Cd:va.current,J=th(m,J));var wt=g.getDerivedStateFromProps;(mt=typeof wt=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==pt||dt!==J)&&GI(m,R,A,J),Hc=!1,dt=m.memoizedState,R.state=dt,qv(m,A,R,k);var Dt=m.memoizedState;q!==pt||dt!==Dt||Za.current||Hc?(typeof wt=="function"&&(I_(m,g,wt,A),Dt=m.memoizedState),(rt=Hc||FI(m,g,rt,A,dt,Dt,J)||!1)?(mt||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(A,Dt,J),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(A,Dt,J)),typeof R.componentDidUpdate=="function"&&(m.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof R.componentDidUpdate!="function"||q===d.memoizedProps&&dt===d.memoizedState||(m.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===d.memoizedProps&&dt===d.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=Dt),R.props=A,R.state=Dt,R.context=J,A=rt):(typeof R.componentDidUpdate!="function"||q===d.memoizedProps&&dt===d.memoizedState||(m.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===d.memoizedProps&&dt===d.memoizedState||(m.flags|=1024),A=!1)}return G_(d,m,g,A,N,k)}function G_(d,m,g,A,k,N){QI(d,m);var R=(m.flags&128)!==0;if(!A&&!R)return k&&aI(m,g,!1),bs(d,m,N);A=m.stateNode,uQ.current=m;var q=R&&typeof g.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,d!==null&&R?(m.child=rh(m,d.child,null,N),m.child=rh(m,null,q,N)):Ra(d,m,q,N),m.memoizedState=A.state,k&&aI(m,g,!0),m.child}function ZI(d){var m=d.stateNode;m.pendingContext?eI(d,m.pendingContext,m.pendingContext!==m.context):m.context&&eI(d,m.context,!1),__(d,m.containerInfo)}function tR(d,m,g,A,k){return ah(),x_(k),m.flags|=256,Ra(d,m,g,A),m.child}var U_={dehydrated:null,treeContext:null,retryLane:0};function z_(d){return{baseLanes:d,cachePool:null,transitions:null}}function eR(d,m,g){var A=m.pendingProps,k=Qe.current,N=!1,R=(m.flags&128)!==0,q;if((q=R)||(q=d!==null&&d.memoizedState===null?!1:(k&2)!==0),q?(N=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(k|=1),Oe(Qe,k&1),d===null)return g_(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(R=A.children,d=A.fallback,N?(A=m.mode,N=m.child,R={mode:"hidden",children:R},(A&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=ub(R,A,0,null),d=Rd(d,A,g,null),N.return=m,d.return=m,N.sibling=d,m.child=N,m.child.memoizedState=z_(g),m.memoizedState=U_,d):q_(m,R));if(k=d.memoizedState,k!==null&&(q=k.dehydrated,q!==null))return mQ(d,m,R,A,q,k,g);if(N){N=A.fallback,R=m.mode,k=d.child,q=k.sibling;var J={mode:"hidden",children:A.children};return(R&1)===0&&m.child!==k?(A=m.child,A.childLanes=0,A.pendingProps=J,m.deletions=null):(A=Jc(k,J),A.subtreeFlags=k.subtreeFlags&14680064),q!==null?N=Jc(q,N):(N=Rd(N,R,g,null),N.flags|=2),N.return=m,A.return=m,A.sibling=N,m.child=A,A=N,N=m.child,R=d.child.memoizedState,R=R===null?z_(g):{baseLanes:R.baseLanes|g,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=d.childLanes&~g,m.memoizedState=U_,A}return N=d.child,d=N.sibling,A=Jc(N,{mode:"visible",children:A.children}),(m.mode&1)===0&&(A.lanes=g),A.return=m,A.sibling=null,d!==null&&(g=m.deletions,g===null?(m.deletions=[d],m.flags|=16):g.push(d)),m.child=A,m.memoizedState=null,A}function q_(d,m){return m=ub({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Jv(d,m,g,A){return A!==null&&x_(A),rh(m,d.child,null,g),d=q_(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function mQ(d,m,g,A,k,N,R){if(g)return m.flags&256?(m.flags&=-257,A=M_(Error(e(422))),Jv(d,m,R,A)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(N=A.fallback,k=m.mode,A=ub({mode:"visible",children:A.children},k,0,null),N=Rd(N,k,R,null),N.flags|=2,A.return=m,N.return=m,A.sibling=N,m.child=A,(m.mode&1)!==0&&rh(m,d.child,null,R),m.child.memoizedState=z_(R),m.memoizedState=U_,N);if((m.mode&1)===0)return Jv(d,m,R,null);if(k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var q=A.dgst;return A=q,N=Error(e(419)),A=M_(N,A,void 0),Jv(d,m,R,A)}if(q=(R&d.childLanes)!==0,er||q){if(A=Vn,A!==null){switch(R&-R){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(A.suspendedLanes|R))!==0?0:k,k!==0&&k!==N.retryLane&&(N.retryLane=k,ys(d,k),Gi(A,d,k,-1))}return oP(),A=M_(Error(e(421))),Jv(d,m,R,A)}return k.data==="$?"?(m.flags|=128,m.child=d.child,m=PQ.bind(null,d),k._reactRetry=m,null):(d=N.treeContext,Sr=Gc(k.nextSibling),Ar=m,He=!0,Ri=null,d!==null&&(ti[ei++]=gs,ti[ei++]=xs,ti[ei++]=Ed,gs=d.id,xs=d.overflow,Ed=m),m=q_(m,A.children),m.flags|=4096,m)}function nR(d,m,g){d.lanes|=m;var A=d.alternate;A!==null&&(A.lanes|=m),w_(d.return,m,g)}function H_(d,m,g,A,k){var N=d.memoizedState;N===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:g,tailMode:k}:(N.isBackwards=m,N.rendering=null,N.renderingStartTime=0,N.last=A,N.tail=g,N.tailMode=k)}function aR(d,m,g){var A=m.pendingProps,k=A.revealOrder,N=A.tail;if(Ra(d,m,A.children,g),A=Qe.current,(A&2)!==0)A=A&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)t:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&nR(d,g,m);else if(d.tag===19)nR(d,g,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break t;for(;d.sibling===null;){if(d.return===null||d.return===m)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(Oe(Qe,A),(m.mode&1)===0)m.memoizedState=null;else switch(k){case"forwards":for(g=m.child,k=null;g!==null;)d=g.alternate,d!==null&&Hv(d)===null&&(k=g),g=g.sibling;g=k,g===null?(k=m.child,m.child=null):(k=g.sibling,g.sibling=null),H_(m,!1,k,g,N);break;case"backwards":for(g=null,k=m.child,m.child=null;k!==null;){if(d=k.alternate,d!==null&&Hv(d)===null){m.child=k;break}d=k.sibling,k.sibling=g,g=k,k=d}H_(m,!0,g,null,N);break;case"together":H_(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Zv(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function bs(d,m,g){if(d!==null&&(m.dependencies=d.dependencies),jd|=m.lanes,(g&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(e(153));if(m.child!==null){for(d=m.child,g=Jc(d,d.pendingProps),m.child=g,g.return=m;d.sibling!==null;)d=d.sibling,g=g.sibling=Jc(d,d.pendingProps),g.return=m;g.sibling=null}return m.child}function hQ(d,m,g){switch(m.tag){case 3:ZI(m),ah();break;case 5:xI(m);break;case 1:tr(m.type)&&Lv(m);break;case 4:__(m,m.stateNode.containerInfo);break;case 10:var A=m.type._context,k=m.memoizedProps.value;Oe(Gv,A._currentValue),A._currentValue=k;break;case 13:if(A=m.memoizedState,A!==null)return A.dehydrated!==null?(Oe(Qe,Qe.current&1),m.flags|=128,null):(g&m.child.childLanes)!==0?eR(d,m,g):(Oe(Qe,Qe.current&1),d=bs(d,m,g),d!==null?d.sibling:null);Oe(Qe,Qe.current&1);break;case 19:if(A=(g&m.childLanes)!==0,(d.flags&128)!==0){if(A)return aR(d,m,g);m.flags|=128}if(k=m.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Oe(Qe,Qe.current),A)break;return null;case 22:case 23:return m.lanes=0,YI(d,m,g)}return bs(d,m,g)}var rR,V_,iR,oR;rR=function(d,m){for(var g=m.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},V_=function(){},iR=function(d,m,g,A){var k=d.memoizedProps;if(k!==A){d=m.stateNode,Nd(wo.current);var N=null;switch(g){case"input":k=ne(d,k),A=ne(d,A),N=[];break;case"select":k=nt({},k,{value:void 0}),A=nt({},A,{value:void 0}),N=[];break;case"textarea":k=Oi(d,k),A=Oi(d,A),N=[];break;default:typeof k.onClick!="function"&&typeof A.onClick=="function"&&(d.onclick=Bv)}kS(g,A);var R;g=null;for(rt in k)if(!A.hasOwnProperty(rt)&&k.hasOwnProperty(rt)&&k[rt]!=null)if(rt==="style"){var q=k[rt];for(R in q)q.hasOwnProperty(R)&&(g||(g={}),g[R]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(r.hasOwnProperty(rt)?N||(N=[]):(N=N||[]).push(rt,null));for(rt in A){var J=A[rt];if(q=k!=null?k[rt]:void 0,A.hasOwnProperty(rt)&&J!==q&&(J!=null||q!=null))if(rt==="style")if(q){for(R in q)!q.hasOwnProperty(R)||J&&J.hasOwnProperty(R)||(g||(g={}),g[R]="");for(R in J)J.hasOwnProperty(R)&&q[R]!==J[R]&&(g||(g={}),g[R]=J[R])}else g||(N||(N=[]),N.push(rt,g)),g=J;else rt==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,q=q?q.__html:void 0,J!=null&&q!==J&&(N=N||[]).push(rt,J)):rt==="children"?typeof J!="string"&&typeof J!="number"||(N=N||[]).push(rt,""+J):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(r.hasOwnProperty(rt)?(J!=null&&rt==="onScroll"&&$e("scroll",d),N||q===J||(N=[])):(N=N||[]).push(rt,J))}g&&(N=N||[]).push("style",g);var rt=N;(m.updateQueue=rt)&&(m.flags|=4)}},oR=function(d,m,g,A){g!==A&&(m.flags|=4)};function Z2(d,m){if(!He)switch(d.tailMode){case"hidden":m=d.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?d.tail=null:g.sibling=null;break;case"collapsed":g=d.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function wa(d){var m=d.alternate!==null&&d.alternate.child===d.child,g=0,A=0;if(m)for(var k=d.child;k!==null;)g|=k.lanes|k.childLanes,A|=k.subtreeFlags&14680064,A|=k.flags&14680064,k.return=d,k=k.sibling;else for(k=d.child;k!==null;)g|=k.lanes|k.childLanes,A|=k.subtreeFlags,A|=k.flags,k.return=d,k=k.sibling;return d.subtreeFlags|=A,d.childLanes=g,m}function pQ(d,m,g){var A=m.pendingProps;switch(p_(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(m),null;case 1:return tr(m.type)&&Ov(),wa(m),null;case 3:return A=m.stateNode,sh(),Ge(Za),Ge(va),C_(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(Fv(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ri!==null&&(aP(Ri),Ri=null))),V_(d,m),wa(m),null;case 5:P_(m);var k=Nd(K2.current);if(g=m.type,d!==null&&m.stateNode!=null)iR(d,m,g,A,k),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(e(166));return wa(m),null}if(d=Nd(wo.current),Fv(m)){A=m.stateNode,g=m.type;var N=m.memoizedProps;switch(A[bo]=m,A[z2]=N,d=(m.mode&1)!==0,g){case"dialog":$e("cancel",A),$e("close",A);break;case"iframe":case"object":case"embed":$e("load",A);break;case"video":case"audio":for(k=0;k<$2.length;k++)$e($2[k],A);break;case"source":$e("error",A);break;case"img":case"image":case"link":$e("error",A),$e("load",A);break;case"details":$e("toggle",A);break;case"input":rn(A,N),$e("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!N.multiple},$e("invalid",A);break;case"textarea":Um(A,N),$e("invalid",A)}kS(g,N),k=null;for(var R in N)if(N.hasOwnProperty(R)){var q=N[R];R==="children"?typeof q=="string"?A.textContent!==q&&(N.suppressHydrationWarning!==!0&&Nv(A.textContent,q,d),k=["children",q]):typeof q=="number"&&A.textContent!==""+q&&(N.suppressHydrationWarning!==!0&&Nv(A.textContent,q,d),k=["children",""+q]):r.hasOwnProperty(R)&&q!=null&&R==="onScroll"&&$e("scroll",A)}switch(g){case"input":Rt(A),ji(A,N,!0);break;case"textarea":Rt(A),b2(A);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(A.onclick=Bv)}A=k,m.updateQueue=A,A!==null&&(m.flags|=4)}else{R=k.nodeType===9?k:k.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=VO(g)),d==="http://www.w3.org/1999/xhtml"?g==="script"?(d=R.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof A.is=="string"?d=R.createElement(g,{is:A.is}):(d=R.createElement(g),g==="select"&&(R=d,A.multiple?R.multiple=!0:A.size&&(R.size=A.size))):d=R.createElementNS(d,g),d[bo]=m,d[z2]=A,rR(d,m,!1,!1),m.stateNode=d;t:{switch(R=CS(g,A),g){case"dialog":$e("cancel",d),$e("close",d),k=A;break;case"iframe":case"object":case"embed":$e("load",d),k=A;break;case"video":case"audio":for(k=0;k<$2.length;k++)$e($2[k],d);k=A;break;case"source":$e("error",d),k=A;break;case"img":case"image":case"link":$e("error",d),$e("load",d),k=A;break;case"details":$e("toggle",d),k=A;break;case"input":rn(d,A),k=ne(d,A),$e("invalid",d);break;case"option":k=A;break;case"select":d._wrapperState={wasMultiple:!!A.multiple},k=nt({},A,{value:void 0}),$e("invalid",d);break;case"textarea":Um(d,A),k=Oi(d,A),$e("invalid",d);break;default:k=A}kS(g,k),q=k;for(N in q)if(q.hasOwnProperty(N)){var J=q[N];N==="style"?XO(d,J):N==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&WO(d,J)):N==="children"?typeof J=="string"?(g!=="textarea"||J!=="")&&w2(d,J):typeof J=="number"&&w2(d,""+J):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(r.hasOwnProperty(N)?J!=null&&N==="onScroll"&&$e("scroll",d):J!=null&&P(d,N,J,R))}switch(g){case"input":Rt(d),ji(d,A,!1);break;case"textarea":Rt(d),b2(d);break;case"option":A.value!=null&&d.setAttribute("value",""+Gt(A.value));break;case"select":d.multiple=!!A.multiple,N=A.value,N!=null?Ja(d,!!A.multiple,N,!1):A.defaultValue!=null&&Ja(d,!!A.multiple,A.defaultValue,!0);break;default:typeof k.onClick=="function"&&(d.onclick=Bv)}switch(g){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break t;case"img":A=!0;break t;default:A=!1}}A&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return wa(m),null;case 6:if(d&&m.stateNode!=null)oR(d,m,d.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(e(166));if(g=Nd(K2.current),Nd(wo.current),Fv(m)){if(A=m.stateNode,g=m.memoizedProps,A[bo]=m,(N=A.nodeValue!==g)&&(d=Ar,d!==null))switch(d.tag){case 3:Nv(A.nodeValue,g,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Nv(A.nodeValue,g,(d.mode&1)!==0)}N&&(m.flags|=4)}else A=(g.nodeType===9?g:g.ownerDocument).createTextNode(A),A[bo]=m,m.stateNode=A}return wa(m),null;case 13:if(Ge(Qe),A=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(He&&Sr!==null&&(m.mode&1)!==0&&(m.flags&128)===0)lI(),ah(),m.flags|=98560,N=!1;else if(N=Fv(m),A!==null&&A.dehydrated!==null){if(d===null){if(!N)throw Error(e(318));if(N=m.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(e(317));N[bo]=m}else ah(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;wa(m),N=!1}else Ri!==null&&(aP(Ri),Ri=null),N=!0;if(!N)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=g,m):(A=A!==null,A!==(d!==null&&d.memoizedState!==null)&&A&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Qe.current&1)!==0?Nn===0&&(Nn=3):oP())),m.updateQueue!==null&&(m.flags|=4),wa(m),null);case 4:return sh(),V_(d,m),d===null&&G2(m.stateNode.containerInfo),wa(m),null;case 10:return b_(m.type._context),wa(m),null;case 17:return tr(m.type)&&Ov(),wa(m),null;case 19:if(Ge(Qe),N=m.memoizedState,N===null)return wa(m),null;if(A=(m.flags&128)!==0,R=N.rendering,R===null)if(A)Z2(N,!1);else{if(Nn!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(R=Hv(d),R!==null){for(m.flags|=128,Z2(N,!1),A=R.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),m.subtreeFlags=0,A=g,g=m.child;g!==null;)N=g,d=A,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=d,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,d=R.dependencies,N.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),g=g.sibling;return Oe(Qe,Qe.current&1|2),m.child}d=d.sibling}N.tail!==null&&fn()>uh&&(m.flags|=128,A=!0,Z2(N,!1),m.lanes=4194304)}else{if(!A)if(d=Hv(R),d!==null){if(m.flags|=128,A=!0,g=d.updateQueue,g!==null&&(m.updateQueue=g,m.flags|=4),Z2(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!He)return wa(m),null}else 2*fn()-N.renderingStartTime>uh&&g!==1073741824&&(m.flags|=128,A=!0,Z2(N,!1),m.lanes=4194304);N.isBackwards?(R.sibling=m.child,m.child=R):(g=N.last,g!==null?g.sibling=R:m.child=R,N.last=R)}return N.tail!==null?(m=N.tail,N.rendering=m,N.tail=m.sibling,N.renderingStartTime=fn(),m.sibling=null,g=Qe.current,Oe(Qe,A?g&1|2:g&1),m):(wa(m),null);case 22:case 23:return iP(),A=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(m.flags|=8192),A&&(m.mode&1)!==0?(_r&1073741824)!==0&&(wa(m),m.subtreeFlags&6&&(m.flags|=8192)):wa(m),null;case 24:return null;case 25:return null}throw Error(e(156,m.tag))}function fQ(d,m){switch(p_(m),m.tag){case 1:return tr(m.type)&&Ov(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return sh(),Ge(Za),Ge(va),C_(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return P_(m),null;case 13:if(Ge(Qe),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(e(340));ah()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Ge(Qe),null;case 4:return sh(),null;case 10:return b_(m.type._context),null;case 22:case 23:return iP(),null;case 24:return null;default:return null}}var tb=!1,Aa=!1,gQ=typeof WeakSet=="function"?WeakSet:Set,_t=null;function lh(d,m){var g=d.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(A){sn(d,m,A)}else g.current=null}function W_(d,m,g){try{g()}catch(A){sn(d,m,A)}}var sR=!1;function xQ(d,m){if(i_=bv,d=FL(),QS(d)){if("selectionStart"in d)var g={start:d.selectionStart,end:d.selectionEnd};else t:{g=(g=d.ownerDocument)&&g.defaultView||window;var A=g.getSelection&&g.getSelection();if(A&&A.rangeCount!==0){g=A.anchorNode;var k=A.anchorOffset,N=A.focusNode;A=A.focusOffset;try{g.nodeType,N.nodeType}catch{g=null;break t}var R=0,q=-1,J=-1,rt=0,mt=0,pt=d,dt=null;e:for(;;){for(var wt;pt!==g||k!==0&&pt.nodeType!==3||(q=R+k),pt!==N||A!==0&&pt.nodeType!==3||(J=R+A),pt.nodeType===3&&(R+=pt.nodeValue.length),(wt=pt.firstChild)!==null;)dt=pt,pt=wt;for(;;){if(pt===d)break e;if(dt===g&&++rt===k&&(q=R),dt===N&&++mt===A&&(J=R),(wt=pt.nextSibling)!==null)break;pt=dt,dt=pt.parentNode}pt=wt}g=q===-1||J===-1?null:{start:q,end:J}}else g=null}g=g||{start:0,end:0}}else g=null;for(o_={focusedElem:d,selectionRange:g},bv=!1,_t=m;_t!==null;)if(m=_t,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,_t=d;else for(;_t!==null;){m=_t;try{var Dt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Dt!==null){var Bt=Dt.memoizedProps,gn=Dt.memoizedState,et=m.stateNode,Z=et.getSnapshotBeforeUpdate(m.elementType===m.type?Bt:Mi(m.type,Bt),gn);et.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var at=m.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(gt){sn(m,m.return,gt)}if(d=m.sibling,d!==null){d.return=m.return,_t=d;break}_t=m.return}return Dt=sR,sR=!1,Dt}function tg(d,m,g){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var k=A=A.next;do{if((k.tag&d)===d){var N=k.destroy;k.destroy=void 0,N!==void 0&&W_(m,g,N)}k=k.next}while(k!==A)}}function eb(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var g=m=m.next;do{if((g.tag&d)===d){var A=g.create;g.destroy=A()}g=g.next}while(g!==m)}}function K_(d){var m=d.ref;if(m!==null){var g=d.stateNode;switch(d.tag){case 5:d=g;break;default:d=g}typeof m=="function"?m(d):m.current=d}}function cR(d){var m=d.alternate;m!==null&&(d.alternate=null,cR(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[bo],delete m[z2],delete m[d_],delete m[ZY],delete m[tQ])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function lR(d){return d.tag===5||d.tag===3||d.tag===4}function dR(d){t:for(;;){for(;d.sibling===null;){if(d.return===null||lR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue t;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function X_(d,m,g){var A=d.tag;if(A===5||A===6)d=d.stateNode,m?g.nodeType===8?g.parentNode.insertBefore(d,m):g.insertBefore(d,m):(g.nodeType===8?(m=g.parentNode,m.insertBefore(d,g)):(m=g,m.appendChild(d)),g=g._reactRootContainer,g!=null||m.onclick!==null||(m.onclick=Bv));else if(A!==4&&(d=d.child,d!==null))for(X_(d,m,g),d=d.sibling;d!==null;)X_(d,m,g),d=d.sibling}function Y_(d,m,g){var A=d.tag;if(A===5||A===6)d=d.stateNode,m?g.insertBefore(d,m):g.appendChild(d);else if(A!==4&&(d=d.child,d!==null))for(Y_(d,m,g),d=d.sibling;d!==null;)Y_(d,m,g),d=d.sibling}var aa=null,Fi=!1;function Wc(d,m,g){for(g=g.child;g!==null;)uR(d,m,g),g=g.sibling}function uR(d,m,g){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(pv,g)}catch{}switch(g.tag){case 5:Aa||lh(g,m);case 6:var A=aa,k=Fi;aa=null,Wc(d,m,g),aa=A,Fi=k,aa!==null&&(Fi?(d=aa,g=g.stateNode,d.nodeType===8?d.parentNode.removeChild(g):d.removeChild(g)):aa.removeChild(g.stateNode));break;case 18:aa!==null&&(Fi?(d=aa,g=g.stateNode,d.nodeType===8?l_(d.parentNode,g):d.nodeType===1&&l_(d,g),B2(d)):l_(aa,g.stateNode));break;case 4:A=aa,k=Fi,aa=g.stateNode.containerInfo,Fi=!0,Wc(d,m,g),aa=A,Fi=k;break;case 0:case 11:case 14:case 15:if(!Aa&&(A=g.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){k=A=A.next;do{var N=k,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&W_(g,m,R),k=k.next}while(k!==A)}Wc(d,m,g);break;case 1:if(!Aa&&(lh(g,m),A=g.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=g.memoizedProps,A.state=g.memoizedState,A.componentWillUnmount()}catch(q){sn(g,m,q)}Wc(d,m,g);break;case 21:Wc(d,m,g);break;case 22:g.mode&1?(Aa=(A=Aa)||g.memoizedState!==null,Wc(d,m,g),Aa=A):Wc(d,m,g);break;default:Wc(d,m,g)}}function mR(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var g=d.stateNode;g===null&&(g=d.stateNode=new gQ),m.forEach(function(A){var k=kQ.bind(null,d,A);g.has(A)||(g.add(A),A.then(k,k))})}}function $i(d,m){var g=m.deletions;if(g!==null)for(var A=0;A<g.length;A++){var k=g[A];try{var N=d,R=m,q=R;t:for(;q!==null;){switch(q.tag){case 5:aa=q.stateNode,Fi=!1;break t;case 3:aa=q.stateNode.containerInfo,Fi=!0;break t;case 4:aa=q.stateNode.containerInfo,Fi=!0;break t}q=q.return}if(aa===null)throw Error(e(160));uR(N,R,k),aa=null,Fi=!1;var J=k.alternate;J!==null&&(J.return=null),k.return=null}catch(rt){sn(k,m,rt)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)hR(m,d),m=m.sibling}function hR(d,m){var g=d.alternate,A=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if($i(m,d),So(d),A&4){try{tg(3,d,d.return),eb(3,d)}catch(Bt){sn(d,d.return,Bt)}try{tg(5,d,d.return)}catch(Bt){sn(d,d.return,Bt)}}break;case 1:$i(m,d),So(d),A&512&&g!==null&&lh(g,g.return);break;case 5:if($i(m,d),So(d),A&512&&g!==null&&lh(g,g.return),d.flags&32){var k=d.stateNode;try{w2(k,"")}catch(Bt){sn(d,d.return,Bt)}}if(A&4&&(k=d.stateNode,k!=null)){var N=d.memoizedProps,R=g!==null?g.memoizedProps:N,q=d.type,J=d.updateQueue;if(d.updateQueue=null,J!==null)try{q==="input"&&N.type==="radio"&&N.name!=null&&on(k,N),CS(q,R);var rt=CS(q,N);for(R=0;R<J.length;R+=2){var mt=J[R],pt=J[R+1];mt==="style"?XO(k,pt):mt==="dangerouslySetInnerHTML"?WO(k,pt):mt==="children"?w2(k,pt):P(k,mt,pt,rt)}switch(q){case"input":qn(k,N);break;case"textarea":v2(k,N);break;case"select":var dt=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!N.multiple;var wt=N.value;wt!=null?Ja(k,!!N.multiple,wt,!1):dt!==!!N.multiple&&(N.defaultValue!=null?Ja(k,!!N.multiple,N.defaultValue,!0):Ja(k,!!N.multiple,N.multiple?[]:"",!1))}k[z2]=N}catch(Bt){sn(d,d.return,Bt)}}break;case 6:if($i(m,d),So(d),A&4){if(d.stateNode===null)throw Error(e(162));k=d.stateNode,N=d.memoizedProps;try{k.nodeValue=N}catch(Bt){sn(d,d.return,Bt)}}break;case 3:if($i(m,d),So(d),A&4&&g!==null&&g.memoizedState.isDehydrated)try{B2(m.containerInfo)}catch(Bt){sn(d,d.return,Bt)}break;case 4:$i(m,d),So(d);break;case 13:$i(m,d),So(d),k=d.child,k.flags&8192&&(N=k.memoizedState!==null,k.stateNode.isHidden=N,!N||k.alternate!==null&&k.alternate.memoizedState!==null||(Z_=fn())),A&4&&mR(d);break;case 22:if(mt=g!==null&&g.memoizedState!==null,d.mode&1?(Aa=(rt=Aa)||mt,$i(m,d),Aa=rt):$i(m,d),So(d),A&8192){if(rt=d.memoizedState!==null,(d.stateNode.isHidden=rt)&&!mt&&(d.mode&1)!==0)for(_t=d,mt=d.child;mt!==null;){for(pt=_t=mt;_t!==null;){switch(dt=_t,wt=dt.child,dt.tag){case 0:case 11:case 14:case 15:tg(4,dt,dt.return);break;case 1:lh(dt,dt.return);var Dt=dt.stateNode;if(typeof Dt.componentWillUnmount=="function"){A=dt,g=dt.return;try{m=A,Dt.props=m.memoizedProps,Dt.state=m.memoizedState,Dt.componentWillUnmount()}catch(Bt){sn(A,g,Bt)}}break;case 5:lh(dt,dt.return);break;case 22:if(dt.memoizedState!==null){gR(pt);continue}}wt!==null?(wt.return=dt,_t=wt):gR(pt)}mt=mt.sibling}t:for(mt=null,pt=d;;){if(pt.tag===5){if(mt===null){mt=pt;try{k=pt.stateNode,rt?(N=k.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(q=pt.stateNode,J=pt.memoizedProps.style,R=J!=null&&J.hasOwnProperty("display")?J.display:null,q.style.display=KO("display",R))}catch(Bt){sn(d,d.return,Bt)}}}else if(pt.tag===6){if(mt===null)try{pt.stateNode.nodeValue=rt?"":pt.memoizedProps}catch(Bt){sn(d,d.return,Bt)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===d)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===d)break t;for(;pt.sibling===null;){if(pt.return===null||pt.return===d)break t;mt===pt&&(mt=null),pt=pt.return}mt===pt&&(mt=null),pt.sibling.return=pt.return,pt=pt.sibling}}break;case 19:$i(m,d),So(d),A&4&&mR(d);break;case 21:break;default:$i(m,d),So(d)}}function So(d){var m=d.flags;if(m&2){try{t:{for(var g=d.return;g!==null;){if(lR(g)){var A=g;break t}g=g.return}throw Error(e(160))}switch(A.tag){case 5:var k=A.stateNode;A.flags&32&&(w2(k,""),A.flags&=-33);var N=dR(d);Y_(d,N,k);break;case 3:case 4:var R=A.stateNode.containerInfo,q=dR(d);X_(d,q,R);break;default:throw Error(e(161))}}catch(J){sn(d,d.return,J)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function yQ(d,m,g){_t=d,pR(d)}function pR(d,m,g){for(var A=(d.mode&1)!==0;_t!==null;){var k=_t,N=k.child;if(k.tag===22&&A){var R=k.memoizedState!==null||tb;if(!R){var q=k.alternate,J=q!==null&&q.memoizedState!==null||Aa;q=tb;var rt=Aa;if(tb=R,(Aa=J)&&!rt)for(_t=k;_t!==null;)R=_t,J=R.child,R.tag===22&&R.memoizedState!==null?xR(k):J!==null?(J.return=R,_t=J):xR(k);for(;N!==null;)_t=N,pR(N),N=N.sibling;_t=k,tb=q,Aa=rt}fR(d)}else(k.subtreeFlags&8772)!==0&&N!==null?(N.return=k,_t=N):fR(d)}}function fR(d){for(;_t!==null;){var m=_t;if((m.flags&8772)!==0){var g=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Aa||eb(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!Aa)if(g===null)A.componentDidMount();else{var k=m.elementType===m.type?g.memoizedProps:Mi(m.type,g.memoizedProps);A.componentDidUpdate(k,g.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var N=m.updateQueue;N!==null&&gI(m,N,A);break;case 3:var R=m.updateQueue;if(R!==null){if(g=null,m.child!==null)switch(m.child.tag){case 5:g=m.child.stateNode;break;case 1:g=m.child.stateNode}gI(m,R,g)}break;case 5:var q=m.stateNode;if(g===null&&m.flags&4){g=q;var J=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&g.focus();break;case"img":J.src&&(g.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var rt=m.alternate;if(rt!==null){var mt=rt.memoizedState;if(mt!==null){var pt=mt.dehydrated;pt!==null&&B2(pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Aa||m.flags&512&&K_(m)}catch(dt){sn(m,m.return,dt)}}if(m===d){_t=null;break}if(g=m.sibling,g!==null){g.return=m.return,_t=g;break}_t=m.return}}function gR(d){for(;_t!==null;){var m=_t;if(m===d){_t=null;break}var g=m.sibling;if(g!==null){g.return=m.return,_t=g;break}_t=m.return}}function xR(d){for(;_t!==null;){var m=_t;try{switch(m.tag){case 0:case 11:case 15:var g=m.return;try{eb(4,m)}catch(J){sn(m,g,J)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var k=m.return;try{A.componentDidMount()}catch(J){sn(m,k,J)}}var N=m.return;try{K_(m)}catch(J){sn(m,N,J)}break;case 5:var R=m.return;try{K_(m)}catch(J){sn(m,R,J)}}}catch(J){sn(m,m.return,J)}if(m===d){_t=null;break}var q=m.sibling;if(q!==null){q.return=m.return,_t=q;break}_t=m.return}}var vQ=Math.ceil,nb=E.ReactCurrentDispatcher,Q_=E.ReactCurrentOwner,ri=E.ReactCurrentBatchConfig,le=0,Vn=null,bn=null,ra=0,_r=0,dh=Uc(0),Nn=0,eg=null,jd=0,ab=0,J_=0,ng=null,nr=null,Z_=0,uh=1/0,ws=null,rb=!1,tP=null,Kc=null,ib=!1,Xc=null,ob=0,ag=0,eP=null,sb=-1,cb=0;function Ma(){return(le&6)!==0?fn():sb!==-1?sb:sb=fn()}function Yc(d){return(d.mode&1)===0?1:(le&2)!==0&&ra!==0?ra&-ra:nQ.transition!==null?(cb===0&&(cb=dL()),cb):(d=ve,d!==0||(d=window.event,d=d===void 0?16:vL(d.type)),d)}function Gi(d,m,g,A){if(50<ag)throw ag=0,eP=null,Error(e(185));C2(d,g,A),((le&2)===0||d!==Vn)&&(d===Vn&&((le&2)===0&&(ab|=g),Nn===4&&Qc(d,ra)),ar(d,A),g===1&&le===0&&(m.mode&1)===0&&(uh=fn()+500,Iv&&qc()))}function ar(d,m){var g=d.callbackNode;nY(d,m);var A=xv(d,d===Vn?ra:0);if(A===0)g!==null&&sL(g),d.callbackNode=null,d.callbackPriority=0;else if(m=A&-A,d.callbackPriority!==m){if(g!=null&&sL(g),m===1)d.tag===0?eQ(vR.bind(null,d)):rI(vR.bind(null,d)),QY(function(){(le&6)===0&&qc()}),g=null;else{switch(uL(A)){case 1:g=OS;break;case 4:g=cL;break;case 16:g=hv;break;case 536870912:g=lL;break;default:g=hv}g=CR(g,yR.bind(null,d))}d.callbackPriority=m,d.callbackNode=g}}function yR(d,m){if(sb=-1,cb=0,(le&6)!==0)throw Error(e(327));var g=d.callbackNode;if(mh()&&d.callbackNode!==g)return null;var A=xv(d,d===Vn?ra:0);if(A===0)return null;if((A&30)!==0||(A&d.expiredLanes)!==0||m)m=lb(d,A);else{m=A;var k=le;le|=2;var N=wR();(Vn!==d||ra!==m)&&(ws=null,uh=fn()+500,Ld(d,m));do try{AQ();break}catch(q){bR(d,q)}while(!0);v_(),nb.current=N,le=k,bn!==null?m=0:(Vn=null,ra=0,m=Nn)}if(m!==0){if(m===2&&(k=LS(d),k!==0&&(A=k,m=nP(d,k))),m===1)throw g=eg,Ld(d,0),Qc(d,A),ar(d,fn()),g;if(m===6)Qc(d,A);else{if(k=d.current.alternate,(A&30)===0&&!bQ(k)&&(m=lb(d,A),m===2&&(N=LS(d),N!==0&&(A=N,m=nP(d,N))),m===1))throw g=eg,Ld(d,0),Qc(d,A),ar(d,fn()),g;switch(d.finishedWork=k,d.finishedLanes=A,m){case 0:case 1:throw Error(e(345));case 2:Id(d,nr,ws);break;case 3:if(Qc(d,A),(A&130023424)===A&&(m=Z_+500-fn(),10<m)){if(xv(d,0)!==0)break;if(k=d.suspendedLanes,(k&A)!==A){Ma(),d.pingedLanes|=d.suspendedLanes&k;break}d.timeoutHandle=c_(Id.bind(null,d,nr,ws),m);break}Id(d,nr,ws);break;case 4:if(Qc(d,A),(A&4194240)===A)break;for(m=d.eventTimes,k=-1;0<A;){var R=31-Li(A);N=1<<R,R=m[R],R>k&&(k=R),A&=~N}if(A=k,A=fn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*vQ(A/1960))-A,10<A){d.timeoutHandle=c_(Id.bind(null,d,nr,ws),A);break}Id(d,nr,ws);break;case 5:Id(d,nr,ws);break;default:throw Error(e(329))}}}return ar(d,fn()),d.callbackNode===g?yR.bind(null,d):null}function nP(d,m){var g=ng;return d.current.memoizedState.isDehydrated&&(Ld(d,m).flags|=256),d=lb(d,m),d!==2&&(m=nr,nr=g,m!==null&&aP(m)),d}function aP(d){nr===null?nr=d:nr.push.apply(nr,d)}function bQ(d){for(var m=d;;){if(m.flags&16384){var g=m.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var A=0;A<g.length;A++){var k=g[A],N=k.getSnapshot;k=k.value;try{if(!Ii(N(),k))return!1}catch{return!1}}}if(g=m.child,m.subtreeFlags&16384&&g!==null)g.return=m,m=g;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Qc(d,m){for(m&=~J_,m&=~ab,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var g=31-Li(m),A=1<<g;d[g]=-1,m&=~A}}function vR(d){if((le&6)!==0)throw Error(e(327));mh();var m=xv(d,0);if((m&1)===0)return ar(d,fn()),null;var g=lb(d,m);if(d.tag!==0&&g===2){var A=LS(d);A!==0&&(m=A,g=nP(d,A))}if(g===1)throw g=eg,Ld(d,0),Qc(d,m),ar(d,fn()),g;if(g===6)throw Error(e(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Id(d,nr,ws),ar(d,fn()),null}function rP(d,m){var g=le;le|=1;try{return d(m)}finally{le=g,le===0&&(uh=fn()+500,Iv&&qc())}}function Od(d){Xc!==null&&Xc.tag===0&&(le&6)===0&&mh();var m=le;le|=1;var g=ri.transition,A=ve;try{if(ri.transition=null,ve=1,d)return d()}finally{ve=A,ri.transition=g,le=m,(le&6)===0&&qc()}}function iP(){_r=dh.current,Ge(dh)}function Ld(d,m){d.finishedWork=null,d.finishedLanes=0;var g=d.timeoutHandle;if(g!==-1&&(d.timeoutHandle=-1,YY(g)),bn!==null)for(g=bn.return;g!==null;){var A=g;switch(p_(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Ov();break;case 3:sh(),Ge(Za),Ge(va),C_();break;case 5:P_(A);break;case 4:sh();break;case 13:Ge(Qe);break;case 19:Ge(Qe);break;case 10:b_(A.type._context);break;case 22:case 23:iP()}g=g.return}if(Vn=d,bn=d=Jc(d.current,null),ra=_r=m,Nn=0,eg=null,J_=ab=jd=0,nr=ng=null,Dd!==null){for(m=0;m<Dd.length;m++)if(g=Dd[m],A=g.interleaved,A!==null){g.interleaved=null;var k=A.next,N=g.pending;if(N!==null){var R=N.next;N.next=k,A.next=R}g.pending=A}Dd=null}return d}function bR(d,m){do{var g=bn;try{if(v_(),Vv.current=Yv,Wv){for(var A=Je.memoizedState;A!==null;){var k=A.queue;k!==null&&(k.pending=null),A=A.next}Wv=!1}if(Bd=0,Hn=Dn=Je=null,X2=!1,Y2=0,Q_.current=null,g===null||g.return===null){Nn=1,eg=m,bn=null;break}t:{var N=d,R=g.return,q=g,J=m;if(m=ra,q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var rt=J,mt=q,pt=mt.tag;if((mt.mode&1)===0&&(pt===0||pt===11||pt===15)){var dt=mt.alternate;dt?(mt.updateQueue=dt.updateQueue,mt.memoizedState=dt.memoizedState,mt.lanes=dt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var wt=HI(R);if(wt!==null){wt.flags&=-257,VI(wt,R,q,N,m),wt.mode&1&&qI(N,rt,m),m=wt,J=rt;var Dt=m.updateQueue;if(Dt===null){var Bt=new Set;Bt.add(J),m.updateQueue=Bt}else Dt.add(J);break t}else{if((m&1)===0){qI(N,rt,m),oP();break t}J=Error(e(426))}}else if(He&&q.mode&1){var gn=HI(R);if(gn!==null){(gn.flags&65536)===0&&(gn.flags|=256),VI(gn,R,q,N,m),x_(ch(J,q));break t}}N=J=ch(J,q),Nn!==4&&(Nn=2),ng===null?ng=[N]:ng.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,m&=-m,N.lanes|=m;var et=UI(N,J,m);fI(N,et);break t;case 1:q=J;var Z=N.type,at=N.stateNode;if((N.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Kc===null||!Kc.has(at)))){N.flags|=65536,m&=-m,N.lanes|=m;var gt=zI(N,q,m);fI(N,gt);break t}}N=N.return}while(N!==null)}SR(g)}catch(Lt){m=Lt,bn===g&&g!==null&&(bn=g=g.return);continue}break}while(!0)}function wR(){var d=nb.current;return nb.current=Yv,d===null?Yv:d}function oP(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Vn===null||(jd&268435455)===0&&(ab&268435455)===0||Qc(Vn,ra)}function lb(d,m){var g=le;le|=2;var A=wR();(Vn!==d||ra!==m)&&(ws=null,Ld(d,m));do try{wQ();break}catch(k){bR(d,k)}while(!0);if(v_(),le=g,nb.current=A,bn!==null)throw Error(e(261));return Vn=null,ra=0,Nn}function wQ(){for(;bn!==null;)AR(bn)}function AQ(){for(;bn!==null&&!WX();)AR(bn)}function AR(d){var m=kR(d.alternate,d,_r);d.memoizedProps=d.pendingProps,m===null?SR(d):bn=m,Q_.current=null}function SR(d){var m=d;do{var g=m.alternate;if(d=m.return,(m.flags&32768)===0){if(g=pQ(g,m,_r),g!==null){bn=g;return}}else{if(g=fQ(g,m),g!==null){g.flags&=32767,bn=g;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Nn=6,bn=null;return}}if(m=m.sibling,m!==null){bn=m;return}bn=m=d}while(m!==null);Nn===0&&(Nn=5)}function Id(d,m,g){var A=ve,k=ri.transition;try{ri.transition=null,ve=1,SQ(d,m,g,A)}finally{ri.transition=k,ve=A}return null}function SQ(d,m,g,A){do mh();while(Xc!==null);if((le&6)!==0)throw Error(e(327));g=d.finishedWork;var k=d.finishedLanes;if(g===null)return null;if(d.finishedWork=null,d.finishedLanes=0,g===d.current)throw Error(e(177));d.callbackNode=null,d.callbackPriority=0;var N=g.lanes|g.childLanes;if(aY(d,N),d===Vn&&(bn=Vn=null,ra=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||ib||(ib=!0,CR(hv,function(){return mh(),null})),N=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||N){N=ri.transition,ri.transition=null;var R=ve;ve=1;var q=le;le|=4,Q_.current=null,xQ(d,g),hR(g,d),zY(o_),bv=!!i_,o_=i_=null,d.current=g,yQ(g),KX(),le=q,ve=R,ri.transition=N}else d.current=g;if(ib&&(ib=!1,Xc=d,ob=k),N=d.pendingLanes,N===0&&(Kc=null),QX(g.stateNode),ar(d,fn()),m!==null)for(A=d.onRecoverableError,g=0;g<m.length;g++)k=m[g],A(k.value,{componentStack:k.stack,digest:k.digest});if(rb)throw rb=!1,d=tP,tP=null,d;return(ob&1)!==0&&d.tag!==0&&mh(),N=d.pendingLanes,(N&1)!==0?d===eP?ag++:(ag=0,eP=d):ag=0,qc(),null}function mh(){if(Xc!==null){var d=uL(ob),m=ri.transition,g=ve;try{if(ri.transition=null,ve=16>d?16:d,Xc===null)var A=!1;else{if(d=Xc,Xc=null,ob=0,(le&6)!==0)throw Error(e(331));var k=le;for(le|=4,_t=d.current;_t!==null;){var N=_t,R=N.child;if((_t.flags&16)!==0){var q=N.deletions;if(q!==null){for(var J=0;J<q.length;J++){var rt=q[J];for(_t=rt;_t!==null;){var mt=_t;switch(mt.tag){case 0:case 11:case 15:tg(8,mt,N)}var pt=mt.child;if(pt!==null)pt.return=mt,_t=pt;else for(;_t!==null;){mt=_t;var dt=mt.sibling,wt=mt.return;if(cR(mt),mt===rt){_t=null;break}if(dt!==null){dt.return=wt,_t=dt;break}_t=wt}}}var Dt=N.alternate;if(Dt!==null){var Bt=Dt.child;if(Bt!==null){Dt.child=null;do{var gn=Bt.sibling;Bt.sibling=null,Bt=gn}while(Bt!==null)}}_t=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,_t=R;else t:for(;_t!==null;){if(N=_t,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:tg(9,N,N.return)}var et=N.sibling;if(et!==null){et.return=N.return,_t=et;break t}_t=N.return}}var Z=d.current;for(_t=Z;_t!==null;){R=_t;var at=R.child;if((R.subtreeFlags&2064)!==0&&at!==null)at.return=R,_t=at;else t:for(R=Z;_t!==null;){if(q=_t,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:eb(9,q)}}catch(Lt){sn(q,q.return,Lt)}if(q===R){_t=null;break t}var gt=q.sibling;if(gt!==null){gt.return=q.return,_t=gt;break t}_t=q.return}}if(le=k,qc(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(pv,d)}catch{}A=!0}return A}finally{ve=g,ri.transition=m}}return!1}function _R(d,m,g){m=ch(g,m),m=UI(d,m,1),d=Vc(d,m,1),m=Ma(),d!==null&&(C2(d,1,m),ar(d,m))}function sn(d,m,g){if(d.tag===3)_R(d,d,g);else for(;m!==null;){if(m.tag===3){_R(m,d,g);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Kc===null||!Kc.has(A))){d=ch(g,d),d=zI(m,d,1),m=Vc(m,d,1),d=Ma(),m!==null&&(C2(m,1,d),ar(m,d));break}}m=m.return}}function _Q(d,m,g){var A=d.pingCache;A!==null&&A.delete(m),m=Ma(),d.pingedLanes|=d.suspendedLanes&g,Vn===d&&(ra&g)===g&&(Nn===4||Nn===3&&(ra&130023424)===ra&&500>fn()-Z_?Ld(d,0):J_|=g),ar(d,m)}function PR(d,m){m===0&&((d.mode&1)===0?m=1:(m=gv,gv<<=1,(gv&130023424)===0&&(gv=4194304)));var g=Ma();d=ys(d,m),d!==null&&(C2(d,m,g),ar(d,g))}function PQ(d){var m=d.memoizedState,g=0;m!==null&&(g=m.retryLane),PR(d,g)}function kQ(d,m){var g=0;switch(d.tag){case 13:var A=d.stateNode,k=d.memoizedState;k!==null&&(g=k.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(e(314))}A!==null&&A.delete(m),PR(d,g)}var kR;kR=function(d,m,g){if(d!==null)if(d.memoizedProps!==m.pendingProps||Za.current)er=!0;else{if((d.lanes&g)===0&&(m.flags&128)===0)return er=!1,hQ(d,m,g);er=(d.flags&131072)!==0}else er=!1,He&&(m.flags&1048576)!==0&&iI(m,Mv,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;Zv(d,m),d=m.pendingProps;var k=th(m,va.current);oh(m,g),k=D_(null,m,A,d,k,g);var N=N_();return m.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,tr(A)?(N=!0,Lv(m)):N=!1,m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,S_(m),k.updater=Qv,m.stateNode=k,k._reactInternals=m,R_(m,A,d,g),m=G_(null,m,A,!0,N,g)):(m.tag=0,He&&N&&h_(m),Ra(null,m,k,g),m=m.child),m;case 16:A=m.elementType;t:{switch(Zv(d,m),d=m.pendingProps,k=A._init,A=k(A._payload),m.type=A,k=m.tag=EQ(A),d=Mi(A,d),k){case 0:m=$_(null,m,A,d,g);break t;case 1:m=JI(null,m,A,d,g);break t;case 11:m=WI(null,m,A,d,g);break t;case 14:m=KI(null,m,A,Mi(A.type,d),g);break t}throw Error(e(306,A,""))}return m;case 0:return A=m.type,k=m.pendingProps,k=m.elementType===A?k:Mi(A,k),$_(d,m,A,k,g);case 1:return A=m.type,k=m.pendingProps,k=m.elementType===A?k:Mi(A,k),JI(d,m,A,k,g);case 3:t:{if(ZI(m),d===null)throw Error(e(387));A=m.pendingProps,N=m.memoizedState,k=N.element,pI(d,m),qv(m,A,null,g);var R=m.memoizedState;if(A=R.element,N.isDehydrated)if(N={element:A,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},m.updateQueue.baseState=N,m.memoizedState=N,m.flags&256){k=ch(Error(e(423)),m),m=tR(d,m,A,g,k);break t}else if(A!==k){k=ch(Error(e(424)),m),m=tR(d,m,A,g,k);break t}else for(Sr=Gc(m.stateNode.containerInfo.firstChild),Ar=m,He=!0,Ri=null,g=mI(m,null,A,g),m.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ah(),A===k){m=bs(d,m,g);break t}Ra(d,m,A,g)}m=m.child}return m;case 5:return xI(m),d===null&&g_(m),A=m.type,k=m.pendingProps,N=d!==null?d.memoizedProps:null,R=k.children,s_(A,k)?R=null:N!==null&&s_(A,N)&&(m.flags|=32),QI(d,m),Ra(d,m,R,g),m.child;case 6:return d===null&&g_(m),null;case 13:return eR(d,m,g);case 4:return __(m,m.stateNode.containerInfo),A=m.pendingProps,d===null?m.child=rh(m,null,A,g):Ra(d,m,A,g),m.child;case 11:return A=m.type,k=m.pendingProps,k=m.elementType===A?k:Mi(A,k),WI(d,m,A,k,g);case 7:return Ra(d,m,m.pendingProps,g),m.child;case 8:return Ra(d,m,m.pendingProps.children,g),m.child;case 12:return Ra(d,m,m.pendingProps.children,g),m.child;case 10:t:{if(A=m.type._context,k=m.pendingProps,N=m.memoizedProps,R=k.value,Oe(Gv,A._currentValue),A._currentValue=R,N!==null)if(Ii(N.value,R)){if(N.children===k.children&&!Za.current){m=bs(d,m,g);break t}}else for(N=m.child,N!==null&&(N.return=m);N!==null;){var q=N.dependencies;if(q!==null){R=N.child;for(var J=q.firstContext;J!==null;){if(J.context===A){if(N.tag===1){J=vs(-1,g&-g),J.tag=2;var rt=N.updateQueue;if(rt!==null){rt=rt.shared;var mt=rt.pending;mt===null?J.next=J:(J.next=mt.next,mt.next=J),rt.pending=J}}N.lanes|=g,J=N.alternate,J!==null&&(J.lanes|=g),w_(N.return,g,m),q.lanes|=g;break}J=J.next}}else if(N.tag===10)R=N.type===m.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(e(341));R.lanes|=g,q=R.alternate,q!==null&&(q.lanes|=g),w_(R,g,m),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===m){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}Ra(d,m,k.children,g),m=m.child}return m;case 9:return k=m.type,A=m.pendingProps.children,oh(m,g),k=ni(k),A=A(k),m.flags|=1,Ra(d,m,A,g),m.child;case 14:return A=m.type,k=Mi(A,m.pendingProps),k=Mi(A.type,k),KI(d,m,A,k,g);case 15:return XI(d,m,m.type,m.pendingProps,g);case 17:return A=m.type,k=m.pendingProps,k=m.elementType===A?k:Mi(A,k),Zv(d,m),m.tag=1,tr(A)?(d=!0,Lv(m)):d=!1,oh(m,g),$I(m,A,k),R_(m,A,k,g),G_(null,m,A,!0,d,g);case 19:return aR(d,m,g);case 22:return YI(d,m,g)}throw Error(e(156,m.tag))};function CR(d,m){return oL(d,m)}function CQ(d,m,g,A){this.tag=d,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(d,m,g,A){return new CQ(d,m,g,A)}function sP(d){return d=d.prototype,!(!d||!d.isReactComponent)}function EQ(d){if(typeof d=="function")return sP(d)?1:0;if(d!=null){if(d=d.$$typeof,d===G)return 11;if(d===X)return 14}return 2}function Jc(d,m){var g=d.alternate;return g===null?(g=ii(d.tag,m,d.key,d.mode),g.elementType=d.elementType,g.type=d.type,g.stateNode=d.stateNode,g.alternate=d,d.alternate=g):(g.pendingProps=m,g.type=d.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=d.flags&14680064,g.childLanes=d.childLanes,g.lanes=d.lanes,g.child=d.child,g.memoizedProps=d.memoizedProps,g.memoizedState=d.memoizedState,g.updateQueue=d.updateQueue,m=d.dependencies,g.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},g.sibling=d.sibling,g.index=d.index,g.ref=d.ref,g}function db(d,m,g,A,k,N){var R=2;if(A=d,typeof d=="function")sP(d)&&(R=1);else if(typeof d=="string")R=5;else t:switch(d){case B:return Rd(g.children,k,N,m);case L:R=8,k|=8;break;case M:return d=ii(12,g,m,k|2),d.elementType=M,d.lanes=N,d;case $:return d=ii(13,g,m,k),d.elementType=$,d.lanes=N,d;case H:return d=ii(19,g,m,k),d.elementType=H,d.lanes=N,d;case W:return ub(g,k,N,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case U:R=10;break t;case F:R=9;break t;case G:R=11;break t;case X:R=14;break t;case Q:R=16,A=null;break t}throw Error(e(130,d==null?d:typeof d,""))}return m=ii(R,g,m,k),m.elementType=d,m.type=A,m.lanes=N,m}function Rd(d,m,g,A){return d=ii(7,d,A,m),d.lanes=g,d}function ub(d,m,g,A){return d=ii(22,d,A,m),d.elementType=W,d.lanes=g,d.stateNode={isHidden:!1},d}function cP(d,m,g){return d=ii(6,d,null,m),d.lanes=g,d}function lP(d,m,g){return m=ii(4,d.children!==null?d.children:[],d.key,m),m.lanes=g,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function TQ(d,m,g,A,k){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=IS(0),this.expirationTimes=IS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=IS(0),this.identifierPrefix=A,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function dP(d,m,g,A,k,N,R,q,J){return d=new TQ(d,m,g,q,J),m===1?(m=1,N===!0&&(m|=8)):m=0,N=ii(3,null,null,m),d.current=N,N.stateNode=d,N.memoizedState={element:A,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},S_(N),d}function DQ(d,m,g){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:A==null?null:""+A,children:d,containerInfo:m,implementation:g}}function ER(d){if(!d)return zc;d=d._reactInternals;t:{if(Pd(d)!==d||d.tag!==1)throw Error(e(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break t;case 1:if(tr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break t}}m=m.return}while(m!==null);throw Error(e(171))}if(d.tag===1){var g=d.type;if(tr(g))return nI(d,g,m)}return m}function TR(d,m,g,A,k,N,R,q,J){return d=dP(g,A,!0,d,k,N,R,q,J),d.context=ER(null),g=d.current,A=Ma(),k=Yc(g),N=vs(A,k),N.callback=m??null,Vc(g,N,k),d.current.lanes=k,C2(d,k,A),ar(d,A),d}function mb(d,m,g,A){var k=m.current,N=Ma(),R=Yc(k);return g=ER(g),m.context===null?m.context=g:m.pendingContext=g,m=vs(N,R),m.payload={element:d},A=A===void 0?null:A,A!==null&&(m.callback=A),d=Vc(k,m,R),d!==null&&(Gi(d,k,R,N),zv(d,k,R)),R}function hb(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function DR(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var g=d.retryLane;d.retryLane=g!==0&&g<m?g:m}}function uP(d,m){DR(d,m),(d=d.alternate)&&DR(d,m)}function NQ(){return null}var NR=typeof reportError=="function"?reportError:function(d){console.error(d)};function mP(d){this._internalRoot=d}pb.prototype.render=mP.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(e(409));mb(d,m,null,null)},pb.prototype.unmount=mP.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Od(function(){mb(null,d,null,null)}),m[ps]=null}};function pb(d){this._internalRoot=d}pb.prototype.unstable_scheduleHydration=function(d){if(d){var m=pL();d={blockedOn:null,target:d,priority:m};for(var g=0;g<Mc.length&&m!==0&&m<Mc[g].priority;g++);Mc.splice(g,0,d),g===0&&xL(d)}};function hP(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function fb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function BR(){}function BQ(d,m,g,A,k){if(k){if(typeof A=="function"){var N=A;A=function(){var rt=hb(R);N.call(rt)}}var R=TR(m,A,d,0,null,!1,!1,"",BR);return d._reactRootContainer=R,d[ps]=R.current,G2(d.nodeType===8?d.parentNode:d),Od(),R}for(;k=d.lastChild;)d.removeChild(k);if(typeof A=="function"){var q=A;A=function(){var rt=hb(J);q.call(rt)}}var J=dP(d,0,!1,null,null,!1,!1,"",BR);return d._reactRootContainer=J,d[ps]=J.current,G2(d.nodeType===8?d.parentNode:d),Od(function(){mb(m,J,g,A)}),J}function gb(d,m,g,A,k){var N=g._reactRootContainer;if(N){var R=N;if(typeof k=="function"){var q=k;k=function(){var J=hb(R);q.call(J)}}mb(m,R,d,k)}else R=BQ(g,m,d,k,A);return hb(R)}mL=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var g=k2(m.pendingLanes);g!==0&&(RS(m,g|1),ar(m,fn()),(le&6)===0&&(uh=fn()+500,qc()))}break;case 13:Od(function(){var A=ys(d,1);if(A!==null){var k=Ma();Gi(A,d,1,k)}}),uP(d,1)}},MS=function(d){if(d.tag===13){var m=ys(d,134217728);if(m!==null){var g=Ma();Gi(m,d,134217728,g)}uP(d,134217728)}},hL=function(d){if(d.tag===13){var m=Yc(d),g=ys(d,m);if(g!==null){var A=Ma();Gi(g,d,m,A)}uP(d,m)}},pL=function(){return ve},fL=function(d,m){var g=ve;try{return ve=d,m()}finally{ve=g}},DS=function(d,m,g){switch(m){case"input":if(qn(d,g),m=g.name,g.type==="radio"&&m!=null){for(g=d;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<g.length;m++){var A=g[m];if(A!==d&&A.form===d.form){var k=jv(A);if(!k)throw Error(e(90));lt(A),qn(A,k)}}}break;case"textarea":v2(d,g);break;case"select":m=g.value,m!=null&&Ja(d,!!g.multiple,m,!1)}},ZO=rP,tL=Od;var jQ={usingClientEntryPoint:!1,Events:[q2,Jm,jv,QO,JO,rP]},rg={findFiberByHostInstance:kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OQ={bundleType:rg.bundleType,version:rg.version,rendererPackageName:rg.rendererPackageName,rendererConfig:rg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=rL(d),d===null?null:d.stateNode},findFiberByHostInstance:rg.findFiberByHostInstance||NQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xb.isDisabled&&xb.supportsFiber)try{pv=xb.inject(OQ),vo=xb}catch{}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jQ,rr.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hP(m))throw Error(e(200));return DQ(d,m,null,g)},rr.createRoot=function(d,m){if(!hP(d))throw Error(e(299));var g=!1,A="",k=NR;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),m=dP(d,1,!1,null,null,g,!1,A,k),d[ps]=m.current,G2(d.nodeType===8?d.parentNode:d),new mP(m)},rr.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(e(188)):(d=Object.keys(d).join(","),Error(e(268,d)));return d=rL(m),d=d===null?null:d.stateNode,d},rr.flushSync=function(d){return Od(d)},rr.hydrate=function(d,m,g){if(!fb(m))throw Error(e(200));return gb(null,d,m,!0,g)},rr.hydrateRoot=function(d,m,g){if(!hP(d))throw Error(e(405));var A=g!=null&&g.hydratedSources||null,k=!1,N="",R=NR;if(g!=null&&(g.unstable_strictMode===!0&&(k=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(R=g.onRecoverableError)),m=TR(m,null,d,1,g??null,k,!1,N,R),d[ps]=m.current,G2(d),A)for(d=0;d<A.length;d++)g=A[d],k=g._getVersion,k=k(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,k]:m.mutableSourceEagerHydrationData.push(g,k);return new pb(m)},rr.render=function(d,m,g){if(!fb(m))throw Error(e(200));return gb(null,d,m,!1,g)},rr.unmountComponentAtNode=function(d){if(!fb(d))throw Error(e(40));return d._reactRootContainer?(Od(function(){gb(null,null,d,!1,function(){d._reactRootContainer=null,d[ps]=null})}),!0):!1},rr.unstable_batchedUpdates=rP,rr.unstable_renderSubtreeIntoContainer=function(d,m,g,A){if(!fb(g))throw Error(e(200));if(d==null||d._reactInternals===void 0)throw Error(e(38));return gb(d,m,g,!1,A)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var GR;function uU(){if(GR)return xP.exports;GR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xP.exports=HQ(),xP.exports}var UR;function VQ(){if(UR)return vb;UR=1;var n=uU();return vb.createRoot=n.createRoot,vb.hydrateRoot=n.hydrateRoot,vb}var WQ=VQ();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(n,t)=>{const e=I.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:c,...l},u)=>I.createElement("svg",{ref:u,...KQ,width:r,height:r,stroke:a,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${XQ(n)}`,s].join(" "),...l},[...t.map(([h,f])=>I.createElement(h,f)),...Array.isArray(c)?c:[c]]));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=It("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=It("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=It("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=It("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=It("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=It("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=It("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=It("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=It("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=It("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=It("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=It("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=It("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=It("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=It("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=It("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=It("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=It("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=It("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=It("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=It("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=It("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=It("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=It("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=It("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=It("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=It("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=It("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=It("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=It("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=It("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=It("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=It("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=It("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=It("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=It("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=It("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=It("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=It("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=It("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=It("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=It("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=It("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=It("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=It("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=It("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=It("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=It("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=It("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=It("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=It("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=It("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=It("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=It("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=It("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=It("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=It("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=It("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bJ=n=>n instanceof Error?n.message+`
`+n.stack:JSON.stringify(n,null,2);class Eo extends Y.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("ErrorBoundary caught an error:",t,e),this.setState({error:t,errorInfo:e})}render(){return this.state.hasError?x.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4","data-matrix-id":"src/components/ErrorBoundary.tsx:32:8","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"32","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-background%20flex%20items-center%20justify-center%20p-4%22%7D",children:x.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-xl max-w-2xl w-full","data-matrix-id":"src/components/ErrorBoundary.tsx:33:10","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"33","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-8%20shadow-xl%20max-w-2xl%20w-full%22%7D",children:[x.jsxs("div",{className:"text-center mb-6","data-matrix-id":"src/components/ErrorBoundary.tsx:34:12","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"34","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-6%22%7D",children:[x.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4","data-matrix-id":"src/components/ErrorBoundary.tsx:35:14","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"35","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20bg-red-100%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-4%22%7D",children:x.jsx(SU,{className:"w-8 h-8 text-red-600","data-matrix-id":"src/components/ErrorBoundary.tsx:36:16","data-matrix-name":"AlertTriangle","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"36","data-component-file":"ErrorBoundary.tsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-red-600%22%7D"})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/components/ErrorBoundary.tsx:38:14","data-matrix-name":"h2","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"38","data-component-file":"ErrorBoundary.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Application Error"}),x.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/components/ErrorBoundary.tsx:41:14","data-matrix-name":"p","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"41","data-component-file":"ErrorBoundary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"The application encountered an unexpected error. Please try refreshing the page."})]}),x.jsxs("details",{className:"text-left bg-muted rounded-lg p-4 mb-6 text-sm","data-matrix-id":"src/components/ErrorBoundary.tsx:47:12","data-matrix-name":"details","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"47","data-component-file":"ErrorBoundary.tsx","data-component-name":"details","data-component-content":"%7B%22className%22%3A%22text-left%20bg-muted%20rounded-lg%20p-4%20mb-6%20text-sm%22%7D",children:[x.jsx("summary",{className:"cursor-pointer font-medium text-foreground mb-2","data-matrix-id":"src/components/ErrorBoundary.tsx:48:14","data-matrix-name":"summary","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"48","data-component-file":"ErrorBoundary.tsx","data-component-name":"summary","data-component-content":"%7B%22className%22%3A%22cursor-pointer%20font-medium%20text-foreground%20mb-2%22%7D",children:"Error Details (for debugging)"}),x.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3","data-matrix-id":"src/components/ErrorBoundary.tsx:51:14","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"51","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-red-50%20border%20border-red-200%20rounded%20p-3%22%7D",children:x.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-red-800 overflow-auto max-h-64","data-matrix-id":"src/components/ErrorBoundary.tsx:52:16","data-matrix-name":"pre","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"52","data-component-file":"ErrorBoundary.tsx","data-component-name":"pre","data-component-content":"%7B%22className%22%3A%22whitespace-pre-wrap%20break-words%20text-xs%20text-red-800%20overflow-auto%20max-h-64%22%7D",children:bJ(this.state.error)})})]}),x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/ErrorBoundary.tsx:58:12","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"58","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors","data-matrix-id":"src/components/ErrorBoundary.tsx:59:14","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"59","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20bg-blue-600%20text-white%20py-3%20rounded-lg%20font-medium%20flex%20items-center%20justify-center%20gap-2%20hover%3Abg-blue-700%20transition-colors%22%7D",children:[x.jsx(rw,{className:"w-4 h-4","data-matrix-id":"src/components/ErrorBoundary.tsx:63:16","data-matrix-name":"RefreshCw","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"63","data-component-file":"ErrorBoundary.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Reload Page"]}),x.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"w-full bg-muted text-foreground py-3 rounded-lg font-medium hover:bg-muted/80 transition-colors","data-matrix-id":"src/components/ErrorBoundary.tsx:67:14","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"67","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20bg-muted%20text-foreground%20py-3%20rounded-lg%20font-medium%20hover%3Abg-muted%2F80%20transition-colors%22%7D",children:"Go to Dashboard"})]})]})}):this.props.children}}uU();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lx(){return lx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},lx.apply(this,arguments)}var rd;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rd||(rd={}));const HR="popstate";function wJ(n){n===void 0&&(n={});function t(a,r){let{pathname:i,search:o,hash:s}=a.location;return JE("",{pathname:i,search:o,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(a,r){return typeof r=="string"?r:PU(r)}return SJ(t,e,null,n)}function Cn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function _U(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AJ(){return Math.random().toString(36).substr(2,8)}function VR(n,t){return{usr:n.state,key:n.key,idx:t}}function JE(n,t,e,a){return e===void 0&&(e=null),lx({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?a2(t):t,{state:e,key:t&&t.key||a||AJ()})}function PU(n){let{pathname:t="/",search:e="",hash:a=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function a2(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let a=n.indexOf("?");a>=0&&(t.search=n.substr(a),n=n.substr(0,a)),n&&(t.pathname=n)}return t}function SJ(n,t,e,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,s=rd.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(lx({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function h(){s=rd.Pop;let b=u(),S=b==null?null:b-l;l=b,c&&c({action:s,location:v.location,delta:S})}function f(b,S){s=rd.Push;let _=JE(v.location,b,S);l=u()+1;let P=VR(_,l),E=v.createHref(_);try{o.pushState(P,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(E)}i&&c&&c({action:s,location:v.location,delta:1})}function y(b,S){s=rd.Replace;let _=JE(v.location,b,S);l=u();let P=VR(_,l),E=v.createHref(_);o.replaceState(P,"",E),i&&c&&c({action:s,location:v.location,delta:0})}function w(b){let S=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof b=="string"?b:PU(b);return _=_.replace(/ $/,"%20"),Cn(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let v={get action(){return s},get location(){return n(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(HR,h),c=b,()=>{r.removeEventListener(HR,h),c=null}},createHref(b){return t(r,b)},createURL:w,encodeLocation(b){let S=w(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:f,replace:y,go(b){return o.go(b)}};return v}var WR;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(WR||(WR={}));function _J(n,t,e){return e===void 0&&(e="/"),PJ(n,t,e)}function PJ(n,t,e,a){let r=typeof t=="string"?a2(t):t,i=EU(r.pathname||"/",e);if(i==null)return null;let o=kU(n);kJ(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let l=MJ(i);s=LJ(o[c],l)}return s}function kU(n,t,e,a){t===void 0&&(t=[]),e===void 0&&(e=[]),a===void 0&&(a="");let r=(i,o,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Cn(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let l=bm([a,c.relativePath]),u=e.concat(c);i.children&&i.children.length>0&&(Cn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),kU(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:jJ(l,i.index),routesMeta:u})};return n.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))r(i,o);else for(let c of CU(i.path))r(i,o,c)}),t}function CU(n){let t=n.split("/");if(t.length===0)return[];let[e,...a]=t,r=e.endsWith("?"),i=e.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let o=CU(a.join("/")),s=[];return s.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&s.push(...o),s.map(c=>n.startsWith("/")&&c===""?"/":c)}function kJ(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:OJ(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}const CJ=/^:[\w-]+$/,EJ=3,TJ=2,DJ=1,NJ=10,BJ=-2,KR=n=>n==="*";function jJ(n,t){let e=n.split("/"),a=e.length;return e.some(KR)&&(a+=BJ),t&&(a+=TJ),e.filter(r=>!KR(r)).reduce((r,i)=>r+(CJ.test(i)?EJ:i===""?DJ:NJ),a)}function OJ(n,t){return n.length===t.length&&n.slice(0,-1).every((a,r)=>a===t[r])?n[n.length-1]-t[t.length-1]:0}function LJ(n,t,e){let{routesMeta:a}=n,r={},i="/",o=[];for(let s=0;s<a.length;++s){let c=a[s],l=s===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=IJ({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:bm([i,h.pathname]),pathnameBase:UJ(bm([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=bm([i,h.pathnameBase]))}return o}function IJ(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,a]=RJ(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:a.reduce((l,u,h)=>{let{paramName:f,isOptional:y}=u;if(f==="*"){let v=s[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=s[h];return y&&!w?l[f]=void 0:l[f]=(w||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:n}}function RJ(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),_U(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let a=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(a.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function MJ(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _U(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function EU(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=n.charAt(e);return a&&a!=="/"?null:n.slice(e)||"/"}function FJ(n,t){t===void 0&&(t="/");let{pathname:e,search:a="",hash:r=""}=typeof n=="string"?a2(n):n;return{pathname:e?e.startsWith("/")?e:$J(e,t):t,search:zJ(a),hash:qJ(r)}}function $J(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function bP(n,t,e,a){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GJ(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function TU(n,t){let e=GJ(n);return t?e.map((a,r)=>r===e.length-1?a.pathname:a.pathnameBase):e.map(a=>a.pathnameBase)}function DU(n,t,e,a){a===void 0&&(a=!1);let r;typeof n=="string"?r=a2(n):(r=lx({},n),Cn(!r.pathname||!r.pathname.includes("?"),bP("?","pathname","search",r)),Cn(!r.pathname||!r.pathname.includes("#"),bP("#","pathname","hash",r)),Cn(!r.search||!r.search.includes("#"),bP("#","search","hash",r)));let i=n===""||r.pathname==="",o=i?"/":r.pathname,s;if(o==null)s=e;else{let h=t.length-1;if(!a&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}s=h>=0?t[h]:"/"}let c=FJ(r,s),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const bm=n=>n.join("/").replace(/\/\/+/g,"/"),UJ=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zJ=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qJ=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HJ(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const NU=["post","put","patch","delete"];new Set(NU);const VJ=["get",...NU];new Set(VJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dx(){return dx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},dx.apply(this,arguments)}const BB=I.createContext(null),WJ=I.createContext(null),$y=I.createContext(null),O1=I.createContext(null),fd=I.createContext({outlet:null,matches:[],isDataRoute:!1}),BU=I.createContext(null);function Gy(){return I.useContext(O1)!=null}function Uy(){return Gy()||Cn(!1),I.useContext(O1).location}function jU(n){I.useContext($y).static||I.useLayoutEffect(n)}function Ia(){let{isDataRoute:n}=I.useContext(fd);return n?sZ():KJ()}function KJ(){Gy()||Cn(!1);let n=I.useContext(BB),{basename:t,future:e,navigator:a}=I.useContext($y),{matches:r}=I.useContext(fd),{pathname:i}=Uy(),o=JSON.stringify(TU(r,e.v7_relativeSplatPath)),s=I.useRef(!1);return jU(()=>{s.current=!0}),I.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){a.go(l);return}let h=DU(l,JSON.parse(o),i,u.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bm([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,o,i,n])}function XJ(){let{matches:n}=I.useContext(fd),t=n[n.length-1];return t?t.params:{}}function YJ(n,t){return QJ(n,t)}function QJ(n,t,e,a){Gy()||Cn(!1);let{navigator:r,static:i}=I.useContext($y),{matches:o}=I.useContext(fd),s=o[o.length-1],c=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Uy(),h;if(t){var f;let S=typeof t=="string"?a2(t):t;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Cn(!1),h=S}else h=u;let y=h.pathname||"/",w=y;if(l!=="/"){let S=l.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=_J(n,{pathname:w}),b=nZ(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:bm([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:bm([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,e,a);return t&&b?I.createElement(O1.Provider,{value:{location:dx({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:rd.Pop}},b):b}function JJ(){let n=oZ(),t=HJ(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:r},e):null,null)}const ZJ=I.createElement(JJ,null);class tZ extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(fd.Provider,{value:this.props.routeContext},I.createElement(BU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eZ(n){let{routeContext:t,match:e,children:a}=n,r=I.useContext(BB);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(fd.Provider,{value:t},a)}function nZ(n,t,e,a){var r;if(t===void 0&&(t=[]),e===void 0&&(e=null),a===void 0&&(a=null),n==null){var i;if(!e)return null;if(e.errors)n=e.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,s=(r=e)==null?void 0:r.errors;if(s!=null){let u=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);u>=0||Cn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(e&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:y}=e,w=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let y,w=!1,v=null,b=null;e&&(y=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||ZJ,c&&(l<0&&f===0?(cZ("route-fallback"),w=!0,b=null):l===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,f+1)),_=()=>{let P;return y?P=v:w?P=b:h.route.Component?P=I.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=u,I.createElement(eZ,{match:h,routeContext:{outlet:u,matches:S,isDataRoute:e!=null},children:P})};return e&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(tZ,{location:e.location,revalidation:e.revalidation,component:v,error:y,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var OU=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(OU||{}),LU=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(LU||{});function aZ(n){let t=I.useContext(BB);return t||Cn(!1),t}function rZ(n){let t=I.useContext(WJ);return t||Cn(!1),t}function iZ(n){let t=I.useContext(fd);return t||Cn(!1),t}function IU(n){let t=iZ(),e=t.matches[t.matches.length-1];return e.route.id||Cn(!1),e.route.id}function oZ(){var n;let t=I.useContext(BU),e=rZ(),a=IU();return t!==void 0?t:(n=e.errors)==null?void 0:n[a]}function sZ(){let{router:n}=aZ(OU.UseNavigateStable),t=IU(LU.UseNavigateStable),e=I.useRef(!1);return jU(()=>{e.current=!0}),I.useCallback(function(r,i){i===void 0&&(i={}),e.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,dx({fromRouteId:t},i)))},[n,t])}const XR={};function cZ(n,t,e){XR[n]||(XR[n]=!0)}function lZ(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Wg(n){let{to:t,replace:e,state:a,relative:r}=n;Gy()||Cn(!1);let{future:i,static:o}=I.useContext($y),{matches:s}=I.useContext(fd),{pathname:c}=Uy(),l=Ia(),u=DU(t,TU(s,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(u);return I.useEffect(()=>l(JSON.parse(h),{replace:e,state:a,relative:r}),[l,h,r,e,a]),null}function _a(n){Cn(!1)}function dZ(n){let{basename:t="/",children:e=null,location:a,navigationType:r=rd.Pop,navigator:i,static:o=!1,future:s}=n;Gy()&&Cn(!1);let c=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:c,navigator:i,static:o,future:dx({v7_relativeSplatPath:!1},s)}),[c,s,i,o]);typeof a=="string"&&(a=a2(a));let{pathname:u="/",search:h="",hash:f="",state:y=null,key:w="default"}=a,v=I.useMemo(()=>{let b=EU(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:y,key:w},navigationType:r}},[c,u,h,f,y,w,r]);return v==null?null:I.createElement($y.Provider,{value:l},I.createElement(O1.Provider,{children:e,value:v}))}function uZ(n){let{children:t,location:e}=n;return YJ(ZE(t),e)}new Promise(()=>{});function ZE(n,t){t===void 0&&(t=[]);let e=[];return I.Children.forEach(n,(a,r)=>{if(!I.isValidElement(a))return;let i=[...t,r];if(a.type===I.Fragment){e.push.apply(e,ZE(a.props.children,i));return}a.type!==_a&&Cn(!1),!a.props.index||!a.props.children||Cn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ZE(a.props.children,i)),e.push(o)}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const mZ="6";try{window.__reactRouterVersion=mZ}catch{}const hZ="startTransition",YR=UQ[hZ];function pZ(n){let{basename:t,children:e,future:a,window:r}=n,i=I.useRef();i.current==null&&(i.current=wJ({window:r,v5Compat:!0}));let o=i.current,[s,c]=I.useState({action:o.action,location:o.location}),{v7_startTransition:l}=a||{},u=I.useCallback(h=>{l&&YR?YR(()=>c(h)):c(h)},[c,l]);return I.useLayoutEffect(()=>o.listen(u),[o,u]),I.useEffect(()=>lZ(a),[a]),I.createElement(dZ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o,future:a})}var QR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(QR||(QR={}));var JR;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(JR||(JR={}));let fZ={data:""},gZ=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||fZ},xZ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yZ=/\/\*[^]*?\*\/|  +/g,ZR=/\n+/g,ol=(n,t)=>{let e="",a="",r="";for(let i in n){let o=n[i];i[0]=="@"?i[1]=="i"?e=i+" "+o+";":a+=i[1]=="f"?ol(o,i):i+"{"+ol(o,i[1]=="k"?"":t)+"}":typeof o=="object"?a+=ol(o,t?t.replace(/([^,])+/g,s=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,s):s?s+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=ol.p?ol.p(i,o):i+":"+o+";")}return e+(t&&r?t+"{"+r+"}":r)+a},As={},RU=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+RU(n[e]);return t}return n},vZ=(n,t,e,a,r)=>{let i=RU(n),o=As[i]||(As[i]=(c=>{let l=0,u=11;for(;l<c.length;)u=101*u+c.charCodeAt(l++)>>>0;return"go"+u})(i));if(!As[o]){let c=i!==n?n:(l=>{let u,h,f=[{}];for(;u=xZ.exec(l.replace(yZ,""));)u[4]?f.shift():u[3]?(h=u[3].replace(ZR," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(ZR," ").trim();return f[0]})(n);As[o]=ol(r?{["@keyframes "+o]:c}:c,e?"":"."+o)}let s=e&&As.g?As.g:null;return e&&(As.g=As[o]),((c,l,u,h)=>{h?l.data=l.data.replace(h,c):l.data.indexOf(c)===-1&&(l.data=u?c+l.data:l.data+c)})(As[o],t,a,s),o},bZ=(n,t,e)=>n.reduce((a,r,i)=>{let o=t[i];if(o&&o.call){let s=o(e),c=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=c?"."+c:s&&typeof s=="object"?s.props?"":ol(s,""):s===!1?"":s}return a+r+(o??"")},"");function L1(n){let t=this||{},e=n.call?n(t.p):n;return vZ(e.unshift?e.raw?bZ(e,[].slice.call(arguments,1),t.p):e.reduce((a,r)=>Object.assign(a,r&&r.call?r(t.p):r),{}):e,gZ(t.target),t.g,t.o,t.k)}let MU,tT,eT;L1.bind({g:1});let Sc=L1.bind({k:1});function wZ(n,t,e,a){ol.p=t,MU=n,tT=e,eT=a}function gd(n,t){let e=this||{};return function(){let a=arguments;function r(i,o){let s=Object.assign({},i),c=s.className||r.className;e.p=Object.assign({theme:tT&&tT()},s),e.o=/ *go\d+/.test(c),s.className=L1.apply(e,a)+(c?" "+c:"");let l=n;return n[0]&&(l=s.as||n,delete s.as),eT&&l[0]&&eT(s),MU(l,s)}return r}}var AZ=n=>typeof n=="function",Ww=(n,t)=>AZ(n)?n(t):n,SZ=(()=>{let n=0;return()=>(++n).toString()})(),FU=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),_Z=20,jB="default",$U=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:a}=t;return $U(n,{type:n.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:r}=t;return{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let i=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},iw=[],GU={toasts:[],pausedAt:void 0,settings:{toastLimit:_Z}},Zo={},UU=(n,t=jB)=>{Zo[t]=$U(Zo[t]||GU,n),iw.forEach(([e,a])=>{e===t&&a(Zo[t])})},zU=n=>Object.keys(Zo).forEach(t=>UU(n,t)),PZ=n=>Object.keys(Zo).find(t=>Zo[t].toasts.some(e=>e.id===n)),I1=(n=jB)=>t=>{UU(t,n)},kZ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CZ=(n={},t=jB)=>{let[e,a]=I.useState(Zo[t]||GU),r=I.useRef(Zo[t]);I.useEffect(()=>(r.current!==Zo[t]&&a(Zo[t]),iw.push([t,a]),()=>{let o=iw.findIndex(([s])=>s===t);o>-1&&iw.splice(o,1)}),[t]);let i=e.toasts.map(o=>{var s,c,l;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((s=n[o.type])==null?void 0:s.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((c=n[o.type])==null?void 0:c.duration)||(n==null?void 0:n.duration)||kZ[o.type],style:{...n.style,...(l=n[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:i}},EZ=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||SZ()}),zy=n=>(t,e)=>{let a=EZ(t,n,e);return I1(a.toasterId||PZ(a.id))({type:2,toast:a}),a.id},Fn=(n,t)=>zy("blank")(n,t);Fn.error=zy("error");Fn.success=zy("success");Fn.loading=zy("loading");Fn.custom=zy("custom");Fn.dismiss=(n,t)=>{let e={type:3,toastId:n};t?I1(t)(e):zU(e)};Fn.dismissAll=n=>Fn.dismiss(void 0,n);Fn.remove=(n,t)=>{let e={type:4,toastId:n};t?I1(t)(e):zU(e)};Fn.removeAll=n=>Fn.remove(void 0,n);Fn.promise=(n,t,e)=>{let a=Fn.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let i=t.success?Ww(t.success,r):void 0;return i?Fn.success(i,{id:a,...e,...e==null?void 0:e.success}):Fn.dismiss(a),r}).catch(r=>{let i=t.error?Ww(t.error,r):void 0;i?Fn.error(i,{id:a,...e,...e==null?void 0:e.error}):Fn.dismiss(a)}),n};var TZ=1e3,DZ=(n,t="default")=>{let{toasts:e,pausedAt:a}=CZ(n,t),r=I.useRef(new Map).current,i=I.useCallback((h,f=TZ)=>{if(r.has(h))return;let y=setTimeout(()=>{r.delete(h),o({type:4,toastId:h})},f);r.set(h,y)},[]);I.useEffect(()=>{if(a)return;let h=Date.now(),f=e.map(y=>{if(y.duration===1/0)return;let w=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(w<0){y.visible&&Fn.dismiss(y.id);return}return setTimeout(()=>Fn.dismiss(y.id,t),w)});return()=>{f.forEach(y=>y&&clearTimeout(y))}},[e,a,t]);let o=I.useCallback(I1(t),[t]),s=I.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=I.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),l=I.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),u=I.useCallback((h,f)=>{let{reverseOrder:y=!1,gutter:w=8,defaultPosition:v}=f||{},b=e.filter(P=>(P.position||v)===(h.position||v)&&P.height),S=b.findIndex(P=>P.id===h.id),_=b.filter((P,E)=>E<S&&P.visible).length;return b.filter(P=>P.visible).slice(...y?[_+1]:[0,_]).reduce((P,E)=>P+(E.height||0)+w,0)},[e]);return I.useEffect(()=>{e.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=r.get(h.id);f&&(clearTimeout(f),r.delete(h.id))}})},[e,i]),{toasts:e,handlers:{updateHeight:c,startPause:s,endPause:l,calculateOffset:u}}},NZ=Sc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BZ=Sc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jZ=Sc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OZ=gd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BZ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jZ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LZ=Sc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IZ=gd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${LZ} 1s linear infinite;
`,RZ=Sc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,MZ=Sc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FZ=gd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${MZ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$Z=gd("div")`
  position: absolute;
`,GZ=gd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UZ=Sc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zZ=gd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UZ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qZ=({toast:n})=>{let{icon:t,type:e,iconTheme:a}=n;return t!==void 0?typeof t=="string"?I.createElement(zZ,null,t):t:e==="blank"?null:I.createElement(GZ,null,I.createElement(IZ,{...a}),e!=="loading"&&I.createElement($Z,null,e==="error"?I.createElement(OZ,{...a}):I.createElement(FZ,{...a})))},HZ=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VZ=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,WZ="0%{opacity:0;} 100%{opacity:1;}",KZ="0%{opacity:1;} 100%{opacity:0;}",XZ=gd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YZ=gd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QZ=(n,t)=>{let e=n.includes("top")?1:-1,[a,r]=FU()?[WZ,KZ]:[HZ(e),VZ(e)];return{animation:t?`${Sc(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sc(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JZ=I.memo(({toast:n,position:t,style:e,children:a})=>{let r=n.height?QZ(n.position||t||"top-center",n.visible):{opacity:0},i=I.createElement(qZ,{toast:n}),o=I.createElement(YZ,{...n.ariaProps},Ww(n.message,n));return I.createElement(XZ,{className:n.className,style:{...r,...e,...n.style}},typeof a=="function"?a({icon:i,message:o}):I.createElement(I.Fragment,null,i,o))});wZ(I.createElement);var ZZ=({id:n,className:t,style:e,onHeightUpdate:a,children:r})=>{let i=I.useCallback(o=>{if(o){let s=()=>{let c=o.getBoundingClientRect().height;a(n,c)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,a]);return I.createElement("div",{ref:i,className:t,style:e},r)},ttt=(n,t)=>{let e=n.includes("top"),a=e?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:FU()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...a,...r}},ett=L1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bb=16,ntt=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:a,children:r,toasterId:i,containerStyle:o,containerClassName:s})=>{let{toasts:c,handlers:l}=DZ(e,i);return I.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:bb,left:bb,right:bb,bottom:bb,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let h=u.position||t,f=l.calculateOffset(u,{reverseOrder:n,gutter:a,defaultPosition:t}),y=ttt(h,f);return I.createElement(ZZ,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?ett:"",style:y},u.type==="custom"?Ww(u.message,u):r?r(u):I.createElement(JZ,{toast:u,position:h}))}))},Nt=Fn;const OB=I.createContext({});function LB(n){const t=I.useRef(null);return t.current===null&&(t.current=n()),t.current}const IB=typeof window<"u",qU=IB?I.useLayoutEffect:I.useEffect,R1=I.createContext(null);function RB(n,t){n.indexOf(t)===-1&&n.push(t)}function MB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const _c=(n,t,e)=>e>t?t:e<n?n:e;let FB=()=>{};const Pc={},HU=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function VU(n){return typeof n=="object"&&n!==null}const WU=n=>/^0[^.\s]+$/u.test(n);function $B(n){let t;return()=>(t===void 0&&(t=n()),t)}const ki=n=>n,att=(n,t)=>e=>t(n(e)),qy=(...n)=>n.reduce(att),ux=(n,t,e)=>{const a=t-n;return a===0?1:(e-n)/a};class GB{constructor(){this.subscriptions=[]}add(t){return RB(this.subscriptions,t),()=>MB(this.subscriptions,t)}notify(t,e,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,a);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(t,e,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const is=n=>n*1e3,_i=n=>n/1e3;function KU(n,t){return t?n*(1e3/t):0}const XU=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,rtt=1e-7,itt=12;function ott(n,t,e,a,r){let i,o,s=0;do o=t+(e-t)/2,i=XU(o,a,r)-n,i>0?e=o:t=o;while(Math.abs(i)>rtt&&++s<itt);return o}function Hy(n,t,e,a){if(n===t&&e===a)return ki;const r=i=>ott(i,0,1,n,e);return i=>i===0||i===1?i:XU(r(i),t,a)}const YU=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,QU=n=>t=>1-n(1-t),JU=Hy(.33,1.53,.69,.99),UB=QU(JU),ZU=YU(UB),tz=n=>(n*=2)<1?.5*UB(n):.5*(2-Math.pow(2,-10*(n-1))),zB=n=>1-Math.sin(Math.acos(n)),ez=QU(zB),nz=YU(zB),stt=Hy(.42,0,1,1),ctt=Hy(0,0,.58,1),az=Hy(.42,0,.58,1),ltt=n=>Array.isArray(n)&&typeof n[0]!="number",rz=n=>Array.isArray(n)&&typeof n[0]=="number",dtt={linear:ki,easeIn:stt,easeInOut:az,easeOut:ctt,circIn:zB,circInOut:nz,circOut:ez,backIn:UB,backInOut:ZU,backOut:JU,anticipate:tz},utt=n=>typeof n=="string",t7=n=>{if(rz(n)){FB(n.length===4);const[t,e,a,r]=n;return Hy(t,e,a,r)}else if(utt(n))return dtt[n];return n},wb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mtt(n,t){let e=new Set,a=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),n()),u(s)}const l={schedule:(u,h=!1,f=!1)=>{const w=f&&r?e:a;return h&&o.add(u),w.has(u)||w.add(u),u},cancel:u=>{a.delete(u),o.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,a]=[a,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const htt=40;function iz(n,t){let e=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>e=!0,o=wb.reduce((P,E)=>(P[E]=mtt(i),P),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:h,preRender:f,render:y,postRender:w}=o,v=()=>{const P=Pc.useManualTiming?r.timestamp:performance.now();e=!1,Pc.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(P-r.timestamp,htt),1)),r.timestamp=P,r.isProcessing=!0,s.process(r),c.process(r),l.process(r),u.process(r),h.process(r),f.process(r),y.process(r),w.process(r),r.isProcessing=!1,e&&t&&(a=!1,n(v))},b=()=>{e=!0,a=!0,r.isProcessing||n(v)};return{schedule:wb.reduce((P,E)=>{const C=o[E];return P[E]=(T,B=!1,L=!1)=>(e||b(),C.schedule(T,B,L)),P},{}),cancel:P=>{for(let E=0;E<wb.length;E++)o[wb[E]].cancel(P)},state:r,steps:o}}const{schedule:Xe,cancel:cd,state:ma,steps:wP}=iz(typeof requestAnimationFrame<"u"?requestAnimationFrame:ki,!0);let ow;function ptt(){ow=void 0}const yr={now:()=>(ow===void 0&&yr.set(ma.isProcessing||Pc.useManualTiming?ma.timestamp:performance.now()),ow),set:n=>{ow=n,queueMicrotask(ptt)}},oz=n=>t=>typeof t=="string"&&t.startsWith(n),qB=oz("--"),ftt=oz("var(--"),HB=n=>ftt(n)?gtt.test(n.split("/*")[0].trim()):!1,gtt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,r2={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},mx={...r2,transform:n=>_c(0,1,n)},Ab={...r2,default:1},Kg=n=>Math.round(n*1e5)/1e5,VB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xtt(n){return n==null}const ytt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,WB=(n,t)=>e=>!!(typeof e=="string"&&ytt.test(e)&&e.startsWith(n)||t&&!xtt(e)&&Object.prototype.hasOwnProperty.call(e,t)),sz=(n,t,e)=>a=>{if(typeof a!="string")return a;const[r,i,o,s]=a.match(VB);return{[n]:parseFloat(r),[t]:parseFloat(i),[e]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},vtt=n=>_c(0,255,n),AP={...r2,transform:n=>Math.round(vtt(n))},tu={test:WB("rgb","red"),parse:sz("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:a=1})=>"rgba("+AP.transform(n)+", "+AP.transform(t)+", "+AP.transform(e)+", "+Kg(mx.transform(a))+")"};function btt(n){let t="",e="",a="",r="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),a=n.substring(5,7),r=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),a=n.substring(3,4),r=n.substring(4,5),t+=t,e+=e,a+=a,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const nT={test:WB("#"),parse:btt,transform:tu.transform},Vy=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),el=Vy("deg"),os=Vy("%"),qt=Vy("px"),wtt=Vy("vh"),Att=Vy("vw"),e7={...os,parse:n=>os.parse(n)/100,transform:n=>os.transform(n*100)},Oh={test:WB("hsl","hue"),parse:sz("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:a=1})=>"hsla("+Math.round(n)+", "+os.transform(Kg(t))+", "+os.transform(Kg(e))+", "+Kg(mx.transform(a))+")"},kn={test:n=>tu.test(n)||nT.test(n)||Oh.test(n),parse:n=>tu.test(n)?tu.parse(n):Oh.test(n)?Oh.parse(n):nT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?tu.transform(n):Oh.transform(n),getAnimatableNone:n=>{const t=kn.parse(n);return t.alpha=0,kn.transform(t)}},Stt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _tt(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(VB))==null?void 0:t.length)||0)+(((e=n.match(Stt))==null?void 0:e.length)||0)>0}const cz="number",lz="color",Ptt="var",ktt="var(",n7="${}",Ctt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hx(n){const t=n.toString(),e=[],a={color:[],number:[],var:[]},r=[];let i=0;const s=t.replace(Ctt,c=>(kn.test(c)?(a.color.push(i),r.push(lz),e.push(kn.parse(c))):c.startsWith(ktt)?(a.var.push(i),r.push(Ptt),e.push(c)):(a.number.push(i),r.push(cz),e.push(parseFloat(c))),++i,n7)).split(n7);return{values:e,split:s,indexes:a,types:r}}function dz(n){return hx(n).values}function uz(n){const{split:t,types:e}=hx(n),a=t.length;return r=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],r[o]!==void 0){const s=e[o];s===cz?i+=Kg(r[o]):s===lz?i+=kn.transform(r[o]):i+=r[o]}return i}}const Ett=n=>typeof n=="number"?0:kn.test(n)?kn.getAnimatableNone(n):n;function Ttt(n){const t=dz(n);return uz(n)(t.map(Ett))}const ld={test:_tt,parse:dz,createTransformer:uz,getAnimatableNone:Ttt};function SP(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Dtt({hue:n,saturation:t,lightness:e,alpha:a}){n/=360,t/=100,e/=100;let r=0,i=0,o=0;if(!t)r=i=o=e;else{const s=e<.5?e*(1+t):e+t-e*t,c=2*e-s;r=SP(c,s,n+1/3),i=SP(c,s,n),o=SP(c,s,n-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function Kw(n,t){return e=>e>0?t:n}const nn=(n,t,e)=>n+(t-n)*e,_P=(n,t,e)=>{const a=n*n,r=e*(t*t-a)+a;return r<0?0:Math.sqrt(r)},Ntt=[nT,tu,Oh],Btt=n=>Ntt.find(t=>t.test(n));function a7(n){const t=Btt(n);if(!t)return!1;let e=t.parse(n);return t===Oh&&(e=Dtt(e)),e}const r7=(n,t)=>{const e=a7(n),a=a7(t);if(!e||!a)return Kw(n,t);const r={...e};return i=>(r.red=_P(e.red,a.red,i),r.green=_P(e.green,a.green,i),r.blue=_P(e.blue,a.blue,i),r.alpha=nn(e.alpha,a.alpha,i),tu.transform(r))},aT=new Set(["none","hidden"]);function jtt(n,t){return aT.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function Ott(n,t){return e=>nn(n,t,e)}function KB(n){return typeof n=="number"?Ott:typeof n=="string"?HB(n)?Kw:kn.test(n)?r7:Rtt:Array.isArray(n)?mz:typeof n=="object"?kn.test(n)?r7:Ltt:Kw}function mz(n,t){const e=[...n],a=e.length,r=n.map((i,o)=>KB(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)e[o]=r[o](i);return e}}function Ltt(n,t){const e={...n,...t},a={};for(const r in e)n[r]!==void 0&&t[r]!==void 0&&(a[r]=KB(n[r])(n[r],t[r]));return r=>{for(const i in a)e[i]=a[i](r);return e}}function Itt(n,t){const e=[],a={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],o=n.indexes[i][a[i]],s=n.values[o]??0;e[r]=s,a[i]++}return e}const Rtt=(n,t)=>{const e=ld.createTransformer(t),a=hx(n),r=hx(t);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?aT.has(n)&&!r.values.length||aT.has(t)&&!a.values.length?jtt(n,t):qy(mz(Itt(a,r),r.values),e):Kw(n,t)};function hz(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?nn(n,t,e):KB(n)(n,t)}const Mtt=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Xe.update(t,e),stop:()=>cd(t),now:()=>ma.isProcessing?ma.timestamp:yr.now()}},pz=(n,t,e=10)=>{let a="";const r=Math.max(Math.round(t/e),2);for(let i=0;i<r;i++)a+=Math.round(n(i/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Xw=2e4;function XB(n){let t=0;const e=50;let a=n.next(t);for(;!a.done&&t<Xw;)t+=e,a=n.next(t);return t>=Xw?1/0:t}function Ftt(n,t=100,e){const a=e({...n,keyframes:[0,t]}),r=Math.min(XB(a),Xw);return{type:"keyframes",ease:i=>a.next(r*i).value/t,duration:_i(r)}}const $tt=5;function fz(n,t,e){const a=Math.max(t-$tt,0);return KU(e-n(a),t-a)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i7=.001;function Gtt({duration:n=un.duration,bounce:t=un.bounce,velocity:e=un.velocity,mass:a=un.mass}){let r,i,o=1-t;o=_c(un.minDamping,un.maxDamping,o),n=_c(un.minDuration,un.maxDuration,_i(n)),o<1?(r=l=>{const u=l*o,h=u*n,f=u-e,y=rT(l,o),w=Math.exp(-h);return i7-f/y*w},i=l=>{const h=l*o*n,f=h*e+e,y=Math.pow(o,2)*Math.pow(l,2)*n,w=Math.exp(-h),v=rT(Math.pow(l,2),o);return(-r(l)+i7>0?-1:1)*((f-y)*w)/v}):(r=l=>{const u=Math.exp(-l*n),h=(l-e)*n+1;return-.001+u*h},i=l=>{const u=Math.exp(-l*n),h=(e-l)*(n*n);return u*h});const s=5/n,c=ztt(r,i,s);if(n=is(n),isNaN(c))return{stiffness:un.stiffness,damping:un.damping,duration:n};{const l=Math.pow(c,2)*a;return{stiffness:l,damping:o*2*Math.sqrt(a*l),duration:n}}}const Utt=12;function ztt(n,t,e){let a=e;for(let r=1;r<Utt;r++)a=a-n(a)/t(a);return a}function rT(n,t){return n*Math.sqrt(1-t*t)}const qtt=["duration","bounce"],Htt=["stiffness","damping","mass"];function o7(n,t){return t.some(e=>n[e]!==void 0)}function Vtt(n){let t={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...n};if(!o7(n,Htt)&&o7(n,qtt))if(n.visualDuration){const e=n.visualDuration,a=2*Math.PI/(e*1.2),r=a*a,i=2*_c(.05,1,1-(n.bounce||0))*Math.sqrt(r);t={...t,mass:un.mass,stiffness:r,damping:i}}else{const e=Gtt(n);t={...t,...e,mass:un.mass},t.isResolvedFromDuration=!0}return t}function Yw(n=un.visualDuration,t=un.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:a,restDelta:r}=e;const i=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],s={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:h,velocity:f,isResolvedFromDuration:y}=Vtt({...e,velocity:-_i(e.velocity||0)}),w=f||0,v=l/(2*Math.sqrt(c*u)),b=o-i,S=_i(Math.sqrt(c/u)),_=Math.abs(b)<5;a||(a=_?un.restSpeed.granular:un.restSpeed.default),r||(r=_?un.restDelta.granular:un.restDelta.default);let P;if(v<1){const C=rT(S,v);P=T=>{const B=Math.exp(-v*S*T);return o-B*((w+v*S*b)/C*Math.sin(C*T)+b*Math.cos(C*T))}}else if(v===1)P=C=>o-Math.exp(-S*C)*(b+(w+S*b)*C);else{const C=S*Math.sqrt(v*v-1);P=T=>{const B=Math.exp(-v*S*T),L=Math.min(C*T,300);return o-B*((w+v*S*b)*Math.sinh(L)+C*b*Math.cosh(L))/C}}const E={calculatedDuration:y&&h||null,next:C=>{const T=P(C);if(y)s.done=C>=h;else{let B=C===0?w:0;v<1&&(B=C===0?is(w):fz(P,C,T));const L=Math.abs(B)<=a,M=Math.abs(o-T)<=r;s.done=L&&M}return s.value=s.done?o:T,s},toString:()=>{const C=Math.min(XB(E),Xw),T=pz(B=>E.next(C*B).value,C,30);return C+"ms "+T},toTransition:()=>{}};return E}Yw.applyToOptions=n=>{const t=Ftt(n,100,Yw);return n.ease=t.ease,n.duration=is(t.duration),n.type="keyframes",n};function iT({keyframes:n,velocity:t=0,power:e=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){const h=n[0],f={done:!1,value:h},y=L=>s!==void 0&&L<s||c!==void 0&&L>c,w=L=>s===void 0?c:c===void 0||Math.abs(s-L)<Math.abs(c-L)?s:c;let v=e*t;const b=h+v,S=o===void 0?b:o(b);S!==b&&(v=S-h);const _=L=>-v*Math.exp(-L/a),P=L=>S+_(L),E=L=>{const M=_(L),U=P(L);f.done=Math.abs(M)<=l,f.value=f.done?S:U};let C,T;const B=L=>{y(f.value)&&(C=L,T=Yw({keyframes:[f.value,w(f.value)],velocity:fz(P,L,f.value),damping:r,stiffness:i,restDelta:l,restSpeed:u}))};return B(0),{calculatedDuration:null,next:L=>{let M=!1;return!T&&C===void 0&&(M=!0,E(L),B(L)),C!==void 0&&L>=C?T.next(L-C):(!M&&E(L),f)}}}function Wtt(n,t,e){const a=[],r=e||Pc.mix||hz,i=n.length-1;for(let o=0;o<i;o++){let s=r(n[o],n[o+1]);if(t){const c=Array.isArray(t)?t[o]||ki:t;s=qy(c,s)}a.push(s)}return a}function Ktt(n,t,{clamp:e=!0,ease:a,mixer:r}={}){const i=n.length;if(FB(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),t=[...t].reverse());const s=Wtt(t,a,r),c=s.length,l=u=>{if(o&&u<n[0])return t[0];let h=0;if(c>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const f=ux(n[h],n[h+1],u);return s[h](f)};return e?u=>l(_c(n[0],n[i-1],u)):l}function Xtt(n,t){const e=n[n.length-1];for(let a=1;a<=t;a++){const r=ux(0,t,a);n.push(nn(e,1,r))}}function Ytt(n){const t=[0];return Xtt(t,n.length-1),t}function Qtt(n,t){return n.map(e=>e*t)}function Jtt(n,t){return n.map(()=>t||az).splice(0,n.length-1)}function Xg({duration:n=300,keyframes:t,times:e,ease:a="easeInOut"}){const r=ltt(a)?a.map(t7):t7(a),i={done:!1,value:t[0]},o=Qtt(e&&e.length===t.length?e:Ytt(t),n),s=Ktt(o,t,{ease:Array.isArray(r)?r:Jtt(t,r)});return{calculatedDuration:n,next:c=>(i.value=s(c),i.done=c>=n,i)}}const Ztt=n=>n!==null;function YB(n,{repeat:t,repeatType:e="loop"},a,r=1){const i=n.filter(Ztt),s=r<0||t&&e!=="loop"&&t%2===1?0:i.length-1;return!s||a===void 0?i[s]:a}const tet={decay:iT,inertia:iT,tween:Xg,keyframes:Xg,spring:Yw};function gz(n){typeof n.type=="string"&&(n.type=tet[n.type])}class QB{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const eet=n=>n/100;class JB extends QB{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:e}=this.options;e&&e.updatedAt!==yr.now()&&this.tick(yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gz(t);const{type:e=Xg,repeat:a=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=t;let{keyframes:s}=t;const c=e||Xg;c!==Xg&&typeof s[0]!="number"&&(this.mixKeyframes=qy(eet,hz(s[0],s[1])),s=[0,100]);const l=c({...t,keyframes:s});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...s].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=XB(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=l}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:a,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:l=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:y,type:w,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const S=this.currentTime-l*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let P=this.currentTime,E=a;if(h){const L=Math.min(this.currentTime,r)/s;let M=Math.floor(L),U=L%1;!U&&L>=1&&(U=1),U===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(f==="reverse"?(U=1-U,y&&(U-=y/s)):f==="mirror"&&(E=o)),P=_c(0,1,U)*s}const C=_?{done:!1,value:u[0]}:E.next(P);i&&(C.value=i(C.value));let{done:T}=C;!_&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return B&&w!==iT&&(C.value=YB(u,this.options,b,this.speed)),v&&v(C.value),B&&this.finish(),C}then(t,e){return this.finished.then(t,e)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){var e;t=is(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yr.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=_i(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=Mtt,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=e??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function net(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const eu=n=>n*180/Math.PI,oT=n=>{const t=eu(Math.atan2(n[1],n[0]));return sT(t)},aet={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:oT,rotateZ:oT,skewX:n=>eu(Math.atan(n[1])),skewY:n=>eu(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},sT=n=>(n=n%360,n<0&&(n+=360),n),s7=oT,c7=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),l7=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ret={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:c7,scaleY:l7,scale:n=>(c7(n)+l7(n))/2,rotateX:n=>sT(eu(Math.atan2(n[6],n[5]))),rotateY:n=>sT(eu(Math.atan2(-n[2],n[0]))),rotateZ:s7,rotate:s7,skewX:n=>eu(Math.atan(n[4])),skewY:n=>eu(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cT(n){return n.includes("scale")?1:0}function lT(n,t){if(!n||n==="none")return cT(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(e)a=ret,r=e;else{const s=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=aet,r=s}if(!r)return cT(t);const i=a[t],o=r[1].split(",").map(oet);return typeof i=="function"?i(o):o[i]}const iet=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return lT(e,t)};function oet(n){return parseFloat(n.trim())}const i2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],o2=new Set(i2),d7=n=>n===r2||n===qt,set=new Set(["x","y","z"]),cet=i2.filter(n=>!set.has(n));function det(n){const t=[];return cet.forEach(e=>{const a=n.getValue(e);a!==void 0&&(t.push([e,a.get()]),a.set(e.startsWith("scale")?1:0))}),t}const wm={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>lT(t,"x"),y:(n,{transform:t})=>lT(t,"y")};wm.translateX=wm.x;wm.translateY=wm.y;const Am=new Set;let dT=!1,uT=!1,mT=!1;function xz(){if(uT){const n=Array.from(Am).filter(a=>a.needsMeasurement),t=new Set(n.map(a=>a.element)),e=new Map;t.forEach(a=>{const r=det(a);r.length&&(e.set(a,r),a.render())}),n.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const r=e.get(a);r&&r.forEach(([i,o])=>{var s;(s=a.getValue(i))==null||s.set(o)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}uT=!1,dT=!1,Am.forEach(n=>n.complete(mT)),Am.clear()}function yz(){Am.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(uT=!0)})}function uet(){mT=!0,yz(),xz(),mT=!1}class ZB{constructor(t,e,a,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=a,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Am.add(this),dT||(dT=!0,Xe.read(yz),Xe.resolveKeyframes(xz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:a,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&e){const s=a.readValue(e,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),r&&i===void 0&&r.set(t[0])}net(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Am.delete(this)}cancel(){this.state==="scheduled"&&(Am.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const met=n=>n.startsWith("--");function het(n,t,e){met(t)?n.style.setProperty(t,e):n.style[t]=e}const pet=$B(()=>window.ScrollTimeline!==void 0),fet={};function get(n,t){const e=$B(n);return()=>fet[t]??e()}const vz=get(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bg=([n,t,e,a])=>`cubic-bezier(${n}, ${t}, ${e}, ${a})`,u7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bg([0,.65,.55,1]),circOut:bg([.55,0,1,.45]),backIn:bg([.31,.01,.66,-.59]),backOut:bg([.33,1.53,.69,.99])};function bz(n,t){if(n)return typeof n=="function"?vz()?pz(n,t):"ease-out":rz(n)?bg(n):Array.isArray(n)?n.map(e=>bz(e,t)||u7.easeOut):u7[n]}function xet(n,t,e,{delay:a=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:s="easeOut",times:c}={},l=void 0){const u={[t]:e};c&&(u.offset=c);const h=bz(s,r);Array.isArray(h)&&(u.easing=h);const f={delay:a,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),n.animate(u,f)}function wz(n){return typeof n=="function"&&"applyToOptions"in n}function yet({type:n,...t}){return wz(n)&&vz()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vet extends QB{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:a,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:s,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,FB(typeof t.type!="string");const l=yet(t);this.animation=xet(e,a,r,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=YB(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(u):het(e,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,a;const t=((a=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:a.call(e).duration)||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=is(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&pet()?(this.animation.timeline=t,ki):e(this)}}const Az={anticipate:tz,backInOut:ZU,circInOut:nz};function bet(n){return n in Az}function wet(n){typeof n.ease=="string"&&bet(n.ease)&&(n.ease=Az[n.ease])}const m7=10;class Aet extends vet{constructor(t){wet(t),gz(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:a,onComplete:r,element:i,...o}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const s=new JB({...o,autoplay:!1}),c=is(this.finishedTime??this.time);e.setWithVelocity(s.sample(c-m7).value,s.sample(c).value,m7),s.stop()}}const h7=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ld.test(n)||n==="0")&&!n.startsWith("url("));function _et(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function Pet(n,t,e,a){const r=n[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=n[n.length-1],o=h7(r,t),s=h7(i,t);return!o||!s?!1:_et(n)||(e==="spring"||wz(e))&&a}function hT(n){n.duration=0,n.type="keyframes"}const ket=new Set(["opacity","clipPath","filter","transform"]),Cet=$B(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Eet(n){var u;const{motionValue:t,name:e,repeatDelay:a,repeatType:r,damping:i,type:o}=n;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return Cet()&&e&&ket.has(e)&&(e!=="transform"||!l)&&!c&&!a&&r!=="mirror"&&i!==0&&o!=="inertia"}const Tet=40;class Det extends QB{constructor({autoplay:t=!0,delay:e=0,type:a="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:s,name:c,motionValue:l,element:u,...h}){var w;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=yr.now();const f={autoplay:t,delay:e,type:a,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:l,element:u,...h},y=(u==null?void 0:u.KeyframeResolver)||ZB;this.keyframeResolver=new y(s,(v,b,S)=>this.onKeyframesResolved(v,b,f,!S),c,l,u),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,e,a,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:s,delay:c,isHandoff:l,onUpdate:u}=a;this.resolvedAt=yr.now(),Pet(t,i,o,s)||((Pc.instantAnimations||!c)&&(u==null||u(YB(t,a,e))),t[0]=t[t.length-1],hT(a),a.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Tet?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...a,keyframes:t},y=!l&&Eet(f)?new Aet({...f,element:f.motionValue.owner.current}):new JB(f);y.finished.then(()=>this.notifyFinished()).catch(ki),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),uet()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Net=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bet(n){const t=Net.exec(n);if(!t)return[,];const[,e,a,r]=t;return[`--${e??a}`,r]}function Sz(n,t,e=1){const[a,r]=Bet(n);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return HU(o)?parseFloat(o):o}return HB(r)?Sz(r,t,e+1):r}function tj(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const _z=new Set(["width","height","top","left","right","bottom",...i2]),jet={test:n=>n==="auto",parse:n=>n},Pz=n=>t=>t.test(n),kz=[r2,qt,os,el,Att,wtt,jet],p7=n=>kz.find(Pz(n));function Oet(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||WU(n):!0}const Let=new Set(["brightness","contrast","saturate","opacity"]);function Iet(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[a]=e.match(VB)||[];if(!a)return n;const r=e.replace(a,"");let i=Let.has(t)?1:0;return a!==e&&(i*=100),t+"("+i+r+")"}const Ret=/\b([a-z-]*)\(.*?\)/gu,pT={...ld,getAnimatableNone:n=>{const t=n.match(Ret);return t?t.map(Iet).join(" "):n}},f7={...r2,transform:Math.round},Met={rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:Ab,scaleX:Ab,scaleY:Ab,scaleZ:Ab,skew:el,skewX:el,skewY:el,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:mx,originX:e7,originY:e7,originZ:qt},ej={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt,...Met,zIndex:f7,fillOpacity:mx,strokeOpacity:mx,numOctaves:f7},Fet={...ej,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:pT,WebkitFilter:pT},Cz=n=>Fet[n];function Ez(n,t){let e=Cz(n);return e!==pT&&(e=ld),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const $et=new Set(["auto","none","0"]);function Get(n,t,e){let a=0,r;for(;a<n.length&&!r;){const i=n[a];typeof i=="string"&&!$et.has(i)&&hx(i).values.length&&(r=n[a]),a++}if(r&&e)for(const i of t)n[i]=Ez(e,r)}class Uet extends ZB{constructor(t,e,a,r,i){super(t,e,a,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:a}=this;if(!e||!e.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),HB(l))){const u=Sz(l,e.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!_z.has(a)||t.length!==2)return;const[r,i]=t,o=p7(r),s=p7(i);if(o!==s)if(d7(o)&&d7(s))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else wm[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,a=[];for(let r=0;r<t.length;r++)(t[r]===null||Oet(t[r]))&&a.push(r);a.length&&Get(t,a,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wm[a](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(a,r).jump(r,!1)}measureEndState(){var s;const{element:t,name:e,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=wm[e](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function zet(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const r=(e==null?void 0:e[n])??a.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const Tz=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Dz(n){return VU(n)&&"offsetHeight"in n}const g7=30,qet=n=>!isNaN(parseFloat(n));class Het{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const r=yr.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=yr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qet(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new GB);const a=this.events[t].add(e);return t==="change"?()=>{a(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,a){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>g7)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,g7);return KU(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cf(n,t){return new Het(n,t)}const{schedule:nj}=iz(queueMicrotask,!1),Vi={x:!1,y:!1};function Nz(){return Vi.x||Vi.y}function Vet(n){return n==="x"||n==="y"?Vi[n]?null:(Vi[n]=!0,()=>{Vi[n]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function Bz(n,t){const e=zet(n),a=new AbortController,r={passive:!0,...t,signal:a.signal};return[e,r,()=>a.abort()]}function x7(n){return!(n.pointerType==="touch"||Nz())}function Wet(n,t,e={}){const[a,r,i]=Bz(n,e),o=s=>{if(!x7(s))return;const{target:c}=s,l=t(c,s);if(typeof l!="function"||!c)return;const u=h=>{x7(h)&&(l(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return a.forEach(s=>{s.addEventListener("pointerenter",o,r)}),i}const jz=(n,t)=>t?n===t?!0:jz(n,t.parentElement):!1,aj=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Ket=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xet(n){return Ket.has(n.tagName)||n.tabIndex!==-1}const sw=new WeakSet;function y7(n){return t=>{t.key==="Enter"&&n(t)}}function PP(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Yet=(n,t)=>{const e=n.currentTarget;if(!e)return;const a=y7(()=>{if(sw.has(e))return;PP(e,"down");const r=y7(()=>{PP(e,"up")}),i=()=>PP(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",i,t)});e.addEventListener("keydown",a,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",a),t)};function v7(n){return aj(n)&&!Nz()}function Qet(n,t,e={}){const[a,r,i]=Bz(n,e),o=s=>{const c=s.currentTarget;if(!v7(s))return;sw.add(c);const l=t(c,s),u=(y,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),sw.has(c)&&sw.delete(c),v7(y)&&typeof l=="function"&&l(y,{success:w})},h=y=>{u(y,c===window||c===document||e.useGlobalTarget||jz(c,y.target))},f=y=>{u(y,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return a.forEach(s=>{(e.useGlobalTarget?window:s).addEventListener("pointerdown",o,r),Dz(s)&&(s.addEventListener("focus",l=>Yet(l,r)),!Xet(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),i}function Oz(n){return VU(n)&&"ownerSVGElement"in n}function Jet(n){return Oz(n)&&n.tagName==="svg"}const La=n=>!!(n&&n.getVelocity),Zet=[...kz,kn,ld],tnt=n=>Zet.find(Pz(n)),rj=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function b7(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function ent(...n){return t=>{let e=!1;const a=n.map(r=>{const i=b7(r,t);return!e&&typeof i=="function"&&(e=!0),i});if(e)return()=>{for(let r=0;r<a.length;r++){const i=a[r];typeof i=="function"?i():b7(n[r],null)}}}}function nnt(...n){return I.useCallback(ent(...n),n)}class ant extends I.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const a=e.offsetParent,r=Dz(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=e.offsetHeight||0,i.width=e.offsetWidth||0,i.top=e.offsetTop,i.left=e.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rnt({children:n,isPresent:t,anchorX:e,root:a}){const r=I.useId(),i=I.useRef(null),o=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=I.useContext(rj),c=nnt(i,n==null?void 0:n.ref);return I.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f,right:y}=o.current;if(t||!i.current||!l||!u)return;const w=e==="left"?`left: ${f}`:`right: ${y}`;i.current.dataset.motionPopId=r;const v=document.createElement("style");s&&(v.nonce=s);const b=a??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[t]),x.jsx(ant,{isPresent:t,childRef:i,sizeRef:o,children:I.cloneElement(n,{ref:c})})}const int=({children:n,initial:t,isPresent:e,onExitComplete:a,custom:r,presenceAffectsLayout:i,mode:o,anchorX:s,root:c})=>{const l=LB(ont),u=I.useId();let h=!0,f=I.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:e,custom:r,onExitComplete:y=>{l.set(y,!0);for(const w of l.values())if(!w)return;a&&a()},register:y=>(l.set(y,!1),()=>l.delete(y))}),[e,l,a]);return i&&h&&(f={...f}),I.useMemo(()=>{l.forEach((y,w)=>l.set(w,!1))},[e]),I.useEffect(()=>{!e&&!l.size&&a&&a()},[e]),o==="popLayout"&&(n=x.jsx(rnt,{isPresent:e,anchorX:s,root:c,children:n})),x.jsx(R1.Provider,{value:f,children:n})};function ont(){return new Map}function Lz(n=!0){const t=I.useContext(R1);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:a,register:r}=t,i=I.useId();I.useEffect(()=>{if(n)return r(i)},[n]);const o=I.useCallback(()=>n&&a&&a(i),[i,a,n]);return!e&&a?[!1,o]:[!0]}const Sb=n=>n.key||"";function w7(n){const t=[];return I.Children.forEach(n,e=>{I.isValidElement(e)&&t.push(e)}),t}const kc=({children:n,custom:t,initial:e=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:s="left",root:c})=>{const[l,u]=Lz(o),h=I.useMemo(()=>w7(n),[n]),f=o&&!l?[]:h.map(Sb),y=I.useRef(!0),w=I.useRef(h),v=LB(()=>new Map),[b,S]=I.useState(h),[_,P]=I.useState(h);qU(()=>{y.current=!1,w.current=h;for(let T=0;T<_.length;T++){const B=Sb(_[T]);f.includes(B)?v.delete(B):v.get(B)!==!0&&v.set(B,!1)}},[_,f.length,f.join("-")]);const E=[];if(h!==b){let T=[...h];for(let B=0;B<_.length;B++){const L=_[B],M=Sb(L);f.includes(M)||(T.splice(B,0,L),E.push(L))}return i==="wait"&&E.length&&(T=E),P(w7(T)),S(h),null}const{forceRender:C}=I.useContext(OB);return x.jsx(x.Fragment,{children:_.map(T=>{const B=Sb(T),L=o&&!l?!1:h===_||f.includes(B),M=()=>{if(v.has(B))v.set(B,!0);else return;let U=!0;v.forEach(F=>{F||(U=!1)}),U&&(C==null||C(),P(w.current),o&&(u==null||u()),a&&a())};return x.jsx(int,{isPresent:L,initial:!y.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,root:c,onExitComplete:L?void 0:M,anchorX:s,children:T},B)})})},Iz=I.createContext({strict:!1}),A7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ef={};for(const n in A7)Ef[n]={isEnabled:t=>A7[n].some(e=>!!t[e])};function snt(n){for(const t in n)Ef[t]={...Ef[t],...n[t]}}const cnt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cnt.has(n)}let Rz=n=>!Qw(n);function lnt(n){typeof n=="function"&&(Rz=t=>t.startsWith("on")?!Qw(t):n(t))}try{lnt(require("@emotion/is-prop-valid").default)}catch{}function dnt(n,t,e){const a={};for(const r in n)r==="values"&&typeof n.values=="object"||(Rz(r)||e===!0&&Qw(r)||!t&&!Qw(r)||n.draggable&&r.startsWith("onDrag"))&&(a[r]=n[r]);return a}const M1=I.createContext({});function F1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function px(n){return typeof n=="string"||Array.isArray(n)}const ij=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oj=["initial",...ij];function $1(n){return F1(n.animate)||oj.some(t=>px(n[t]))}function Mz(n){return!!($1(n)||n.variants)}function unt(n,t){if($1(n)){const{initial:e,animate:a}=n;return{initial:e===!1||px(e)?e:void 0,animate:px(a)?a:void 0}}return n.inherit!==!1?t:{}}function mnt(n){const{initial:t,animate:e}=unt(n,I.useContext(M1));return I.useMemo(()=>({initial:t,animate:e}),[S7(t),S7(e)])}function S7(n){return Array.isArray(n)?n.join(" "):n}const fx={};function hnt(n){for(const t in n)fx[t]=n[t],qB(t)&&(fx[t].isCSSVariable=!0)}function Fz(n,{layout:t,layoutId:e}){return o2.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!fx[n]||n==="opacity")}const pnt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fnt=i2.length;function gnt(n,t,e){let a="",r=!0;for(let i=0;i<fnt;i++){const o=i2[i],s=n[o];if(s===void 0)continue;let c=!0;if(typeof s=="number"?c=s===(o.startsWith("scale")?1:0):c=parseFloat(s)===0,!c||e){const l=Tz(s,ej[o]);if(!c){r=!1;const u=pnt[o]||o;a+=`${u}(${l}) `}e&&(t[o]=l)}}return a=a.trim(),e?a=e(t,r?"":a):r&&(a="none"),a}function sj(n,t,e){const{style:a,vars:r,transformOrigin:i}=n;let o=!1,s=!1;for(const c in t){const l=t[c];if(o2.has(c)){o=!0;continue}else if(qB(c)){r[c]=l;continue}else{const u=Tz(l,ej[c]);c.startsWith("origin")?(s=!0,i[c]=u):a[c]=u}}if(t.transform||(o||e?a.transform=gnt(t,n.transform,e):a.transform&&(a.transform="none")),s){const{originX:c="50%",originY:l="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${l} ${u}`}}const cj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $z(n,t,e){for(const a in t)!La(t[a])&&!Fz(a,e)&&(n[a]=t[a])}function xnt({transformTemplate:n},t){return I.useMemo(()=>{const e=cj();return sj(e,t,n),Object.assign({},e.vars,e.style)},[t])}function ynt(n,t){const e=n.style||{},a={};return $z(a,e,n),Object.assign(a,xnt(n,t)),a}function vnt(n,t){const e={},a=ynt(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=a,e}const bnt={offset:"stroke-dashoffset",array:"stroke-dasharray"},wnt={offset:"strokeDashoffset",array:"strokeDasharray"};function Ant(n,t,e=1,a=0,r=!0){n.pathLength=1;const i=r?bnt:wnt;n[i.offset]=qt.transform(-a);const o=qt.transform(t),s=qt.transform(e);n[i.array]=`${o} ${s}`}function Gz(n,{attrX:t,attrY:e,attrScale:a,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...s},c,l,u){if(sj(n,s,l),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:f}=n;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),e!==void 0&&(h.y=e),a!==void 0&&(h.scale=a),r!==void 0&&Ant(h,r,i,o,!1)}const Uz=()=>({...cj(),attrs:{}}),zz=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Snt(n,t,e,a){const r=I.useMemo(()=>{const i=Uz();return Gz(i,t,zz(a),n.transformTemplate,n.style),{...i.attrs,style:{...i.style}}},[t]);if(n.style){const i={};$z(i,n.style,n),r.style={...i,...r.style}}return r}const _nt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lj(n){return typeof n!="string"||n.includes("-")?!1:!!(_nt.indexOf(n)>-1||/[A-Z]/u.test(n))}function Pnt(n,t,e,{latestValues:a},r,i=!1){const s=(lj(n)?Snt:vnt)(t,a,r,n),c=dnt(t,typeof n=="string",i),l=n!==I.Fragment?{...c,...s,ref:e}:{},{children:u}=t,h=I.useMemo(()=>La(u)?u.get():u,[u]);return I.createElement(n,{...l,children:h})}function _7(n){const t=[{},{}];return n==null||n.values.forEach((e,a)=>{t[0][a]=e.get(),t[1][a]=e.getVelocity()}),t}function dj(n,t,e,a){if(typeof t=="function"){const[r,i]=_7(a);t=t(e!==void 0?e:n.custom,r,i)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[r,i]=_7(a);t=t(e!==void 0?e:n.custom,r,i)}return t}function cw(n){return La(n)?n.get():n}function knt({scrapeMotionValuesFromProps:n,createRenderState:t},e,a,r){return{latestValues:Cnt(e,a,r,n),renderState:t()}}function Cnt(n,t,e,a){const r={},i=a(n,{});for(const f in i)r[f]=cw(i[f]);let{initial:o,animate:s}=n;const c=$1(n),l=Mz(n);t&&l&&!c&&n.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=e?e.initial===!1:!1;u=u||o===!1;const h=u?s:o;if(h&&typeof h!="boolean"&&!F1(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const w=dj(n,f[y]);if(w){const{transitionEnd:v,transition:b,...S}=w;for(const _ in S){let P=S[_];if(Array.isArray(P)){const E=u?P.length-1:0;P=P[E]}P!==null&&(r[_]=P)}for(const _ in v)r[_]=v[_]}}}return r}const qz=n=>(t,e)=>{const a=I.useContext(M1),r=I.useContext(R1),i=()=>knt(n,t,a,r);return e?i():LB(i)};function uj(n,t,e){var i;const{style:a}=n,r={};for(const o in a)(La(a[o])||t.style&&La(t.style[o])||Fz(o,n)||((i=e==null?void 0:e.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=a[o]);return r}const Ent=qz({scrapeMotionValuesFromProps:uj,createRenderState:cj});function Hz(n,t,e){const a=uj(n,t,e);for(const r in n)if(La(n[r])||La(t[r])){const i=i2.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[i]=n[r]}return a}const Tnt=qz({scrapeMotionValuesFromProps:Hz,createRenderState:Uz}),Dnt=Symbol.for("motionComponentSymbol");function Lh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Nnt(n,t,e){return I.useCallback(a=>{a&&n.onMount&&n.onMount(a),t&&(a?t.mount(a):t.unmount()),e&&(typeof e=="function"?e(a):Lh(e)&&(e.current=a))},[t])}const mj=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bnt="framerAppearId",Vz="data-"+mj(Bnt),Wz=I.createContext({});function jnt(n,t,e,a,r){var v,b;const{visualElement:i}=I.useContext(M1),o=I.useContext(Iz),s=I.useContext(R1),c=I.useContext(rj).reducedMotion,l=I.useRef(null);a=a||o.renderer,!l.current&&a&&(l.current=a(n,{visualState:t,parent:i,props:e,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:c}));const u=l.current,h=I.useContext(Wz);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&Ont(l.current,e,r,h);const f=I.useRef(!1);I.useInsertionEffect(()=>{u&&f.current&&u.update(e,s)});const y=e[Vz],w=I.useRef(!!y&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return qU(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),w.current&&u.animationState&&u.animationState.animateChanges())}),I.useEffect(()=>{u&&(!w.current&&u.animationState&&u.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,y)}),w.current=!1),u.enteringChildren=void 0)}),u}function Ont(n,t,e,a){const{layoutId:r,layout:i,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:Kz(n.parent)),n.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||s&&Lh(s),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:l})}function Kz(n){if(n)return n.options.allowProjection!==!1?n.projection:Kz(n.parent)}function kP(n,{forwardMotionProps:t=!1}={},e,a){e&&snt(e);const r=lj(n)?Tnt:Ent;function i(s,c){let l;const u={...I.useContext(rj),...s,layoutId:Lnt(s)},{isStatic:h}=u,f=mnt(s),y=r(s,h);if(!h&&IB){Int();const w=Rnt(u);l=w.MeasureLayout,f.visualElement=jnt(n,y,u,a,w.ProjectionNode)}return x.jsxs(M1.Provider,{value:f,children:[l&&f.visualElement?x.jsx(l,{visualElement:f.visualElement,...u}):null,Pnt(n,s,Nnt(y,f.visualElement,c),y,h,t)]})}i.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=I.forwardRef(i);return o[Dnt]=n,o}function Lnt({layoutId:n}){const t=I.useContext(OB).id;return t&&n!==void 0?t+"-"+n:n}function Int(n,t){I.useContext(Iz).strict}function Rnt(n){const{drag:t,layout:e}=Ef;if(!t&&!e)return{};const a={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Mnt(n,t){if(typeof Proxy>"u")return kP;const e=new Map,a=(i,o)=>kP(i,o,n,t),r=(i,o)=>a(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?a:(e.has(o)||e.set(o,kP(o,void 0,n,t)),e.get(o))})}function Xz({top:n,left:t,right:e,bottom:a}){return{x:{min:t,max:e},y:{min:n,max:a}}}function Fnt({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function $nt(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),a=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:a.y,right:a.x}}function CP(n){return n===void 0||n===1}function fT({scale:n,scaleX:t,scaleY:e}){return!CP(n)||!CP(t)||!CP(e)}function Ud(n){return fT(n)||Yz(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Yz(n){return P7(n.x)||P7(n.y)}function P7(n){return n&&n!=="0%"}function Jw(n,t,e){const a=n-e,r=t*a;return e+r}function k7(n,t,e,a,r){return r!==void 0&&(n=Jw(n,r,a)),Jw(n,e,a)+t}function gT(n,t=0,e=1,a,r){n.min=k7(n.min,t,e,a,r),n.max=k7(n.max,t,e,a,r)}function Qz(n,{x:t,y:e}){gT(n.x,t.translate,t.scale,t.originPoint),gT(n.y,e.translate,e.scale,e.originPoint)}const C7=.999999999999,E7=1.0000000000001;function Gnt(n,t,e,a=!1){const r=e.length;if(!r)return;t.x=t.y=1;let i,o;for(let s=0;s<r;s++){i=e[s],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Rh(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Qz(n,o)),a&&Ud(i.latestValues)&&Rh(n,i.latestValues))}t.x<E7&&t.x>C7&&(t.x=1),t.y<E7&&t.y>C7&&(t.y=1)}function Ih(n,t){n.min=n.min+t,n.max=n.max+t}function T7(n,t,e,a,r=.5){const i=nn(n.min,n.max,r);gT(n,t,e,i,a)}function Rh(n,t){T7(n.x,t.x,t.scaleX,t.scale,t.originX),T7(n.y,t.y,t.scaleY,t.scale,t.originY)}function Jz(n,t){return Xz($nt(n.getBoundingClientRect(),t))}function Unt(n,t,e){const a=Jz(n,e),{scroll:r}=t;return r&&(Ih(a.x,r.offset.x),Ih(a.y,r.offset.y)),a}const D7=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mh=()=>({x:D7(),y:D7()}),N7=()=>({min:0,max:0}),vn=()=>({x:N7(),y:N7()}),xT={current:null},Zz={current:!1};function znt(){if(Zz.current=!0,!!IB)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>xT.current=n.matches;n.addEventListener("change",t),t()}else xT.current=!1}const qnt=new WeakMap;function Hnt(n,t,e){for(const a in t){const r=t[a],i=e[a];if(La(r))n.addValue(a,r);else if(La(i))n.addValue(a,Cf(r,{owner:n}));else if(i!==r)if(n.hasValue(a)){const o=n.getValue(a);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(a);n.addValue(a,Cf(o!==void 0?o:r,{owner:n}))}}for(const a in e)t[a]===void 0&&n.removeValue(a);return t}const B7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vnt{scrapeMotionValuesFromProps(t,e,a){return{}}constructor({parent:t,props:e,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ZB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=yr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Xe.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=e.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=$1(e),this.isVariantNode=Mz(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(e,{},this);for(const f in h){const y=h[f];c[f]!==void 0&&La(y)&&y.set(c[f])}}mount(t){var e;this.current=t,qnt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Zz.current||znt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xT.current,(e=this.parent)==null||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),cd(this.notifyUpdate),cd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const a=this.features[e];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=o2.has(t);a&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),i&&i(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ef){const e=Ef[t];if(!e)continue;const{isEnabled:a,Feature:r}=e;if(!this.features[t]&&r&&a(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let a=0;a<B7.length;a++){const r=B7[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=t[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Hnt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const a=this.values.get(t);e!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&e!==void 0&&(a=Cf(e===null?void 0:e,{owner:this}),this.addValue(t,a)),a}readValue(t,e){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(HU(a)||WU(a))?a=parseFloat(a):!tnt(a)&&ld.test(e)&&(a=Ez(t,e)),this.setBaseTarget(t,La(a)?a.get():a)),La(a)?a.get():a}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var i;const{initial:e}=this.props;let a;if(typeof e=="string"||typeof e=="object"){const o=dj(this.props,e,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(e&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!La(r)?r:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new GB),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){nj.render(this.render)}}class tq extends Vnt{constructor(){super(...arguments),this.KeyframeResolver=Uet}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:a}){delete e[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;La(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function eq(n,{style:t,vars:e},a,r){const i=n.style;let o;for(o in t)i[o]=t[o];r==null||r.applyProjectionStyles(i,a);for(o in e)i.setProperty(o,e[o])}function Wnt(n){return window.getComputedStyle(n)}class Knt extends tq{constructor(){super(...arguments),this.type="html",this.renderInstance=eq}readValueFromInstance(t,e){var a;if(o2.has(e))return(a=this.projection)!=null&&a.isProjecting?cT(e):iet(t,e);{const r=Wnt(t),i=(qB(e)?r.getPropertyValue(e):r[e])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Jz(t,e)}build(t,e,a){sj(t,e,a.transformTemplate)}scrapeMotionValuesFromProps(t,e,a){return uj(t,e,a)}}const nq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xnt(n,t,e,a){eq(n,t,void 0,a);for(const r in t.attrs)n.setAttribute(nq.has(r)?r:mj(r),t.attrs[r])}class Ynt extends tq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vn}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(o2.has(e)){const a=Cz(e);return a&&a.default||0}return e=nq.has(e)?e:mj(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,a){return Hz(t,e,a)}build(t,e,a){Gz(t,e,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,e,a,r){Xnt(t,e,a,r)}mount(t){this.isSVGTag=zz(t.tagName),super.mount(t)}}const Qnt=(n,t)=>lj(n)?new Ynt(t):new Knt(t,{allowProjection:n!==I.Fragment});function Kh(n,t,e){const a=n.getProps();return dj(a,t,e!==void 0?e:a.custom,n)}const yT=n=>Array.isArray(n);function Jnt(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Cf(e))}function Znt(n){return yT(n)?n[n.length-1]||0:n}function tat(n,t){const e=Kh(n,t);let{transitionEnd:a={},transition:r={},...i}=e||{};i={...i,...a};for(const o in i){const s=Znt(i[o]);Jnt(n,o,s)}}function eat(n){return!!(La(n)&&n.add)}function vT(n,t){const e=n.getValue("willChange");if(eat(e))return e.add(t);if(!e&&Pc.WillChange){const a=new Pc.WillChange("auto");n.addValue("willChange",a),a.add(t)}}function aq(n){return n.props[Vz]}const nat=n=>n!==null;function aat(n,{repeat:t,repeatType:e="loop"},a){const r=n.filter(nat),i=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[i]}const rat={type:"spring",stiffness:500,damping:25,restSpeed:10},iat=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),oat={type:"keyframes",duration:.8},sat={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cat=(n,{keyframes:t})=>t.length>2?oat:o2.has(n)?n.startsWith("scale")?iat(t[1]):rat:sat;function lat({when:n,delay:t,delayChildren:e,staggerChildren:a,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const hj=(n,t,e,a={},r,i)=>o=>{const s=tj(a,n)||{},c=s.delay||a.delay||0;let{elapsed:l=0}=a;l=l-is(c);const u={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-l,onUpdate:f=>{t.set(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:n,motionValue:t,element:i?void 0:r};lat(s)||Object.assign(u,cat(n,u)),u.duration&&(u.duration=is(u.duration)),u.repeatDelay&&(u.repeatDelay=is(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(hT(u),u.delay===0&&(h=!0)),(Pc.instantAnimations||Pc.skipAnimations)&&(h=!0,hT(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,h&&!i&&t.get()!==void 0){const f=aat(u.keyframes,s);if(f!==void 0){Xe.update(()=>{u.onUpdate(f),u.onComplete()});return}}return s.isSync?new JB(u):new Det(u)};function dat({protectedKeys:n,needsAnimating:t},e){const a=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,a}function rq(n,t,{delay:e=0,transitionOverride:a,type:r}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:o,...s}=t;a&&(i=a);const c=[],l=r&&n.animationState&&n.animationState.getState()[r];for(const u in s){const h=n.getValue(u,n.latestValues[u]??null),f=s[u];if(f===void 0||l&&dat(l,u))continue;const y={delay:e,...tj(i||{},u)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const S=aq(n);if(S){const _=window.MotionHandoffAnimation(S,u,Xe);_!==null&&(y.startTime=_,v=!0)}}vT(n,u),h.start(hj(u,h,f,n.shouldReduceMotion&&_z.has(u)?{type:!1}:y,n,v));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Xe.update(()=>{o&&tat(n,o)})}),c}function iq(n,t,e,a=0,r=1){const i=Array.from(n).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),o=n.size,s=(o-1)*a;return typeof e=="function"?e(i,o):r===1?i*a:s-i*a}function bT(n,t,e={}){var c;const a=Kh(n,t,e.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=a||{};e.transitionOverride&&(r=e.transitionOverride);const i=a?()=>Promise.all(rq(n,a,e)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return uat(n,t,l,u,h,f,e)}:()=>Promise.resolve(),{when:s}=r;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(e.delay)])}function uat(n,t,e=0,a=0,r=0,i=1,o){const s=[];for(const c of n.variantChildren)c.notify("AnimationStart",t),s.push(bT(c,t,{...o,delay:e+(typeof a=="function"?0:a)+iq(n.variantChildren,c,a,r,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(s)}function mat(n,t,e={}){n.notify("AnimationStart",t);let a;if(Array.isArray(t)){const r=t.map(i=>bT(n,i,e));a=Promise.all(r)}else if(typeof t=="string")a=bT(n,t,e);else{const r=typeof t=="function"?Kh(n,t,e.custom):t;a=Promise.all(rq(n,r,e))}return a.then(()=>{n.notify("AnimationComplete",t)})}function oq(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let a=0;a<e;a++)if(t[a]!==n[a])return!1;return!0}const hat=oj.length;function sq(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?sq(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<hat;e++){const a=oj[e],r=n.props[a];(px(r)||r===!1)&&(t[a]=r)}return t}const pat=[...ij].reverse(),fat=ij.length;function gat(n){return t=>Promise.all(t.map(({animation:e,options:a})=>mat(n,e,a)))}function xat(n){let t=gat(n),e=j7(),a=!0;const r=c=>(l,u)=>{var f;const h=Kh(n,u,c==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:y,transitionEnd:w,...v}=h;l={...l,...v,...w}}return l};function i(c){t=c(n)}function o(c){const{props:l}=n,u=sq(n.parent)||{},h=[],f=new Set;let y={},w=1/0;for(let b=0;b<fat;b++){const S=pat[b],_=e[S],P=l[S]!==void 0?l[S]:u[S],E=px(P),C=S===c?_.isActive:null;C===!1&&(w=b);let T=P===u[S]&&P!==l[S]&&E;if(T&&a&&n.manuallyAnimateOnMount&&(T=!1),_.protectedKeys={...y},!_.isActive&&C===null||!P&&!_.prevProp||F1(P)||typeof P=="boolean")continue;const B=yat(_.prevProp,P);let L=B||S===c&&_.isActive&&!T&&E||b>w&&E,M=!1;const U=Array.isArray(P)?P:[P];let F=U.reduce(r(S),{});C===!1&&(F={});const{prevResolvedValues:G={}}=_,$={...G,...F},H=W=>{L=!0,f.has(W)&&(M=!0,f.delete(W)),_.needsAnimating[W]=!0;const V=n.getValue(W);V&&(V.liveStyle=!1)};for(const W in $){const V=F[W],tt=G[W];if(y.hasOwnProperty(W))continue;let nt=!1;yT(V)&&yT(tt)?nt=!oq(V,tt):nt=V!==tt,nt?V!=null?H(W):f.add(W):V!==void 0&&f.has(W)?H(W):_.protectedKeys[W]=!0}_.prevProp=P,_.prevResolvedValues=F,_.isActive&&(y={...y,...F}),a&&n.blockInitialAnimation&&(L=!1);const X=T&&B;L&&(!X||M)&&h.push(...U.map(W=>{const V={type:S};if(typeof W=="string"&&a&&!X&&n.manuallyAnimateOnMount&&n.parent){const{parent:tt}=n,nt=Kh(tt,W);if(tt.enteringChildren&&nt){const{delayChildren:z}=nt.transition||{};V.delay=iq(tt.enteringChildren,n,z)}}return{animation:W,options:V}}))}if(f.size){const b={};if(typeof l.initial!="boolean"){const S=Kh(n,Array.isArray(l.initial)?l.initial[0]:l.initial);S&&S.transition&&(b.transition=S.transition)}f.forEach(S=>{const _=n.getBaseTarget(S),P=n.getValue(S);P&&(P.liveStyle=!0),b[S]=_??null}),h.push({animation:b})}let v=!!h.length;return a&&(l.initial===!1||l.initial===l.animate)&&!n.manuallyAnimateOnMount&&(v=!1),a=!1,v?t(h):Promise.resolve()}function s(c,l){var h;if(e[c].isActive===l)return Promise.resolve();(h=n.variantChildren)==null||h.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(c,l)}),e[c].isActive=l;const u=o(c);for(const f in e)e[f].protectedKeys={};return u}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>e,reset:()=>{e=j7()}}}function yat(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!oq(t,n):!1}function Md(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j7(){return{animate:Md(!0),whileInView:Md(),whileHover:Md(),whileTap:Md(),whileDrag:Md(),whileFocus:Md(),exit:Md()}}class xd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vat extends xd{constructor(t){super(t),t.animationState||(t.animationState=xat(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();F1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let bat=0;class wat extends xd{constructor(){super(...arguments),this.id=bat++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Aat={animation:{Feature:vat},exit:{Feature:wat}};function gx(n,t,e,a={passive:!0}){return n.addEventListener(t,e,a),()=>n.removeEventListener(t,e)}function Wy(n){return{point:{x:n.pageX,y:n.pageY}}}const Sat=n=>t=>aj(t)&&n(t,Wy(t));function Yg(n,t,e,a){return gx(n,t,Sat(e),a)}const cq=1e-4,_at=1-cq,Pat=1+cq,lq=.01,kat=0-lq,Cat=0+lq;function Wa(n){return n.max-n.min}function Eat(n,t,e){return Math.abs(n-t)<=e}function O7(n,t,e,a=.5){n.origin=a,n.originPoint=nn(t.min,t.max,n.origin),n.scale=Wa(e)/Wa(t),n.translate=nn(e.min,e.max,n.origin)-n.originPoint,(n.scale>=_at&&n.scale<=Pat||isNaN(n.scale))&&(n.scale=1),(n.translate>=kat&&n.translate<=Cat||isNaN(n.translate))&&(n.translate=0)}function Qg(n,t,e,a){O7(n.x,t.x,e.x,a?a.originX:void 0),O7(n.y,t.y,e.y,a?a.originY:void 0)}function L7(n,t,e){n.min=e.min+t.min,n.max=n.min+Wa(t)}function Tat(n,t,e){L7(n.x,t.x,e.x),L7(n.y,t.y,e.y)}function I7(n,t,e){n.min=t.min-e.min,n.max=n.min+Wa(t)}function Jg(n,t,e){I7(n.x,t.x,e.x),I7(n.y,t.y,e.y)}function ui(n){return[n("x"),n("y")]}const dq=({current:n})=>n?n.ownerDocument.defaultView:null,R7=(n,t)=>Math.abs(n-t);function Dat(n,t){const e=R7(n.x,t.x),a=R7(n.y,t.y);return Math.sqrt(e**2+a**2)}class uq{constructor(t,e,{transformPagePoint:a,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=TP(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=Dat(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:v}=f,{timestamp:b}=ma;this.history.push({...v,timestamp:b});const{onStart:S,onMove:_}=this.handlers;y||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,y)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=EP(y,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,y)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=TP(f.type==="pointercancel"?this.lastMoveEventInfo:EP(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,S),v&&v(f,S)},!aj(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=r||window;const s=Wy(t),c=EP(s,this.transformPagePoint),{point:l}=c,{timestamp:u}=ma;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=e;h&&h(t,TP(c,this.history)),this.removeListeners=qy(Yg(this.contextWindow,"pointermove",this.handlePointerMove),Yg(this.contextWindow,"pointerup",this.handlePointerUp),Yg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cd(this.updatePoint)}}function EP(n,t){return t?{point:t(n.point)}:n}function M7(n,t){return{x:n.x-t.x,y:n.y-t.y}}function TP({point:n},t){return{point:n,delta:M7(n,mq(t)),offset:M7(n,Nat(t)),velocity:Bat(t,.1)}}function Nat(n){return n[0]}function mq(n){return n[n.length-1]}function Bat(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,a=null;const r=mq(n);for(;e>=0&&(a=n[e],!(r.timestamp-a.timestamp>is(t)));)e--;if(!a)return{x:0,y:0};const i=_i(r.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-a.x)/i,y:(r.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jat(n,{min:t,max:e},a){return t!==void 0&&n<t?n=a?nn(t,n,a.min):Math.max(n,t):e!==void 0&&n>e&&(n=a?nn(e,n,a.max):Math.min(n,e)),n}function F7(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function Oat(n,{top:t,left:e,bottom:a,right:r}){return{x:F7(n.x,e,r),y:F7(n.y,t,a)}}function $7(n,t){let e=t.min-n.min,a=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,a]=[a,e]),{min:e,max:a}}function Lat(n,t){return{x:$7(n.x,t.x),y:$7(n.y,t.y)}}function Iat(n,t){let e=.5;const a=Wa(n),r=Wa(t);return r>a?e=ux(t.min,t.max-a,n.min):a>r&&(e=ux(n.min,n.max-r,t.min)),_c(0,1,e)}function Rat(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const wT=.35;function Mat(n=wT){return n===!1?n=0:n===!0&&(n=wT),{x:G7(n,"left","right"),y:G7(n,"top","bottom")}}function G7(n,t,e){return{min:U7(n,t),max:U7(n,e)}}function U7(n,t){return typeof n=="number"?n:n[t]||0}const Fat=new WeakMap;class $at{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:a}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Wy(h).point)},o=(h,f)=>{const{drag:y,dragPropagation:w,onDragStart:v}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vet(y),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(S=>{let _=this.getAxisMotionValue(S).get()||0;if(os.test(_)){const{projection:P}=this.visualElement;if(P&&P.layout){const E=P.layout.layoutBox[S];E&&(_=Wa(E)*(parseFloat(_)/100))}}this.originPoint[S]=_}),v&&Xe.postRender(()=>v(h,f)),vT(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:v,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=f;if(w&&this.currentDirection===null){this.currentDirection=Gat(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),b&&b(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>ui(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new uq(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:a,contextWindow:dq(this.visualElement)})}stop(t,e){const a=t||this.latestPointerEvent,r=e||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!a)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Xe.postRender(()=>s(a,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,a){const{drag:r}=this.getProps();if(!a||!_b(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=jat(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:e}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&Lh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=Oat(a.layoutBox,t):this.constraints=!1,this.elastic=Mat(e),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ui(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Rat(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Lh(t))return!1;const a=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=Unt(a,r.root,this.visualElement.getTransformPagePoint());let o=Lat(r.layout.layoutBox,i);if(e){const s=e(Fnt(o));this.hasMutatedConstraints=!!s,s&&(o=Xz(s))}return o}startAnimation(t){const{drag:e,dragMomentum:a,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),c=this.constraints||{},l=ui(u=>{if(!_b(u,e,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,y=r?40:1e7,w={type:"inertia",velocity:a?t[u]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,w)});return Promise.all(l).then(s)}startAxisValueAnimation(t,e){const a=this.getAxisMotionValue(t);return vT(this.visualElement,t),a.start(hj(t,a,0,e,this.visualElement,!1))}stopAnimation(){ui(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ui(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),r=a[e];return r||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){ui(e=>{const{drag:a}=this.getProps();if(!_b(e,a,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:o,max:s}=r.layout.layoutBox[e];i.set(t[e]-nn(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:a}=this.visualElement;if(!Lh(e)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ui(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const c=s.get();r[o]=Iat({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ui(o=>{if(!_b(o,t,null))return;const s=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];s.set(nn(c,l,r[o]))})}addListeners(){if(!this.visualElement.current)return;Fat.set(this.visualElement,this);const t=this.visualElement.current,e=Yg(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Lh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Xe.read(a);const o=gx(window,"resize",()=>this.scalePositionWithinConstraints()),s=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(ui(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),e(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=wT,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:a,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function _b(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function Gat(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class Uat extends xd{constructor(t){super(t),this.removeGroupControls=ki,this.removeListeners=ki,this.controls=new $at(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ki}unmount(){this.removeGroupControls(),this.removeListeners()}}const z7=n=>(t,e)=>{n&&Xe.postRender(()=>n(t,e))};class zat extends xd{constructor(){super(...arguments),this.removePointerDownListener=ki}onPointerDown(t){this.session=new uq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:z7(t),onStart:z7(e),onMove:a,onEnd:(i,o)=>{delete this.session,r&&Xe.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Yg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function q7(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const og={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(qt.test(n))n=parseFloat(n);else return n;const e=q7(n,t.target.x),a=q7(n,t.target.y);return`${e}% ${a}%`}},qat={correct:(n,{treeScale:t,projectionDelta:e})=>{const a=n,r=ld.parse(n);if(r.length>5)return a;const i=ld.createTransformer(n),o=typeof r[0]!="number"?1:0,s=e.x.scale*t.x,c=e.y.scale*t.y;r[0+o]/=s,r[1+o]/=c;const l=nn(s,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=l),typeof r[3+o]=="number"&&(r[3+o]/=l),i(r)}};let DP=!1;class Hat extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:a,layoutId:r}=this.props,{projection:i}=t;hnt(Vat),i&&(e.group&&e.group.add(i),a&&a.register&&r&&a.register(i),DP&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),lw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:a,drag:r,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,DP=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Xe.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:a}=this.props,{projection:r}=t;DP=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hq(n){const[t,e]=Lz(),a=I.useContext(OB);return x.jsx(Hat,{...n,layoutGroup:a,switchLayoutGroup:I.useContext(Wz),isPresent:t,safeToRemove:e})}const Vat={borderRadius:{...og,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:og,borderTopRightRadius:og,borderBottomLeftRadius:og,borderBottomRightRadius:og,boxShadow:qat};function Wat(n,t,e){const a=La(n)?n:Cf(n);return a.start(hj("",a,t,e)),a.animation}const Kat=(n,t)=>n.depth-t.depth;class Xat{constructor(){this.children=[],this.isDirty=!1}add(t){RB(this.children,t),this.isDirty=!0}remove(t){MB(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Kat),this.isDirty=!1,this.children.forEach(t)}}function Yat(n,t){const e=yr.now(),a=({timestamp:r})=>{const i=r-e;i>=t&&(cd(a),n(i-t))};return Xe.setup(a,!0),()=>cd(a)}const pq=["TopLeft","TopRight","BottomLeft","BottomRight"],Qat=pq.length,H7=n=>typeof n=="string"?parseFloat(n):n,V7=n=>typeof n=="number"||qt.test(n);function Jat(n,t,e,a,r,i){r?(n.opacity=nn(0,e.opacity??1,Zat(a)),n.opacityExit=nn(t.opacity??1,0,trt(a))):i&&(n.opacity=nn(t.opacity??1,e.opacity??1,a));for(let o=0;o<Qat;o++){const s=`border${pq[o]}Radius`;let c=W7(t,s),l=W7(e,s);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||V7(c)===V7(l)?(n[s]=Math.max(nn(H7(c),H7(l),a),0),(os.test(l)||os.test(c))&&(n[s]+="%")):n[s]=l}(t.rotate||e.rotate)&&(n.rotate=nn(t.rotate||0,e.rotate||0,a))}function W7(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const Zat=fq(0,.5,ez),trt=fq(.5,.95,ki);function fq(n,t,e){return a=>a<n?0:a>t?1:e(ux(n,t,a))}function K7(n,t){n.min=t.min,n.max=t.max}function oi(n,t){K7(n.x,t.x),K7(n.y,t.y)}function X7(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function Y7(n,t,e,a,r){return n-=t,n=Jw(n,1/e,a),r!==void 0&&(n=Jw(n,1/r,a)),n}function ert(n,t=0,e=1,a=.5,r,i=n,o=n){if(os.test(t)&&(t=parseFloat(t),t=nn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=nn(i.min,i.max,a);n===i&&(s-=t),n.min=Y7(n.min,t,e,s,r),n.max=Y7(n.max,t,e,s,r)}function Q7(n,t,[e,a,r],i,o){ert(n,t[e],t[a],t[r],t.scale,i,o)}const nrt=["x","scaleX","originX"],art=["y","scaleY","originY"];function J7(n,t,e,a){Q7(n.x,t,nrt,e?e.x:void 0,a?a.x:void 0),Q7(n.y,t,art,e?e.y:void 0,a?a.y:void 0)}function Z7(n){return n.translate===0&&n.scale===1}function gq(n){return Z7(n.x)&&Z7(n.y)}function tM(n,t){return n.min===t.min&&n.max===t.max}function rrt(n,t){return tM(n.x,t.x)&&tM(n.y,t.y)}function eM(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function xq(n,t){return eM(n.x,t.x)&&eM(n.y,t.y)}function nM(n){return Wa(n.x)/Wa(n.y)}function aM(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class irt{constructor(){this.members=[]}add(t){RB(this.members,t),t.scheduleRender()}remove(t){if(MB(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let a;for(let r=e;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,e){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,e&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:a}=t;e.onExitComplete&&e.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ort(n,t,e){let a="";const r=n.x.translate/t.x,i=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((r||i||o)&&(a=`translate3d(${r}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:l,rotate:u,rotateX:h,rotateY:f,skewX:y,skewY:w}=e;l&&(a=`perspective(${l}px) ${a}`),u&&(a+=`rotate(${u}deg) `),h&&(a+=`rotateX(${h}deg) `),f&&(a+=`rotateY(${f}deg) `),y&&(a+=`skewX(${y}deg) `),w&&(a+=`skewY(${w}deg) `)}const s=n.x.scale*t.x,c=n.y.scale*t.y;return(s!==1||c!==1)&&(a+=`scale(${s}, ${c})`),a||"none"}const NP=["","X","Y","Z"],srt=1e3;let crt=0;function BP(n,t,e,a){const{latestValues:r}=t;r[n]&&(e[n]=r[n],t.setStaticValue(n,0),a&&(a[n]=0))}function yq(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=aq(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Xe,!(r||i))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&yq(a)}function vq({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(o={},s=t==null?void 0:t()){this.id=crt++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(urt),this.nodes.forEach(frt),this.nodes.forEach(grt),this.nodes.forEach(mrt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xat)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new GB),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const c=this.eventHandlers.get(o);c&&c.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Oz(o)&&!Jet(o),this.instance=o;const{layoutId:s,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||s)&&(this.isLayoutDirty=!0),n){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Xe.read(()=>{h=window.innerWidth}),n(o,()=>{const y=window.innerWidth;y!==h&&(h=y,this.root.updateBlockedByResize=!0,u&&u(),u=Yat(f,250),lw.hasAnimatedSinceResize&&(lw.hasAnimatedSinceResize=!1,this.nodes.forEach(oM)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&l&&(s||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||l.getDefaultTransition()||wrt,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=l.getProps(),S=!this.targetLayout||!xq(this.targetLayout,y),_=!h&&f;if(this.options.layoutRoot||this.resumeFrom||_||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...tj(w,"layout"),onPlay:v,onComplete:b};(l.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(u,_)}else h||oM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xrt),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:c}=this.options;if(s===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(prt),this.nodes.forEach(lrt),this.nodes.forEach(drt)):this.nodes.forEach(iM),this.clearAllSnapshots();const s=yr.now();ma.delta=_c(0,1e3/60,s-ma.timestamp),ma.timestamp=s,ma.isProcessing=!0,wP.update.process(ma),wP.preRender.process(ma),wP.render.process(ma),ma.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hrt),this.sharedNodes.forEach(yrt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wa(this.snapshot.measuredBox.x)&&!Wa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!gq(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(s||Ud(this.latestValues)||u)&&(r(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let c=this.removeElementScroll(s);return o&&(c=this.removeTransform(c)),Art(c),{animationId:this.root.animationId,measuredBox:s,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return vn();const s=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(Srt))){const{scroll:u}=this.root;u&&(Ih(s.x,u.offset.x),Ih(s.y,u.offset.y))}return s}removeElementScroll(o){var c;const s=vn();if(oi(s,o),(c=this.scroll)!=null&&c.wasRoot)return s;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&oi(s,o),Ih(s.x,h.offset.x),Ih(s.y,h.offset.y))}return s}applyTransform(o,s=!1){const c=vn();oi(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Rh(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ud(u.latestValues)&&Rh(c,u.latestValues)}return Ud(this.latestValues)&&Rh(c,this.latestValues),c}removeTransform(o){const s=vn();oi(s,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Ud(l.latestValues))continue;fT(l.latestValues)&&l.updateSnapshot();const u=vn(),h=l.measurePageBox();oi(u,h),J7(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Ud(this.latestValues)&&J7(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ma.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==s;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ma.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Jg(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tat(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),Qz(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Jg(this.relativeTargetOrigin,this.target,y.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fT(this.parent.latestValues)||Yz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ma.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;oi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Gnt(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=vn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X7(this.prevProjectionDelta.x,this.projectionDelta.x),X7(this.prevProjectionDelta.y,this.projectionDelta.y)),Qg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!aM(this.projectionDelta.x,this.prevProjectionDelta.x)||!aM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mh(),this.projectionDelta=Mh(),this.projectionDeltaWithTransform=Mh()}setAnimationOrigin(o,s=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},h=Mh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=vn(),y=c?c.source:void 0,w=this.layout?this.layout.source:void 0,v=y!==w,b=this.getStack(),S=!b||b.members.length<=1,_=!!(v&&!S&&this.options.crossfade===!0&&!this.path.some(brt));this.animationProgress=0;let P;this.mixTargetDelta=E=>{const C=E/1e3;sM(h.x,o.x,C),sM(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vrt(this.relativeTarget,this.relativeTargetOrigin,f,C),P&&rrt(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=vn()),oi(P,this.relativeTarget)),v&&(this.animationValues=u,Jat(u,l,this.latestValues,C,_,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var s,c,l;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(cd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{lw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cf(0)),this.currentAnimation=Wat(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(srt),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:c,layout:l,latestValues:u}=o;if(!(!s||!c||!l)){if(this!==o&&this.layout&&l&&bq(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||vn();const h=Wa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Wa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}oi(s,c),Rh(s,u),Qg(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new irt),this.sharedNodes.get(o).add(s);const l=s.options.initialPromotionConfig;s.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(s=!0),!s)return;const l={};c.z&&BP("z",o,l,this.animationValues);for(let u=0;u<NP.length;u++)BP(`rotate${NP[u]}`,o,l,this.animationValues),BP(`skew${NP[u]}`,o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cw(s==null?void 0:s.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cw(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ud(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let h=ort(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,l.animationValues?o.opacity=l===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const w in fx){if(u[w]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:S}=fx[w],_=h==="none"?u[w]:v(u[w],l);if(b){const P=b.length;for(let E=0;E<P;E++)o[b[E]]=_}else S?this.options.visualElement.renderState.vars[w]=_:o[w]=_}this.options.layoutId&&(o.pointerEvents=l===this?cw(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(rM),this.root.sharedNodes.clear()}}}function lrt(n){n.updateLayout()}function drt(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=n.layout,{animationType:i}=n.options,o=t.source!==n.layout.source;i==="size"?ui(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],y=Wa(f);f.min=a[h].min,f.max=f.min+y}):bq(i,t.layoutBox,a)&&ui(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],y=Wa(a[h]);f.max=f.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+y)});const s=Mh();Qg(s,a,t.layoutBox);const c=Mh();o?Qg(c,n.applyTransform(r,!0),t.measuredBox):Qg(c,a,t.layoutBox);const l=!gq(s);let u=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const w=vn();Jg(w,t.layoutBox,f.layoutBox);const v=vn();Jg(v,a,y.layoutBox),xq(w,v)||(u=!0),h.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=w,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function urt(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function mrt(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function hrt(n){n.clearSnapshot()}function rM(n){n.clearMeasurements()}function iM(n){n.isLayoutDirty=!1}function prt(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function oM(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function frt(n){n.resolveTargetDelta()}function grt(n){n.calcProjection()}function xrt(n){n.resetSkewAndRotation()}function yrt(n){n.removeLeadSnapshot()}function sM(n,t,e){n.translate=nn(t.translate,0,e),n.scale=nn(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function cM(n,t,e,a){n.min=nn(t.min,e.min,a),n.max=nn(t.max,e.max,a)}function vrt(n,t,e,a){cM(n.x,t.x,e.x,a),cM(n.y,t.y,e.y,a)}function brt(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const wrt={duration:.45,ease:[.4,0,.1,1]},lM=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),dM=lM("applewebkit/")&&!lM("chrome/")?Math.round:ki;function uM(n){n.min=dM(n.min),n.max=dM(n.max)}function Art(n){uM(n.x),uM(n.y)}function bq(n,t,e){return n==="position"||n==="preserve-aspect"&&!Eat(nM(t),nM(e),.2)}function Srt(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const _rt=vq({attachResizeListener:(n,t)=>gx(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jP={current:void 0},wq=vq({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jP.current){const n=new _rt({});n.mount(window),n.setOptions({layoutScroll:!0}),jP.current=n}return jP.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Prt={pan:{Feature:zat},drag:{Feature:Uat,ProjectionNode:wq,MeasureLayout:hq}};function mM(n,t,e){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,i=a[r];i&&Xe.postRender(()=>i(t,Wy(t)))}class krt extends xd{mount(){const{current:t}=this.node;t&&(this.unmount=Wet(t,(e,a)=>(mM(this.node,a,"Start"),r=>mM(this.node,r,"End"))))}unmount(){}}class Crt extends xd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qy(gx(this.node.current,"focus",()=>this.onFocus()),gx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hM(n,t,e){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),i=a[r];i&&Xe.postRender(()=>i(t,Wy(t)))}class Ert extends xd{mount(){const{current:t}=this.node;t&&(this.unmount=Qet(t,(e,a)=>(hM(this.node,a,"Start"),(r,{success:i})=>hM(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AT=new WeakMap,OP=new WeakMap,Trt=n=>{const t=AT.get(n.target);t&&t(n)},Drt=n=>{n.forEach(Trt)};function Nrt({root:n,...t}){const e=n||document;OP.has(e)||OP.set(e,{});const a=OP.get(e),r=JSON.stringify(t);return a[r]||(a[r]=new IntersectionObserver(Drt,{root:n,...t})),a[r]}function Brt(n,t,e){const a=Nrt(t);return AT.set(n,e),a.observe(n),()=>{AT.delete(n),a.unobserve(n)}}const jrt={some:0,all:1};class Ort extends xd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:a,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:jrt[r]},s=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=l?u:h;f&&f(c)};return Brt(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Lrt(t,e))&&this.startObserver()}unmount(){}}function Lrt({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Irt={inView:{Feature:Ort},tap:{Feature:Ert},focus:{Feature:Crt},hover:{Feature:krt}},Rrt={layout:{ProjectionNode:wq,MeasureLayout:hq}},Mrt={...Aat,...Irt,...Prt,...Rrt},st=Mnt(Mrt,Qnt),pM=n=>{let t;const e=new Set,a=(l,u)=>{const h=typeof l=="function"?l(t):l;if(!Object.is(h,t)){const f=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),e.forEach(y=>y(t,f))}},r=()=>t,s={setState:a,getState:r,getInitialState:()=>c,subscribe:l=>(e.add(l),()=>e.delete(l))},c=t=n(a,r,s);return s},Frt=n=>n?pM(n):pM,$rt=n=>n;function Grt(n,t=$rt){const e=Y.useSyncExternalStore(n.subscribe,Y.useCallback(()=>t(n.getState()),[n,t]),Y.useCallback(()=>t(n.getInitialState()),[n,t]));return Y.useDebugValue(e),e}const fM=n=>{const t=Frt(n),e=a=>Grt(t,a);return Object.assign(e,t),e},Urt=n=>n?fM(n):fM;var ST=function(n,t){return ST=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])},ST(n,t)};function Aq(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ST(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Zw=function(){return Zw=Object.assign||function(t){for(var e,a=1,r=arguments.length;a<r;a++){e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zw.apply(this,arguments)};function s2(n,t){var e={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(e[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(e[a[r]]=n[a[r]]);return e}function Sq(n,t,e,a){var r=arguments.length,i=r<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,e):a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,a);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(i=(r<3?o(i):r>3?o(t,e,i):o(t,e))||i);return r>3&&i&&Object.defineProperty(t,e,i),i}function _q(n,t){return function(e,a){t(e,a,n)}}function Pq(n,t,e,a,r,i){function o(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var s=a.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!t&&n?a.static?n:n.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,a.name):{}),h,f=!1,y=e.length-1;y>=0;y--){var w={};for(var v in a)w[v]=v==="access"?{}:a[v];for(var v in a.access)w.access[v]=a.access[v];w.addInitializer=function(S){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(S||null))};var b=(0,e[y])(s==="accessor"?{get:u.get,set:u.set}:u[c],w);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(u.get=h),(h=o(b.set))&&(u.set=h),(h=o(b.init))&&r.unshift(h)}else(h=o(b))&&(s==="field"?r.unshift(h):u[c]=h)}l&&Object.defineProperty(l,a.name,u),f=!0}function kq(n,t,e){for(var a=arguments.length>2,r=0;r<t.length;r++)e=a?t[r].call(n,e):t[r].call(n);return a?e:void 0}function Cq(n){return typeof n=="symbol"?n:"".concat(n)}function Eq(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function Tq(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function Ot(n,t,e,a){function r(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function s(u){try{l(a.next(u))}catch(h){o(h)}}function c(u){try{l(a.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(s,c)}l((a=a.apply(n,t||[])).next())})}function Dq(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(e=0)),e;)try{if(a=1,r&&(i=l[0]&2?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,r=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){e.label=l[1];break}if(l[0]===6&&e.label<i[1]){e.label=i[1],i=l;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(l);break}i[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(u){l=[6,u],r=0}finally{a=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var G1=Object.create?function(n,t,e,a){a===void 0&&(a=e);var r=Object.getOwnPropertyDescriptor(t,e);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,a,r)}:function(n,t,e,a){a===void 0&&(a=e),n[a]=t[e]};function Nq(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&G1(t,n,e)}function tA(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],a=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pj(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var a=e.call(n),r,i=[],o;try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i}function Bq(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(pj(arguments[t]));return n}function jq(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var a=Array(n),r=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,r++)a[r]=i[o];return a}function Oq(n,t,e){if(e||arguments.length===2)for(var a=0,r=t.length,i;a<r;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return n.concat(i||Array.prototype.slice.call(t))}function Tf(n){return this instanceof Tf?(this.v=n,this):new Tf(n)}function Lq(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=e.apply(n,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(y){return function(w){return Promise.resolve(w).then(y,h)}}function s(y,w){a[y]&&(r[y]=function(v){return new Promise(function(b,S){i.push([y,v,b,S])>1||c(y,v)})},w&&(r[y]=w(r[y])))}function c(y,w){try{l(a[y](w))}catch(v){f(i[0][3],v)}}function l(y){y.value instanceof Tf?Promise.resolve(y.value.v).then(u,h):f(i[0][2],y)}function u(y){c("next",y)}function h(y){c("throw",y)}function f(y,w){y(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Iq(n){var t,e;return t={},a("next"),a("throw",function(r){throw r}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(r,i){t[r]=n[r]?function(o){return(e=!e)?{value:Tf(n[r](o)),done:!1}:i?i(o):o}:i}}function Rq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof tA=="function"?tA(n):n[Symbol.iterator](),e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e);function a(i){e[i]=n[i]&&function(o){return new Promise(function(s,c){o=n[i](o),r(s,c,o.done,o.value)})}}function r(i,o,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},o)}}function Mq(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var zrt=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},_T=function(n){return _T=Object.getOwnPropertyNames||function(t){var e=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[e.length]=a);return e},_T(n)};function Fq(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=_T(n),a=0;a<e.length;a++)e[a]!=="default"&&G1(t,n,e[a]);return zrt(t,n),t}function $q(n){return n&&n.__esModule?n:{default:n}}function Gq(n,t,e,a){if(e==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!a:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?a:e==="a"?a.call(n):a?a.value:t.get(n)}function Uq(n,t,e,a,r){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?r.call(n,e):r?r.value=e:t.set(n,e),e}function zq(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function qq(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,r;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],e&&(r=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");r&&(a=function(){try{r.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:t,dispose:a,async:e})}else e&&n.stack.push({async:!0});return t}var qrt=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var a=new Error(e);return a.name="SuppressedError",a.error=n,a.suppressed=t,a};function Hq(n){function t(i){n.error=n.hasError?new qrt(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var e,a=0;function r(){for(;e=n.stack.pop();)try{if(!e.async&&a===1)return a=0,n.stack.push(e),Promise.resolve().then(r);if(e.dispose){var i=e.dispose.call(e.value);if(e.async)return a|=2,Promise.resolve(i).then(r,function(o){return t(o),r()})}else a|=1}catch(o){t(o)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return r()}function Vq(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,a,r,i,o){return a?t?".jsx":".js":r&&(!i||!o)?e:r+i+"."+o.toLowerCase()+"js"}):n}const Hrt={__extends:Aq,__assign:Zw,__rest:s2,__decorate:Sq,__param:_q,__esDecorate:Pq,__runInitializers:kq,__propKey:Cq,__setFunctionName:Eq,__metadata:Tq,__awaiter:Ot,__generator:Dq,__createBinding:G1,__exportStar:Nq,__values:tA,__read:pj,__spread:Bq,__spreadArrays:jq,__spreadArray:Oq,__await:Tf,__asyncGenerator:Lq,__asyncDelegator:Iq,__asyncValues:Rq,__makeTemplateObject:Mq,__importStar:Fq,__importDefault:$q,__classPrivateFieldGet:Gq,__classPrivateFieldSet:Uq,__classPrivateFieldIn:zq,__addDisposableResource:qq,__disposeResources:Hq,__rewriteRelativeImportExtension:Vq},Vrt=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qq,get __assign(){return Zw},__asyncDelegator:Iq,__asyncGenerator:Lq,__asyncValues:Rq,__await:Tf,__awaiter:Ot,__classPrivateFieldGet:Gq,__classPrivateFieldIn:zq,__classPrivateFieldSet:Uq,__createBinding:G1,__decorate:Sq,__disposeResources:Hq,__esDecorate:Pq,__exportStar:Nq,__extends:Aq,__generator:Dq,__importDefault:$q,__importStar:Fq,__makeTemplateObject:Mq,__metadata:Tq,__param:_q,__propKey:Cq,__read:pj,__rest:s2,__rewriteRelativeImportExtension:Vq,__runInitializers:kq,__setFunctionName:Eq,__spread:Bq,__spreadArray:Oq,__spreadArrays:jq,__values:tA,default:Hrt},Symbol.toStringTag,{value:"Module"})),Wrt="modulepreload",Krt=function(n){return"/"+n},gM={},c2=function(t,e,a){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(e.map(c=>{if(c=Krt(c),c in gM)return;gM[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Wrt,l||(h.as="script"),h.crossOrigin="",h.href=c,s&&h.setAttribute("nonce",s),document.head.appendChild(h),l)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return r.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Xrt=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>c2(async()=>{const{default:a}=await Promise.resolve().then(()=>Om);return{default:a}},[]).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)};class fj extends Error{constructor(t,e="FunctionsError",a){super(t),this.name=e,this.context=a}}class xM extends fj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yM extends fj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vM extends fj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var PT;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(PT||(PT={}));class Yrt{constructor(t,{headers:e={},customFetch:a,region:r=PT.Any}={}){this.url=t,this.headers=e,this.region=r,this.fetch=Xrt(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ot(this,arguments,void 0,function*(e,a={}){var r;try{const{headers:i,method:o,body:s,signal:c}=a;let l={},{region:u}=a;u||(u=this.region);const h=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let f;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(l["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(l["Content-Type"]="application/json",f=JSON.stringify(s)):f=s;const y=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:c}).catch(S=>{throw S.name==="AbortError"?S:new xM(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new yM(y);if(!y.ok)throw new vM(y);let v=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield y.json():v==="application/octet-stream"||v==="application/pdf"?b=yield y.blob():v==="text/event-stream"?b=y:v==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new xM(i)}:{data:null,error:i,response:i instanceof vM||i instanceof yM?i.context:void 0}}})}}var Sa={};const l2=dU(Vrt);var Pb={},kb={},Cb={},Eb={},Tb={},Qrt=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Df=Qrt();const Jrt=Df.fetch,Wq=Df.fetch.bind(Df),Kq=Df.Headers,Zrt=Df.Request,tit=Df.Response,Om=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kq,Request:Zrt,Response:tit,default:Wq,fetch:Jrt},Symbol.toStringTag,{value:"Module"})),eit=dU(Om);var Db={},bM;function Xq(){if(bM)return Db;bM=1,Object.defineProperty(Db,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return Db.default=n,Db}var wM;function Yq(){if(wM)return Tb;wM=1,Object.defineProperty(Tb,"__esModule",{value:!0});const n=l2,t=n.__importDefault(eit),e=n.__importDefault(Xq());class a{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,h,f,y;let w=null,v=null,b=null,S=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const T=await l.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=T:v=JSON.parse(T))}const E=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");E&&C&&C.length>1&&(b=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(w={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,b=null,S=406,_="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const E=await l.text();try{w=JSON.parse(E),Array.isArray(w)&&l.status===404&&(v=[],w=null,S=200,_="OK")}catch{l.status===404&&E===""?(S=204,_="No Content"):w={message:E}}if(w&&this.isMaybeSingle&&(!((y=w==null?void 0:w.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,S=200,_="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:v,count:b,status:S,statusText:_}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,h,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Tb.default=a,Tb}var AM;function Qq(){if(AM)return Eb;AM=1,Object.defineProperty(Eb,"__esModule",{value:!0});const t=l2.__importDefault(Yq());class e extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(l,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:l="text"}={}){var u;const h=[r?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Eb.default=e,Eb}var SM;function gj(){if(SM)return Cb;SM=1,Object.defineProperty(Cb,"__esModule",{value:!0});const t=l2.__importDefault(Qq());class e extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const l=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${c}fts${l}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return Cb.default=e,Cb}var _M;function Jq(){if(_M)return kb;_M=1,Object.defineProperty(kb,"__esModule",{value:!0});const t=l2.__importDefault(gj());class e{constructor(r,{headers:i={},schema:o,fetch:s}){this.url=r,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(r,i){const{head:o=!1,count:s}=i??{},c=o?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(h.length>0){const f=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var i;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return kb.default=e,kb}var PM;function nit(){if(PM)return Pb;PM=1,Object.defineProperty(Pb,"__esModule",{value:!0});const n=l2,t=n.__importDefault(Jq()),e=n.__importDefault(gj());class a{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:l}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let y;s||c?(h=s?"HEAD":"GET",Object.entries(o).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{f.searchParams.append(v,b)})):(h="POST",y=o);const w=new Headers(this.headers);return l&&w.set("Prefer",`count=${l}`),new e.default({method:h,url:f,headers:w,schema:this.schemaName,body:y,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Pb.default=a,Pb}var kM;function ait(){if(kM)return Sa;kM=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.PostgrestError=Sa.PostgrestBuilder=Sa.PostgrestTransformBuilder=Sa.PostgrestFilterBuilder=Sa.PostgrestQueryBuilder=Sa.PostgrestClient=void 0;const n=l2,t=n.__importDefault(nit());Sa.PostgrestClient=t.default;const e=n.__importDefault(Jq());Sa.PostgrestQueryBuilder=e.default;const a=n.__importDefault(gj());Sa.PostgrestFilterBuilder=a.default;const r=n.__importDefault(Qq());Sa.PostgrestTransformBuilder=r.default;const i=n.__importDefault(Yq());Sa.PostgrestBuilder=i.default;const o=n.__importDefault(Xq());return Sa.PostgrestError=o.default,Sa.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},Sa}var rit=ait();const iit=Ee(rit),{PostgrestClient:oit,PostgrestQueryBuilder:JSt,PostgrestFilterBuilder:ZSt,PostgrestTransformBuilder:t_t,PostgrestBuilder:e_t,PostgrestError:n_t}=iit;class sit{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const a=e.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const a=this.getWebSocketConstructor();return new a(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cit="2.76.1",lit=`realtime-js/${cit}`,dit="1.0.0",kT=1e4,uit=1e3,mit=100;var Zg;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Zg||(Zg={}));var On;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(On||(On={}));var so;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(so||(so={}));var CT;(function(n){n.websocket="websocket"})(CT||(CT={}));var Xd;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Xd||(Xd={}));class hit{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,e,a)}_decodeBroadcast(t,e,a){const r=e.getUint8(1),i=e.getUint8(2);let o=this.HEADER_LENGTH+2;const s=a.decode(t.slice(o,o+r));o=o+r;const c=a.decode(t.slice(o,o+i));o=o+i;const l=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:l}}}class Zq{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Le||(Le={}));const CM=(n,t,e={})=>{var a;const r=(a=e.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=pit(o,n,t,r),i),{}):{}},pit=(n,t,e,a)=>{const r=t.find(s=>s.name===n),i=r==null?void 0:r.type,o=e[n];return i&&!a.includes(i)?t9(i,o):ET(o)},t9=(n,t)=>{if(n.charAt(0)==="_"){const e=n.slice(1,n.length);return yit(t,e)}switch(n){case Le.bool:return fit(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return git(t);case Le.json:case Le.jsonb:return xit(t);case Le.timestamp:return vit(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return ET(t);default:return ET(t)}},ET=n=>n,fit=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},git=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},xit=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},yit=(n,t)=>{if(typeof n!="string")return n;const e=n.length-1,a=n[e];if(n[0]==="{"&&a==="}"){let i;const o=n.slice(1,e);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>t9(t,s))}return n},vit=n=>typeof n=="string"?n.replace(" ","T"):n,e9=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class LP{constructor(t,e,a={},r=kT){this.channel=t,this.event=e,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var a;return this._hasReceived(t)&&e((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var EM;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(EM||(EM={}));class tx{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tx.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=tx.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(a.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=tx.syncDiff(this.state,r,i,o),s())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,a,r){const i=this.cloneDeep(t),o=this.transformState(e),s={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const h=i[l];if(h){const f=u.map(b=>b.presence_ref),y=h.map(b=>b.presence_ref),w=u.filter(b=>y.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(s[l]=w),v.length>0&&(c[l]=v)}else s[l]=u}),this.syncDiff(i,{joins:s,leaves:c},a,r)}static syncDiff(t,e,a,r){const{joins:i,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(s,c)=>{var l;const u=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),u.length>0){const h=t[s].map(y=>y.presence_ref),f=u.filter(y=>h.indexOf(y.presence_ref)<0);t[s].unshift(...f)}a(s,u,c)}),this.map(o,(s,c)=>{let l=t[s];if(!l)return;const u=c.map(h=>h.presence_ref);l=l.filter(h=>u.indexOf(h.presence_ref)<0),t[s]=l,r(s,l,c),l.length===0&&delete t[s]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(a=>e(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,a)=>{const r=t[a];return"metas"in r?e[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[a]=r,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TM;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(TM||(TM={}));var ex;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ex||(ex={}));var Cs;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Cs||(Cs={}));class xj{constructor(t,e={config:{}},a){var r,i;if(this.topic=t,this.params=e,this.socket=a,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new LP(this,so.join,this.params,this.timeout),this.rejoinTimer=new Zq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(so.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new tx(this),this.broadcastEndpointURL=e9(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==On.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,l=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[ex.PRESENCE]&&this.bindings[ex.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Cs.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Cs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t==null||t(Cs.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,S=[];for(let _=0;_<b;_++){const P=v[_],{filter:{event:E,schema:C,table:T,filter:B}}=P,L=y&&y[_];if(L&&L.event===E&&L.schema===C&&L.table===T&&L.filter===B)S.push(Object.assign(Object.assign({},P),{id:L.id}));else{this.unsubscribe(),this.state=On.errored,t==null||t(Cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Cs.SUBSCRIBED);return}}).receive("error",y=>{this.state=On.errored,t==null||t(Cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,a){return this.state===On.joined&&t===ex.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,a)}async httpSend(t,e,a={}){var r;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const l=await s.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(t,e={}){var a,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=e.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=l.body)===null||r===void 0?void 0:r.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const l=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=On.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(so.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new LP(this,so.leave,{},t),a.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=On.closed,this.bindings={}}async _fetchWithTimeout(t,e,a){const r=new AbortController,i=setTimeout(()=>r.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:r.signal}));return clearTimeout(i),o}_push(t,e,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new LP(this,t,e,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mit){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,a){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,a){var r,i;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:u}=so;if(a&&[s,c,l,u].indexOf(o)>=0&&a!==this._joinRef())return;let f=this._onMessage(o,e,a);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var w,v,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(f,a)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,v,b,S,_,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const E=y.id,C=(w=y.filter)===null||w===void 0?void 0:w.event;return E&&((v=e.ids)===null||v===void 0?void 0:v.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=e.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(_=(S=y==null?void 0:y.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((P=e==null?void 0:e.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:b,commit_timestamp:S,type:_,errors:P}=w;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:S,eventType:_,new:{},old:{},errors:P}),this._getPayloadRecords(w))}y.callback(f,a)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,a){const r=t.toLocaleLowerCase(),i={type:r,filter:e,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,e){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&xj.isEqual(r.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const a in t)if(t[a]!==e[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(so.close,{},t)}_onError(t){this._on(so.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=CM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=CM(t.columns,t.old_record)),e}}const IP=()=>{},Nb={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bit=[1e3,2e3,5e3,1e4],wit=1e4,Ait=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sit{constructor(t,e){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kT,this.transport=null,this.heartbeatIntervalMs=Nb.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=IP,this.ref=0,this.reconnectTimer=null,this.logger=IP,this.conn=null,this.sendBuffer=[],this.serializer=new hit,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>c2(async()=>{const{default:s}=await Promise.resolve().then(()=>Om);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=e==null?void 0:e.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${CT.websocket}`,this.httpEndpoint=e9(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sit.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dit}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,a){this.logger(t,e,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Zg.connecting:return Xd.Connecting;case Zg.open:return Xd.Open;case Zg.closing:return Xd.Closing;default:return Xd.Closed}}isConnected(){return this.connectionState()===Xd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const a=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{const i=new xj(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){const{topic:e,event:a,payload:r,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${e} ${a} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(uit,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Nb.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:i,ref:o}=e,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${r} ${s}`.trim(),i),this.channels.filter(l=>l._isMember(a)).forEach(l=>l._trigger(r,i,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(so.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const a=t.match(/\?/)?"&":"?",r=new URLSearchParams(e);return`${t}${a}${r}`}_workerObjectUrl(t){let e;if(t)e=t;else{const a=new Blob([Ait],{type:"application/javascript"});e=URL.createObjectURL(a)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(a=>{const r={access_token:e,version:lit};e&&a.updateJoinPayload(r),a.joinedOnce&&a._isJoined()&&a._push(so.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(e)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Zq(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nb.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,a,r,i,o,s,c,l,u;if(this.transport=(e=t==null?void 0:t.transport)!==null&&e!==void 0?e:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:kT,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:Nb.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:IP,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>bit[h-1]||wit,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function en(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class _it extends yj{constructor(t,e,a){super(t),this.name="StorageApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TT extends yj{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const vj=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>c2(async()=>{const{default:a}=await Promise.resolve().then(()=>Om);return{default:a}},void 0).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)},Pit=()=>Ot(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield c2(()=>Promise.resolve().then(()=>Om),void 0)).Response:Response}),DT=n=>{if(Array.isArray(n))return n.map(e=>DT(e));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,a])=>{const r=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=DT(a)}),t},kit=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},RP=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Cit=(n,t,e)=>Ot(void 0,void 0,void 0,function*(){const a=yield Pit();n instanceof a&&!(e!=null&&e.noResolveJson)?n.json().then(r=>{const i=n.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new _it(RP(r),i,o))}).catch(r=>{t(new TT(RP(r),r))}):t(new TT(RP(n),n))}),Eit=(n,t,e,a)=>{const r={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!a?r:(kit(a)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,t!=null&&t.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),e))};function Ky(n,t,e,a,r,i){return Ot(this,void 0,void 0,function*(){return new Promise((o,s)=>{n(e,Eit(t,a,r,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Cit(c,s,a))})})}function xx(n,t,e,a){return Ot(this,void 0,void 0,function*(){return Ky(n,"GET",t,e,a)})}function Ki(n,t,e,a,r){return Ot(this,void 0,void 0,function*(){return Ky(n,"POST",t,a,r,e)})}function NT(n,t,e,a,r){return Ot(this,void 0,void 0,function*(){return Ky(n,"PUT",t,a,r,e)})}function Tit(n,t,e,a){return Ot(this,void 0,void 0,function*(){return Ky(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),a)})}function bj(n,t,e,a,r){return Ot(this,void 0,void 0,function*(){return Ky(n,"DELETE",t,a,r,e)})}class Dit{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return Ot(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}}var n9;class Nit{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[n9]="BlobDownloadBuilder",this.promise=null}asStream(){return new Dit(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ot(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}}n9=Symbol.toStringTag;const Bit={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jit{constructor(t,e={},a,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=a,this.fetch=vj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,a,r){return Ot(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},DM),r);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=yield(t=="PUT"?NT:Ki)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}upload(t,e,a){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,a)})}uploadToSignedUrl(t,e,a,r){return Ot(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",e);try{let c;const l=Object.assign({upsert:DM.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",l.cacheControl)):(c=a,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const h=yield NT(this.fetch,s.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(en(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return Ot(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const r=Object.assign({},this.headers);e!=null&&e.upsert&&(r["x-upsert"]="true");const i=yield Ki(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new yj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}})}update(t,e,a){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,a)})}move(t,e,a){return Ot(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}copy(t,e,a){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Ki(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}createSignedUrl(t,e,a){return Ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield Ki(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}createSignedUrls(t,e,a){return Ot(this,void 0,void 0,function*(){try{const r=yield Ki(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>xx(this.fetch,`${this.url}/${r}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new Nit(c,this.shouldThrowOnError)}info(t){return Ot(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const a=yield xx(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:DT(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}})}exists(t){return Ot(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield Tit(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(en(a)&&a instanceof TT){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,e){const a=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&r.push(c);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${a}${l}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield bj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}list(t,e,a){return Ot(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Bit),e),{prefix:t||""});return{data:yield Ki(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}listV2(t,e){return Ot(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Ki(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},e),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const a9="2.76.1",r9={"X-Client-Info":`storage-js/${a9}`};class Oit{constructor(t,e={},a,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r9),e),this.fetch=vj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ot(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}getBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}createBucket(t){return Ot(this,arguments,void 0,function*(e,a={public:!1}){try{return{data:yield Ki(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return Ot(this,void 0,void 0,function*(){try{return{data:yield NT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield bj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}}class Lit{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r9),e),this.fetch=vj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}listBuckets(t){return Ot(this,void 0,void 0,function*(){try{const e=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&e.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&e.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&e.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&e.set("sortOrder",t.sortOrder),t!=null&&t.search&&e.set("search",t.search);const a=e.toString(),r=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`,i=yield xx(this.fetch,r,{headers:this.headers});return{data:Array.isArray(i)?i.filter(s=>s.type==="ANALYTICS"):[],error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield bj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(en(e))return{data:null,error:e};throw e}})}}const wj={"X-Client-Info":`storage-js/${a9}`,"Content-Type":"application/json"};class i9 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yr(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class MP extends i9{constructor(t,e,a){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Iit extends i9{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}}var NM;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(NM||(NM={}));const Aj=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>c2(async()=>{const{default:a}=await Promise.resolve().then(()=>Om);return{default:a}},void 0).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)},Rit=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},BM=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Mit=(n,t,e)=>Ot(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(e!=null&&e.noResolveJson)){const r=n.status||500,i=n;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new MP(BM(o),r,s))}).catch(()=>{const o=r+"",s=i.statusText||`HTTP ${r} error`;t(new MP(s,r,o))});else{const o=r+"",s=i.statusText||`HTTP ${r} error`;t(new MP(s,r,o))}}else t(new Iit(BM(n),n))}),Fit=(n,t,e,a)=>{const r={method:n,headers:(t==null?void 0:t.headers)||{}};return a?(Rit(a)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,Object.assign(Object.assign({},r),e)):r};function $it(n,t,e,a,r,i){return Ot(this,void 0,void 0,function*(){return new Promise((o,s)=>{n(e,Fit(t,a,r,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Mit(c,s,a))})})}function Qr(n,t,e,a,r){return Ot(this,void 0,void 0,function*(){return $it(n,"POST",t,a,r,e)})}class Git{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wj),e),this.fetch=Aj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ot(this,void 0,void 0,function*(){try{return{data:(yield Qr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}getIndex(t,e){return Ot(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}listIndexes(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return Ot(this,void 0,void 0,function*(){try{return{data:(yield Qr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}}class Uit{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wj),e),this.fetch=Aj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ot(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}getVectors(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}listVectors(t){return Ot(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Qr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}queryVectors(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}deleteVectors(t){return Ot(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}}class zit{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wj),e),this.fetch=Aj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:(yield Qr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}getBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}listBuckets(){return Ot(this,arguments,void 0,function*(t={}){try{return{data:yield Qr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:(yield Qr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}}class qit extends zit{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Hit(this.url,this.headers,t,this.fetch)}}class Hit extends Git{constructor(t,e,a,r){super(t,e,r),this.vectorBucketName=a}createIndex(t){const e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ot(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ot(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ot(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ot(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Vit(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Vit extends Uit{constructor(t,e,a,r,i){super(t,e,i),this.vectorBucketName=a,this.indexName=r}putVectors(t){const e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ot(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ot(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ot(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ot(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ot(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Wit extends Oit{constructor(t,e={},a,r){super(t,e,a,r)}from(t){return new jit(this.url,this.headers,t,this.fetch)}get vectors(){return new qit(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Lit(this.url+"/iceberg",this.headers,this.fetch)}}const Kit="2.76.1";let wg="";typeof Deno<"u"?wg="deno":typeof document<"u"?wg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wg="react-native":wg="node";const Xit={"X-Client-Info":`supabase-js-${wg}/${Kit}`},Yit={headers:Xit},Qit={schema:"public"},Jit={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zit={},tot=n=>{let t;return n?t=n:typeof fetch>"u"?t=Wq:t=fetch,(...e)=>t(...e)},eot=()=>typeof Headers>"u"?Kq:Headers,not=(n,t,e)=>{const a=tot(e),r=eot();return async(i,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:n;let l=new r(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},o),{headers:l}))}};function aot(n){return n.endsWith("/")?n:n+"/"}function rot(n,t){var e,a;const{db:r,auth:i,realtime:o,global:s}=n,{db:c,auth:l,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},(e=h==null?void 0:h.headers)!==null&&e!==void 0?e:{}),(a=s==null?void 0:s.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?f.accessToken=n.accessToken:delete f.accessToken,f}function iot(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aot(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o9="2.76.1",_h=30*1e3,BT=3,FP=BT*_h,oot="http://localhost:9999",sot="supabase.auth.token",cot={"X-Client-Info":`gotrue-js/${o9}`},jT="X-Supabase-Api-Version",s9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lot=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dot=10*60*1e3;class yx extends Error{constructor(t,e,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=a}}function $t(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class uot extends yx{constructor(t,e,a){super(t,e,a),this.name="AuthApiError",this.status=e,this.code=a}}function mot(n){return $t(n)&&n.name==="AuthApiError"}class Yd extends yx{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class yd extends yx{constructor(t,e,a,r){super(t,a,r),this.name=e,this.status=a}}class nl extends yd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hot(n){return $t(n)&&n.name==="AuthSessionMissingError"}class hh extends yd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bb extends yd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jb extends yd{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pot(n){return $t(n)&&n.name==="AuthImplicitGrantRedirectError"}class jM extends yd{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class OT extends yd{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function $P(n){return $t(n)&&n.name==="AuthRetryableFetchError"}class OM extends yd{constructor(t,e,a){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=a}}class LT extends yd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const eA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LM=` 	
\r=`.split(""),fot=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<LM.length;t+=1)n[LM[t].charCodeAt(0)]=-2;for(let t=0;t<eA.length;t+=1)n[eA[t].charCodeAt(0)]=t;return n})();function IM(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;e(eA[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;e(eA[a]),t.queuedBits-=6}}function c9(n,t,e){const a=fot[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function RM(n){const t=[],e=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{yot(o,a,e)};for(let o=0;o<n.length;o+=1)c9(n.charCodeAt(o),r,i);return t.join("")}function got(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function xot(n,t){for(let e=0;e<n.length;e+=1){let a=n.charCodeAt(e);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(n.charCodeAt(e+1)-56320&65535|r)+65536,e+=1}got(a,t)}}function yot(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Xh(n){const t=[],e={queue:0,queuedBits:0},a=r=>{t.push(r)};for(let r=0;r<n.length;r+=1)c9(n.charCodeAt(r),e,a);return new Uint8Array(t)}function vot(n){const t=[];return xot(n,e=>t.push(e)),new Uint8Array(t)}function nu(n){const t=[],e={queue:0,queuedBits:0},a=r=>{t.push(r)};return n.forEach(r=>IM(r,e,a)),IM(null,e,a),t.join("")}function bot(n){return Math.round(Date.now()/1e3)+n}function wot(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const kr=()=>typeof window<"u"&&typeof document<"u",Fd={tested:!1,writable:!1},l9=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fd.tested)return Fd.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Fd.tested=!0,Fd.writable=!0}catch{Fd.tested=!0,Fd.writable=!1}return Fd.writable};function Aot(n){const t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return e.searchParams.forEach((a,r)=>{t[r]=a}),t}const d9=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>c2(async()=>{const{default:a}=await Promise.resolve().then(()=>Om);return{default:a}},void 0).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)},Sot=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ph=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},$d=async(n,t)=>{const e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},tl=async(n,t)=>{await n.removeItem(t)};class U1{constructor(){this.promise=new U1.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}U1.promiseConstructor=Promise;function GP(n){const t=n.split(".");if(t.length!==3)throw new LT("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!lot.test(t[a]))throw new LT("JWT not in base64url format");return{header:JSON.parse(RM(t[0])),payload:JSON.parse(RM(t[1])),signature:Xh(t[2]),raw:{header:t[0],payload:t[1]}}}async function _ot(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Pot(n,t){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await n(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function kot(n){return("0"+n.toString(16)).substr(-2)}function Cot(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=e.length;let r="";for(let i=0;i<56;i++)r+=e.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(t),Array.from(t,kot).join("")}async function Eot(n){const e=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",e),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Tot(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=await Eot(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ph(n,t,e=!1){const a=Cot();let r=a;e&&(r+="/PASSWORD_RECOVERY"),await Ph(n,`${t}-code-verifier`,r);const i=await Tot(a);return[i,a===i?"plain":"s256"]}const Dot=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Not(n){const t=n.headers.get(jT);if(!t||!t.match(Dot))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Bot(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function jot(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Oot=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fh(n){if(!Oot.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function UP(){const n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const a=e.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MM(n){return JSON.parse(JSON.stringify(n))}const zd=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Lot=[502,503,504];async function FM(n){var t;if(!Sot(n))throw new OT(zd(n),0);if(Lot.includes(n.status))throw new OT(zd(n),n.status);let e;try{e=await n.json()}catch(i){throw new Yd(zd(i),i)}let a;const r=Not(n);if(r&&r.getTime()>=s9["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?a=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(a=e.error_code),a){if(a==="weak_password")throw new OM(zd(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new nl}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new OM(zd(e),n.status,e.weak_password.reasons);throw new uot(zd(e),n.status||500,a)}const Iot=(n,t,e,a)=>{const r={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),e))};async function Vt(n,t,e,a){var r;const i=Object.assign({},a==null?void 0:a.headers);i[jT]||(i[jT]=s9["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Rot(n,t,e+s,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function Rot(n,t,e,a,r,i){const o=Iot(t,a,r,i);let s;try{s=await n(e,Object.assign({},o))}catch(c){throw console.error(c),new OT(zd(c),0)}if(s.ok||await FM(s),a!=null&&a.noResolveJson)return s;try{return await s.json()}catch(c){await FM(c)}}function qi(n){var t;let e=null;$ot(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=bot(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:a},error:null}}function $M(n){const t=qi(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,a)=>e&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function sl(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Mot(n){return{data:n,error:null}}function Fot(n){const{action_link:t,email_otp:e,hashed_token:a,redirect_to:r,verification_type:i}=n,o=s2(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:e,hashed_token:a,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function GM(n){return n}function $ot(n){return n.access_token&&n.refresh_token&&n.expires_in}const zP=["global","local","others"];class Got{constructor({url:t="",headers:e={},fetch:a}){this.url=t,this.headers=e,this.fetch=d9(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,e=zP[0]){if(zP.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zP.join(", ")}`);try{return await Vt(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,e={}){try{return await Vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:sl})}catch(a){if($t(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:e}=t,a=s2(t,["options"]),r=Object.assign(Object.assign({},a),e);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await Vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Fot,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if($t(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await Vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sl})}catch(e){if($t(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,a,r,i,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:GM});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);l[`${b}Page`]=v}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if($t(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){fh(t);try{return await Vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sl})}catch(e){if($t(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){fh(t);try{return await Vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:sl})}catch(a){if($t(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,e=!1){fh(t);try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:sl})}catch(a){if($t(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){fh(t.userId);try{const{data:e,error:a}=await Vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:e,error:a}}catch(e){if($t(e))return{data:null,error:e};throw e}}async _deleteFactor(t){fh(t.userId),fh(t.id);try{return{data:await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if($t(e))return{data:null,error:e};throw e}}async _listOAuthClients(t){var e,a,r,i,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:GM});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);l[`${b}Page`]=v}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if($t(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await Vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if($t(e))return{data:null,error:e};throw e}}async _getOAuthClient(t){try{return await Vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if($t(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(t){try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if($t(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(t){try{return await Vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if($t(e))return{data:null,error:e};throw e}}}function UM(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}const gh={debug:!!(globalThis&&l9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uot extends u9{}async function zot(n,t,e){gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),gh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await e()}finally{gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(t===0)throw gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Uot(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(gh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}function qot(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function m9(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Hot(n){return parseInt(n,16)}function Vot(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function Wot(n){var t;const{chainId:e,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:l,scheme:u,uri:h,version:f}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const y=m9(n.address),w=u?`${u}://${a}`:a,v=n.statement?`${n.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${y}

${v}`;let S=`URI: ${h}
Version: ${f}
Chain ID: ${e}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(S+=`
Expiration Time: ${r.toISOString()}`),s&&(S+=`
Not Before: ${s.toISOString()}`),c&&(S+=`
Request ID: ${c}`),l){let _=`
Resources:`;for(const P of l){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);_+=`
- ${P}`}S+=_}return`${b}
${S}`}class Pn extends Error{constructor({message:t,code:e,cause:a,name:r}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=e}}class nA extends Pn{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}function Kot({error:n,options:t}){var e,a,r;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=i.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Pn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(h9(o)){if(i.rp.id!==o)return new Pn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Xot({error:n,options:t}){const{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Pn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(h9(a)){if(e.rpId!==a)return new Pn({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Yot{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Qot=new Yot;function Jot(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:e,excludeCredentials:a}=n,r=s2(n,["challenge","user","excludeCredentials"]),i=Xh(t).buffer,o=Object.assign(Object.assign({},e),{id:Xh(e.id).buffer}),s=Object.assign(Object.assign({},r),{challenge:i,user:o});if(a&&a.length>0){s.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const l=a[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Xh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function Zot(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:e}=n,a=s2(n,["challenge","allowCredentials"]),r=Xh(t).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(e&&e.length>0){i.allowCredentials=new Array(e.length);for(let o=0;o<e.length;o++){const s=e[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Xh(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function tst(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const e=n;return{id:n.id,rawId:n.id,response:{attestationObject:nu(new Uint8Array(n.response.attestationObject)),clientDataJSON:nu(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function est(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const e=n,a=n.getClientExtensionResults(),r=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:nu(new Uint8Array(r.authenticatorData)),clientDataJSON:nu(new Uint8Array(r.clientDataJSON)),signature:nu(new Uint8Array(r.signature)),userHandle:r.userHandle?nu(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function h9(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function zM(){var n,t;return!!(kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nst(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nA("Browser returned unexpected credential type",t)}:{data:null,error:new nA("Empty credential response",t)}}catch(t){return{data:null,error:Kot({error:t,options:n})}}}async function ast(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nA("Browser returned unexpected credential type",t)}:{data:null,error:new nA("Empty credential response",t)}}catch(t){return{data:null,error:Xot({error:t,options:n})}}}const rst={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ist={userVerification:"preferred",hints:["security-key"]};function aA(...n){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),e=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of n)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(e(o))a[i]=o;else if(t(o)){const s=a[i];t(s)?a[i]=aA(s,o):a[i]=aA(o)}else a[i]=o}return a}function ost(n,t){return aA(rst,n,t||{})}function sst(n,t){return aA(ist,n,t||{})}class cst{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:e,friendlyName:a,signal:r},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:e});if(!o)return{data:null,error:s};const c=r??Qot.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:l}=o.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${a}`),l.displayName||(l.displayName=l.name)}switch(o.webauthn.type){case"create":{const l=ost(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await nst({publicKey:l,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const l=sst(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await ast(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new Yd("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:e,webauthn:a}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}},i){if(!e)return{data:null,error:new yx("rpId is required for WebAuthn authentication")};try{if(!zM())return{data:null,error:new Yd("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:a},signal:r},{request:i});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:e,rpOrigins:a,credential_response:c.credential_response}})}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new Yd("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r},i){if(!e)return{data:null,error:new yx("rpId is required for WebAuthn registration")};try{if(!zM())return{data:null,error:new Yd("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:c,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:e,rpOrigins:a},signal:r},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:e,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new Yd("Unexpected error in register",o)}}}}qot();const lst={url:oot,storageKey:sot,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cot,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qM(n,t,e){return await e()}const xh={};class vx{get jwks(){var t,e;return(e=(t=xh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){xh[this.storageKey]=Object.assign(Object.assign({},xh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=xh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xh[this.storageKey]=Object.assign(Object.assign({},xh[this.storageKey]),{cachedAt:t})}constructor(t){var e,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vx.nextInstanceID,vx.nextInstanceID+=1,this.instanceID>0&&kr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},lst),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Got({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=d9(r.fetch),this.lock=r.lock||qM,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:kr()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=zot:this.lock=qM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cst(this)},this.persistSession?(r.storage?this.storage=r.storage:l9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=UM(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=UM(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o9}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=Aot(window.location.href);let a="none";if(this._isImplicitGrantCallback(e)?a="implicit":await this._isPKCECallback(e)&&(a="pkce"),kr()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:i}=await this._getSessionFromURL(e,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pot(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return $t(e)?{error:e}:{error:new Yd("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,a,r;try{const i=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:qi}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var e,a,r;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await ph(this.storage,this.storageKey)),i=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(e=f==null?void 0:f.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:qi})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qi})}else throw new Bb("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let e;if("email"in t){const{email:i,password:o,options:s}=t;e=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$M})}else if("phone"in t){const{phone:i,password:o,options:s}=t;e=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$M})}else throw new Bb("You must provide either an email or phone number and a password");const{data:a,error:r}=e;return r?{data:{user:null,session:null},error:r}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new hh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,a,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;switch(e){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}}async signInWithEthereum(t){var e,a,r,i,o,s,c,l,u,h,f;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:v,wallet:b,statement:S,options:_}=t;let P;if(kr())if(typeof b=="object")P=b;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")P=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=b}const E=new URL((e=_==null?void 0:_.url)!==null&&e!==void 0?e:window.location.href),C=await P.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=m9(C[0]);let B=(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!B){const M=await P.request({method:"eth_chainId"});B=Hot(M)}const L={domain:E.host,address:T,statement:S,uri:E.href,version:"1",chainId:B,nonce:(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=Wot(L),w=await P.request({method:"personal_sign",params:[Vot(y),T]})}try{const{data:v,error:b}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:qi});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new hh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if($t(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var e,a,r,i,o,s,c,l,u,h,f,y;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:b,wallet:S,statement:_,options:P}=t;let E;if(kr())if(typeof S=="object")E=S;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const C=new URL((e=P==null?void 0:P.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),_?{statement:_}:null));let B;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")B=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)B=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)w=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),v=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(r=(a=P==null?void 0:P.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=P==null?void 0:P.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((h=(u=P==null?void 0:P.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...P.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:b,error:S}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:nu(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:qi});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new hh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if($t(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const e=await $d(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(e??"").split("/");try{const{data:i,error:o}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:qi});if(await tl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if($t(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:e,provider:a,token:r,access_token:i,nonce:o}=t,s=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:qi}),{data:c,error:l}=s;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,a,r,i,o;try{if("email"in t){const{email:s,options:c}=t;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ph(this.storage,this.storageKey));const{error:h}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(e=c==null?void 0:c.data)!==null&&e!==void 0?e:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:s,options:c}=t,{data:l,error:u}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Bb("You must provide either an email or phone number.")}catch(s){if($t(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var e,a;try{let r,i;"options"in t&&(r=(e=t.options)===null||e===void 0?void 0:e.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:s}=await Vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:qi});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var e,a,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ph(this.storage,this.storageKey)),await Vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mot})}catch(i){if($t(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:a}=t;if(a)throw a;if(!e)throw new nl;const{error:r}=await Vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:a,type:r,options:i}=t,{error:o}=await Vt(this.fetch,"POST",e,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:a,type:r,options:i}=t,{data:o,error:s}=await Vt(this.fetch,"POST",e,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Bb("You must provide either an email or phone number and a type")}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await e()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=e();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await $d(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<FP:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await $d(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=UP()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:t},error:null}}const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sl}):await this._useSession(async e=>{var a,r,i;const{data:o,error:s}=e;if(s)throw s;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nl}:await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:sl})})}catch(e){if($t(e))return hot(e)&&(await this._removeSession(),await tl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async a=>{const{data:r,error:i}=a;if(i)throw i;if(!r.session)throw new nl;const o=r.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await ph(this.storage,this.storageKey));const{data:l,error:u}=await Vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:sl});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if($t(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nl;const e=Date.now()/1e3;let a=e,r=!0,i=null;const{payload:o}=GP(t.access_token);if(o.exp&&(a=o.exp,r=a<=e),r){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:a-e,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if($t(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var a;if(!t){const{data:o,error:s}=e;if(s)throw s;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new nl;const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!kr())throw new jb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new jM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jb("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jM("No code detected.");const{data:_,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:l}=t;if(!i||!s||!o||!l)throw new jb("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(s);let f=u+h;c&&(f=parseInt(c));const y=f-u;y*1e3<=_h&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,u);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const S={provider_token:a,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(a){if($t(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await $d(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var a;const{data:r,error:i}=e;if(i)return{error:i};const o=(a=r.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(mot(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await tl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=wot(),a={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async e=>{var a,r;try{const{data:{session:i},error:o}=e;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,e={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await ph(this.storage,this.storageKey,!0));try{return await Vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(i){if($t(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:e,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if($t(e))return{data:null,error:e};throw e}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var e;try{const{data:a,error:r}=await this._useSession(async i=>{var o,s,c,l,u;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Vt(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return kr()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if($t(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async e=>{var a;try{const{error:r,data:{session:i}}=e;if(r)throw r;const{options:o,provider:s,token:c,access_token:l,nonce:u}=t,h=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:s,id_token:c,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qi}),{data:f,error:y}=h;return y?{data:{user:null,session:null},error:y}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new hh}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:y})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(t){try{return await this._useSession(async e=>{var a,r;const{data:i,error:o}=e;if(o)throw o;return await Vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(e){if($t(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const a=Date.now();return await Pot(async r=>(r>0&&await _ot(200*Math.pow(2,r-1)),this._debug(e,"refreshing attempt",r),await Vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qi})),(r,i)=>{const o=200*Math.pow(2,r);return i&&$P(i)&&Date.now()+o-a<_h})}catch(a){if(this._debug(e,"error",a),$t(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",a),kr()&&!e.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,e;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await $d(this.storage,this.storageKey);if(r&&this.userStorage){let o=await $d(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await Ph(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:UP()}else if(r&&!r.user&&!r.user){const o=await $d(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await tl(this.storage,this.storageKey+"-user"),await Ph(this.storage,this.storageKey,r)):r.user=UP()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<FP;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${FP}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$P(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(r.access_token);!s&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var e,a;if(!t)throw new nl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new U1;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new nl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(r,"error",i),$t(i)){const o={data:null,error:i};return $P(i)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,e,a=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",e,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,e)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),a=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&e.user&&await Ph(this.userStorage,this.storageKey+"-user",{user:e.user});const r=Object.assign({},e);delete r.user;const i=MM(r);await Ph(this.storage,this.storageKey,i)}else{const r=MM(e);await Ph(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await tl(this.storage,this.storageKey),await tl(this.storage,this.storageKey+"-code-verifier"),await tl(this.storage,this.storageKey+"-user"),this.userStorage&&await tl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_h);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:a}}=e;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-t)/_h);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${_h}ms, refresh threshold is ${BT} ticks`),r<=BT&&await this._callRefreshToken(a.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,a){const r=[`provider=${encodeURIComponent(e)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await ph(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(s.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);r.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var a;const{data:r,error:i}=e;return i?{data:null,error:i}:await Vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(e){if($t(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var a,r;const{data:i,error:o}=e;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:l}=await Vt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&c.type==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(e){if($t(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var a;const{data:r,error:i}=e;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tst(t.webauthn.credential_response):est(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(e){if($t(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var a;const{data:r,error:i}=e;if(i)return{data:null,error:i};const o=await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Jot(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Zot(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if($t(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){var t;const{data:{user:e},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=e==null?void 0:e.factors)!==null&&t!==void 0?t:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,a;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=GP(r.access_token);let s=null;o.aal&&(s=o.aal);let c=s;((a=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,e={keys:[]}){let a=e.keys.find(s=>s.kid===t);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(s=>s.kid===t),a&&this.jwks_cached_at+dot>r)return a;const{data:i,error:o}=await Vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,a=i.keys.find(s=>s.kid===t),!a)?null:a}async getClaims(t,e={}){try{let a=t;if(!a){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};a=y.session.access_token}const{header:r,payload:i,signature:o,raw:{header:s,payload:c}}=GP(a);e!=null&&e.allowExpired||Bot(i.exp);const l=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,e!=null&&e.keys?{keys:e.keys}:e==null?void 0:e.jwks);if(!l){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:r,signature:o},error:null}}const u=jot(r.alg),h=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,vot(`${s}.${c}`)))throw new LT("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}}}vx.nextInstanceID=0;const dst=vx;class ust extends dst{constructor(t){super(t)}}class mst{constructor(t,e,a){var r,i,o;this.supabaseUrl=t,this.supabaseKey=e;const s=iot(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Qit,realtime:Zit,auth:Object.assign(Object.assign({},Jit),{storageKey:c}),global:Yit},u=rot(a??{},l);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=not(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new oit(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Wit(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Yrt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,a)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,e;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(e=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:a,storage:r,userStorage:i,storageKey:o,flowType:s,lock:c,debug:l},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ust({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:a,storage:r,userStorage:i,flowType:s,lock:c,debug:l,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Sit(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,a)=>{this._handleTokenChanged(e,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,e,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hst=(n,t,e)=>new mst(n,t,e);function pst(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pst()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fst="https://ejnmfolwyugpqompofng.supabase.co",gst="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqbm1mb2x3eXVncHFvbXBvZm5nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0NTY2MzEsImV4cCI6MjA3ODAzMjYzMX0.4XaO-SDwfu-NwrG5hVxD3IlqTlJip55Suv4CSdMun8k",kt=hst(fst,gst,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),xst=()=>{try{return localStorage.getItem("onboarding_completed")==="true"}catch(n){return console.warn("[Auth] localStorage not available:",n),!1}};let Ob=!1;const qe=Urt((n,t)=>({user:null,profile:null,achievements:[],isLoading:!0,hasCompletedOnboarding:xst(),timeLeft:25*60,isTimerActive:!1,timerMode:"focus",setUser:e=>n({user:e}),setProfile:e=>n({profile:e}),setAchievements:e=>n({achievements:e}),setTimerState:e=>n(e),decrementTimer:()=>n(e=>e.timeLeft>0?{timeLeft:e.timeLeft-1}:{isTimerActive:!1}),resetTimer:e=>{let a;e==="shortBreak"?a=5*60:e==="longBreak"?a=15*60:a=25*60,n({timeLeft:a,timerMode:e,isTimerActive:!1})},signUp:async(e,a,r)=>{n({isLoading:!0});try{const{data:i,error:o}=await kt.auth.signUp({email:e,password:a,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(o)throw o.message.includes("email_address_invalid")||o.message.includes("invalid")?new Error("Please use a valid email address from a real email provider (e.g., Gmail, Outlook)."):o;if(!i.user)throw new Error("No user returned");const{error:s}=await kt.from("profiles").insert({id:i.user.id,full_name:r,total_xp:0,level:1,current_streak:0,longest_streak:0,books_read:0,study_minutes:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});s&&console.error("Profile creation error:",s),console.log("[Auth] Sign up successful, awaiting email verification")}catch(i){const o=i.message.includes("already registered")||i.message.includes("User already registered")?"This email is already registered. Please sign in instead.":i.message.includes("Unable to complete registration")?i.message:i.message||"Registration failed. Please try again.";throw new Error(o)}finally{n({isLoading:!1})}},signIn:async(e,a)=>{n({isLoading:!0});try{const{data:r,error:i}=await kt.auth.signInWithPassword({email:e,password:a});if(i)throw i;if(!r.user)throw new Error("No user returned");console.log("[Auth] Sign in successful, user:",r.user.email),n({user:r.user});try{await Promise.all([t().loadProfile(),t().loadAchievements()])}catch(o){console.error("Failed to load user data:",o)}finally{n({isLoading:!1})}}catch(r){throw n({isLoading:!1}),new Error(r.message||"Sign in failed")}},signOut:async()=>{console.log("[Auth] Signing out..."),n({user:null,profile:null,achievements:[],isLoading:!1});try{localStorage.removeItem("onboarding_completed")}catch(e){console.warn("[Auth] Could not clear localStorage:",e)}n({hasCompletedOnboarding:!1}),await kt.auth.signOut(),console.log("[Auth] Sign out complete")},loadProfile:async()=>{var a;const e=t().user;if(!e){console.log("[Auth] No user, skipping profile load");return}try{console.log("[Auth] Loading profile for user:",e.email);const{data:r,error:i}=await kt.from("profiles").select("*").eq("id",e.id).maybeSingle();if(i){console.error("[Auth] Error loading profile:",i);return}if(r)console.log("[Auth] Profile loaded successfully"),n({profile:r});else{console.warn("[Auth] No profile found for user, creating one");const{error:o}=await kt.from("profiles").insert({id:e.id,full_name:((a=e.email)==null?void 0:a.split("@")[0])||"User",total_xp:0,level:1,current_streak:0,longest_streak:0,books_read:0,study_minutes:0});o||await t().loadProfile()}}catch(r){console.error("[Auth] Profile loading error:",r)}},loadAchievements:async()=>{const e=t().user;if(!e){console.log("[Auth] No user, skipping achievements load");return}try{console.log("[Auth] Loading achievements for user:",e.email);const{data:a,error:r}=await kt.from("user_achievements").select("*, achievements(*)").eq("user_id",e.id).order("earned_at",{ascending:!1});if(r){console.error("[Auth] Error loading achievements:",r);return}console.log("[Auth] Achievements loaded:",(a==null?void 0:a.length)||0),n({achievements:a||[]})}catch(a){console.error("[Auth] Achievements loading error:",a)}},completeOnboarding:()=>{try{localStorage.setItem("onboarding_completed","true")}catch(e){console.warn("[Auth] Could not save to localStorage:",e)}n({hasCompletedOnboarding:!0})},uploadAvatar:async e=>{const a=t().user;if(!a)throw new Error("No user logged in");return new Promise((r,i)=>{const o=new FileReader;o.onloadend=async()=>{var s;try{const c=o.result,{data:l,error:u}=await kt.functions.invoke("upload-avatar",{body:{imageData:c,fileName:`${Date.now()}-${e.name}`,userId:a.id}});if(u)throw u;const h=(s=l==null?void 0:l.data)==null?void 0:s.publicUrl;h&&await t().loadProfile(),r(h)}catch(c){i(c)}},o.onerror=i,o.readAsDataURL(e)})},updateProfile:async e=>{const a=t().user;if(!a)throw new Error("No user logged in");const{error:r}=await kt.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",a.id);if(r)throw r;await t().loadProfile()},initializeAuth:async()=>{try{console.log("[Auth] Starting initialization..."),n({isLoading:!0});const{data:{user:e},error:a}=await kt.auth.getUser();if(a){console.error("[Auth] Error getting user:",a),n({isLoading:!1,user:null});return}if(e){console.log("[Auth] User found:",e.email),n({user:e});try{await Promise.all([t().loadProfile(),t().loadAchievements()])}catch(r){console.error("Failed to load user data:",r)}finally{n({isLoading:!1})}}else console.log("[Auth] No user session found"),n({isLoading:!1,user:null})}catch(e){console.error("[Auth] Initialization error:",e),n({user:null,profile:null,achievements:[],isLoading:!1})}}}));console.log("[Auth] Initializing auth store...");qe.getState().initializeAuth();kt.auth.onAuthStateChange((n,t)=>{console.log("[Auth] State change event:",n,"hasSession:",!!t);const{setUser:e}=qe.getState();if(n==="SIGNED_OUT")console.log("[Auth] User signed out event"),e(null),qe.setState({profile:null,achievements:[],isLoading:!1}),Ob=!1;else if(t!=null&&t.user&&n==="SIGNED_IN"){if(console.log("[Auth] Auth event with user:",t.user.email),e(t.user),!Ob){Ob=!0;const{loadProfile:a,loadAchievements:r}=qe.getState();Promise.all([a(),r()]).catch(i=>console.error("Failed to load user data:",i)).finally(()=>{Ob=!1})}}else t!=null&&t.user&&n!=="SIGNED_IN"&&e(t.user)});const yh=[{title:"Welcome to Learnty",subtitle:"Your AI-powered learning companion",description:"Transform books into interactive learning experiences using cognitive science principles.",icon:yU,gradient:"from-blue-500 to-purple-600"},{title:"Learn with Science",subtitle:"Based on Dehaene's Four Pillars",description:"Attention, Active Engagement, Error Feedback, and Consolidation - all built into your learning journey.",icon:Un,gradient:"from-purple-500 to-pink-600"},{title:"Build Projects, Not Notes",subtitle:"Apply knowledge through projects",description:"Break down learning into small, simple steps (S3) with AI-generated milestones.",icon:iJ,gradient:"from-pink-500 to-orange-600"},{title:"Master Through Practice",subtitle:"Spaced repetition system",description:"Active recall with confidence-based reviews ensures long-term retention.",icon:jm,gradient:"from-orange-500 to-red-600"}];function yst(){const[n,t]=I.useState(0),[e,a]=I.useState(null),[r,i]=I.useState(null),o=Ia(),s=qe(b=>b.completeOnboarding),c=I.useRef(null),l=()=>{n<yh.length-1?t(n+1):(s(),o("/auth"))},u=()=>{s(),o("/auth")},h=b=>{i(null),a(b.targetTouches[0].clientX)},f=b=>{i(b.targetTouches[0].clientX)},y=()=>{if(!e||!r)return;const b=e-r,S=b>50,_=b<-50;S&&n<yh.length-1&&l(),_&&n>0&&t(n-1)},w=yh[n],v=w.icon;return x.jsxs("div",{ref:c,className:"min-h-screen bg-background flex flex-col",onTouchStart:h,onTouchMove:f,onTouchEnd:y,"data-matrix-id":"src/pages/Onboarding.tsx:91:4","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"91","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-background%20flex%20flex-col%22%2C%22onTouchStart%22%3A%22%5BIdentifier%5D%22%2C%22onTouchMove%22%3A%22%5BIdentifier%5D%22%2C%22onTouchEnd%22%3A%22%5BIdentifier%5D%22%7D",children:[x.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 pt-safe flex justify-between items-center","data-matrix-id":"src/pages/Onboarding.tsx:99:6","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"99","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-4%20left-4%20right-4%20z-10%20pt-safe%20flex%20justify-between%20items-center%22%7D",children:[n>0&&x.jsx(st.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(n-1),className:"p-2 text-muted-foreground hover:text-foreground transition-colors backdrop-blur-sm",children:x.jsx(ZQ,{className:"w-6 h-6","data-matrix-id":"src/pages/Onboarding.tsx:107:12","data-matrix-name":"ChevronLeft","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"107","data-component-file":"Onboarding.tsx","data-component-name":"ChevronLeft","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%7D"})}),n<yh.length-1&&x.jsx("div",{className:"absolute right-4","data-matrix-id":"src/pages/Onboarding.tsx:111:10","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"111","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20right-4%22%7D",children:x.jsx("button",{onClick:u,className:"p-2 text-muted-foreground hover:text-foreground transition-colors backdrop-blur-sm","data-matrix-id":"src/pages/Onboarding.tsx:112:12","data-matrix-name":"button","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"112","data-component-file":"Onboarding.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-2%20text-muted-foreground%20hover%3Atext-foreground%20transition-colors%20backdrop-blur-sm%22%7D",children:x.jsx(mc,{className:"w-6 h-6","data-matrix-id":"src/pages/Onboarding.tsx:116:14","data-matrix-name":"X","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"116","data-component-file":"Onboarding.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%7D"})})})]}),x.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-4 sm:px-6 py-8 sm:py-12 relative","data-matrix-id":"src/pages/Onboarding.tsx:123:6","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"123","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20flex%20flex-col%20items-center%20justify-center%20px-4%20sm%3Apx-6%20py-8%20sm%3Apy-12%20relative%22%7D",children:x.jsxs(st.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,ease:"easeInOut"},className:"w-full flex flex-col items-center",children:[x.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-primary flex items-center justify-center mb-6 sm:mb-8 shadow-lg","data-matrix-id":"src/pages/Onboarding.tsx:132:10","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"132","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsx(v,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white","data-matrix-id":"src/pages/Onboarding.tsx:133:12","data-matrix-name":"Icon","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"133","data-component-file":"Onboarding.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20sm%3Aw-16%20sm%3Ah-16%20text-white%22%7D"})}),x.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground text-center mb-3 sm:mb-4","data-matrix-id":"src/pages/Onboarding.tsx:136:10","data-matrix-name":"h1","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"136","data-component-file":"Onboarding.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20sm%3Atext-3xl%20md%3Atext-4xl%20font-bold%20text-foreground%20text-center%20mb-3%20sm%3Amb-4%22%7D",children:w.title}),x.jsx("p",{className:"text-base sm:text-lg md:text-xl font-semibold text-primary text-center mb-3 sm:mb-4","data-matrix-id":"src/pages/Onboarding.tsx:140:10","data-matrix-name":"p","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"140","data-component-file":"Onboarding.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20md%3Atext-xl%20font-semibold%20text-primary%20text-center%20mb-3%20sm%3Amb-4%22%7D",children:w.subtitle}),x.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground text-center max-w-sm sm:max-w-md leading-relaxed px-2","data-matrix-id":"src/pages/Onboarding.tsx:144:10","data-matrix-name":"p","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"144","data-component-file":"Onboarding.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Atext-base%20md%3Atext-lg%20text-muted-foreground%20text-center%20max-w-sm%20sm%3Amax-w-md%20leading-relaxed%20px-2%22%7D",children:w.description})]},n)}),x.jsx("div",{className:"flex justify-center gap-2 mb-6 sm:mb-8 px-6","data-matrix-id":"src/pages/Onboarding.tsx:151:6","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"151","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20gap-2%20mb-6%20sm%3Amb-8%20px-6%22%7D",children:yh.map((b,S)=>x.jsx(st.div,{className:`h-2 rounded-full transition-all duration-300 cursor-pointer ${S===n?"w-6 sm:w-8 bg-blue-600":"w-2 bg-gray-300 hover:bg-gray-400"}`,onClick:()=>t(S),whileHover:{scale:1.2},whileTap:{scale:.9}},S))}),x.jsx("div",{className:"px-4 sm:px-6 pb-6 sm:pb-8 pt-2","data-matrix-id":"src/pages/Onboarding.tsx:168:6","data-matrix-name":"div","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"168","data-component-file":"Onboarding.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20pb-6%20sm%3Apb-8%20pt-2%22%7D",children:x.jsx("button",{onClick:l,className:"w-full bg-primary text-primary-foreground py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 active:scale-95","data-matrix-id":"src/pages/Onboarding.tsx:169:8","data-matrix-name":"button","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"169","data-component-file":"Onboarding.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20bg-primary%20text-primary-foreground%20py-3%20sm%3Apy-4%20rounded-xl%20font-semibold%20text-base%20sm%3Atext-lg%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20flex%20items-center%20justify-center%20gap-2%20active%3Ascale-95%22%7D",children:n<yh.length-1?x.jsxs(x.Fragment,{children:["Continue",x.jsx(qw,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Onboarding.tsx:176:14","data-matrix-name":"ChevronRight","data-component-path":"src/pages/Onboarding.tsx","data-component-line":"176","data-component-file":"Onboarding.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"})]}):"Get Started"})})]})}function vst(){const[n,t]=I.useState(!0),[e,a]=I.useState(""),[r,i]=I.useState(""),[o,s]=I.useState(""),[c,l]=I.useState(!1),u=Ia(),{signUp:h,signIn:f,isLoading:y}=qe(),w=async v=>{if(v.preventDefault(),!e||!r){Nt.error("Please fill in all fields");return}if(!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e)){Nt.error("Please enter a valid email");return}if(r.length<6){Nt.error("Password must be at least 6 characters");return}if(n&&!o){Nt.error("Please enter your full name");return}try{n?(await h(e,r,o),Nt.success("Account created! Please check your email to verify."),u("/pending-confirmation")):(await f(e,r),Nt.success("Welcome back!"),u("/home"))}catch(b){const S=b.message||"Something went wrong. Please try again.";Nt.error(S,{duration:5e3})}};return x.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4 sm:p-6","data-matrix-id":"src/pages/Auth.tsx:58:4","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"58","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-background%20flex%20flex-col%20items-center%20justify-center%20p-4%20sm%3Ap-6%22%7D",children:x.jsxs("div",{className:"w-full max-w-sm sm:max-w-md","data-matrix-id":"src/pages/Auth.tsx:59:6","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"59","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20max-w-sm%20sm%3Amax-w-md%22%7D",children:[x.jsxs("div",{className:"flex flex-col items-center mb-6 sm:mb-8","data-matrix-id":"src/pages/Auth.tsx:61:8","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"61","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20mb-6%20sm%3Amb-8%22%7D",children:[x.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary rounded-2xl flex items-center justify-center shadow-lg mb-3 sm:4","data-matrix-id":"src/pages/Auth.tsx:62:10","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"62","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20sm%3Aw-20%20sm%3Ah-20%20bg-primary%20rounded-2xl%20flex%20items-center%20justify-center%20shadow-lg%20mb-3%20sm%3A4%22%7D",children:x.jsx(yU,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white","data-matrix-id":"src/pages/Auth.tsx:63:12","data-matrix-name":"GraduationCap","data-component-path":"src/pages/Auth.tsx","data-component-line":"63","data-component-file":"Auth.tsx","data-component-name":"GraduationCap","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20sm%3Aw-10%20sm%3Ah-10%20text-white%22%7D"})}),x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground text-center","data-matrix-id":"src/pages/Auth.tsx:65:10","data-matrix-name":"h1","data-component-path":"src/pages/Auth.tsx","data-component-line":"65","data-component-file":"Auth.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20sm%3Atext-3xl%20font-bold%20text-foreground%20text-center%22%7D",children:n?"Create Account":"Welcome Back"}),x.jsx("p",{className:"text-muted-foreground mt-2 text-center text-sm sm:text-base px-4","data-matrix-id":"src/pages/Auth.tsx:68:10","data-matrix-name":"p","data-component-path":"src/pages/Auth.tsx","data-component-line":"68","data-component-file":"Auth.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%20text-center%20text-sm%20sm%3Atext-base%20px-4%22%7D",children:n?"Start your learning journey with Learnty":"Sign in to continue learning"})]}),x.jsxs("form",{onSubmit:w,className:"space-y-3 sm:space-y-4","data-matrix-id":"src/pages/Auth.tsx:74:8","data-matrix-name":"form","data-component-path":"src/pages/Auth.tsx","data-component-line":"74","data-component-file":"Auth.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-3%20sm%3Aspace-y-4%22%7D",children:[n&&x.jsxs("div",{"data-matrix-id":"src/pages/Auth.tsx:76:12","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"76","data-component-file":"Auth.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"src/pages/Auth.tsx:77:14","data-matrix-name":"label","data-component-path":"src/pages/Auth.tsx","data-component-line":"77","data-component-file":"Auth.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Full Name"}),x.jsxs("div",{className:"relative","data-matrix-id":"src/pages/Auth.tsx:80:14","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"80","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x.jsx(vJ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400","data-matrix-id":"src/pages/Auth.tsx:81:16","data-matrix-name":"User","data-component-path":"src/pages/Auth.tsx","data-component-line":"81","data-component-file":"Auth.tsx","data-component-name":"User","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-gray-400%22%7D"}),x.jsx("input",{type:"text",value:o,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm sm:text-base",placeholder:"Enter your full name","data-matrix-id":"src/pages/Auth.tsx:82:16","data-matrix-name":"input","data-component-path":"src/pages/Auth.tsx","data-component-line":"82","data-component-file":"Auth.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-10%20pr-4%20py-2.5%20sm%3Apy-3%20bg-white%20border%20border-gray-300%20rounded-xl%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%20outline-none%20transition-all%20text-sm%20sm%3Atext-base%22%2C%22placeholder%22%3A%22Enter%20your%20full%20name%22%7D"})]})]}),x.jsxs("div",{"data-matrix-id":"src/pages/Auth.tsx:93:10","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"93","data-component-file":"Auth.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"src/pages/Auth.tsx:94:12","data-matrix-name":"label","data-component-path":"src/pages/Auth.tsx","data-component-line":"94","data-component-file":"Auth.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Email"}),x.jsxs("div",{className:"relative","data-matrix-id":"src/pages/Auth.tsx:97:12","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"97","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x.jsx(vU,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400","data-matrix-id":"src/pages/Auth.tsx:98:14","data-matrix-name":"Mail","data-component-path":"src/pages/Auth.tsx","data-component-line":"98","data-component-file":"Auth.tsx","data-component-name":"Mail","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-gray-400%22%7D"}),x.jsx("input",{type:"email",value:e,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm sm:text-base",placeholder:"Enter your email","data-matrix-id":"src/pages/Auth.tsx:99:14","data-matrix-name":"input","data-component-path":"src/pages/Auth.tsx","data-component-line":"99","data-component-file":"Auth.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22email%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-10%20pr-4%20py-2.5%20sm%3Apy-3%20bg-white%20border%20border-gray-300%20rounded-xl%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%20outline-none%20transition-all%20text-sm%20sm%3Atext-base%22%2C%22placeholder%22%3A%22Enter%20your%20email%22%7D"})]})]}),x.jsxs("div",{"data-matrix-id":"src/pages/Auth.tsx:109:10","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"109","data-component-file":"Auth.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"src/pages/Auth.tsx:110:12","data-matrix-name":"label","data-component-path":"src/pages/Auth.tsx","data-component-line":"110","data-component-file":"Auth.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Password"}),x.jsxs("div",{className:"relative","data-matrix-id":"src/pages/Auth.tsx:113:12","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"113","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x.jsx(Hw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400","data-matrix-id":"src/pages/Auth.tsx:114:14","data-matrix-name":"Lock","data-component-path":"src/pages/Auth.tsx","data-component-line":"114","data-component-file":"Auth.tsx","data-component-name":"Lock","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-gray-400%22%7D"}),x.jsx("input",{type:c?"text":"password",value:r,onChange:v=>i(v.target.value),className:"w-full pl-10 pr-12 py-2.5 sm:py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm sm:text-base",placeholder:"Enter your password","data-matrix-id":"src/pages/Auth.tsx:115:14","data-matrix-name":"input","data-component-path":"src/pages/Auth.tsx","data-component-line":"115","data-component-file":"Auth.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22%5BConditionalExpression%5D%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-10%20pr-12%20py-2.5%20sm%3Apy-3%20bg-white%20border%20border-gray-300%20rounded-xl%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%20outline-none%20transition-all%20text-sm%20sm%3Atext-base%22%2C%22placeholder%22%3A%22Enter%20your%20password%22%7D"}),x.jsx("button",{type:"button",onClick:()=>l(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-muted-foreground","data-matrix-id":"src/pages/Auth.tsx:122:14","data-matrix-name":"button","data-component-path":"src/pages/Auth.tsx","data-component-line":"122","data-component-file":"Auth.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22absolute%20right-3%20top-1%2F2%20-translate-y-1%2F2%20text-gray-400%20hover%3Atext-muted-foreground%22%7D",children:c?x.jsx(nJ,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Auth.tsx:127:32","data-matrix-name":"EyeOff","data-component-path":"src/pages/Auth.tsx","data-component-line":"127","data-component-file":"Auth.tsx","data-component-name":"EyeOff","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"}):x.jsx(aJ,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Auth.tsx:127:79","data-matrix-name":"Eye","data-component-path":"src/pages/Auth.tsx","data-component-line":"127","data-component-file":"Auth.tsx","data-component-name":"Eye","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"})})]})]}),x.jsx("button",{type:"submit",disabled:y,className:"w-full bg-primary text-primary-foreground py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 mt-6","data-matrix-id":"src/pages/Auth.tsx:132:10","data-matrix-name":"button","data-component-path":"src/pages/Auth.tsx","data-component-line":"132","data-component-file":"Auth.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20bg-primary%20text-primary-foreground%20py-3%20sm%3Apy-4%20rounded-xl%20font-semibold%20text-base%20sm%3Atext-lg%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20flex%20items-center%20justify-center%20gap-2%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20active%3Ascale-95%20mt-6%22%7D",children:y?x.jsxs(x.Fragment,{children:[x.jsx(gr,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin","data-matrix-id":"src/pages/Auth.tsx:139:16","data-matrix-name":"Loader2","data-component-path":"src/pages/Auth.tsx","data-component-line":"139","data-component-file":"Auth.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20animate-spin%22%7D"}),x.jsx("span",{className:"text-sm sm:text-base","data-matrix-id":"src/pages/Auth.tsx:140:16","data-matrix-name":"span","data-component-path":"src/pages/Auth.tsx","data-component-line":"140","data-component-file":"Auth.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Atext-base%22%7D",children:"Please wait..."})]}):n?"Sign Up":"Sign In"})]}),x.jsx("div",{className:"mt-4 sm:mt-6 text-center","data-matrix-id":"src/pages/Auth.tsx:149:8","data-matrix-name":"div","data-component-path":"src/pages/Auth.tsx","data-component-line":"149","data-component-file":"Auth.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-4%20sm%3Amt-6%20text-center%22%7D",children:x.jsx("button",{onClick:()=>{t(!n),a(""),i(""),s("")},className:"text-primary hover:text-blue-700 font-medium text-sm sm:text-base","data-matrix-id":"src/pages/Auth.tsx:150:10","data-matrix-name":"button","data-component-path":"src/pages/Auth.tsx","data-component-line":"150","data-component-file":"Auth.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-primary%20hover%3Atext-blue-700%20font-medium%20text-sm%20sm%3Atext-base%22%7D",children:n?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})}function bst(){const n=Ia(),[t,e]=I.useState("loading"),[a,r]=I.useState("");return I.useEffect(()=>{async function i(){try{if(!new URLSearchParams(window.location.hash.substring(1)).get("access_token")){e("error"),r("No verification code found in URL"),setTimeout(()=>n("/auth"),3e3);return}const{data:c,error:l}=await kt.auth.getSession();if(l){console.error("Auth callback error:",l),e("error"),r(l.message),setTimeout(()=>n("/auth"),3e3);return}c.session?(e("success"),setTimeout(()=>n("/home"),2e3)):(e("error"),r("No session found"),setTimeout(()=>n("/auth"),3e3))}catch(o){console.error("Callback handling error:",o),e("error"),r(o.message||"Something went wrong"),setTimeout(()=>n("/auth"),3e3)}}i()},[n]),x.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6","data-matrix-id":"src/pages/AuthCallback.tsx:56:4","data-matrix-name":"div","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"56","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-background%20flex%20flex-col%20items-center%20justify-center%20p-6%22%7D",children:x.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-md w-full text-center","data-matrix-id":"src/pages/AuthCallback.tsx:57:6","data-matrix-name":"div","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"57","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20p-8%20rounded-2xl%20shadow-lg%20max-w-md%20w-full%20text-center%22%7D",children:[t==="loading"&&x.jsxs(x.Fragment,{children:[x.jsx(gr,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4","data-matrix-id":"src/pages/AuthCallback.tsx:60:12","data-matrix-name":"Loader2","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"60","data-component-file":"AuthCallback.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20text-primary%20animate-spin%20mx-auto%20mb-4%22%7D"}),x.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/AuthCallback.tsx:61:12","data-matrix-name":"h1","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"61","data-component-file":"AuthCallback.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Verifying your email..."}),x.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/AuthCallback.tsx:64:12","data-matrix-name":"p","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"64","data-component-file":"AuthCallback.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Please wait while we confirm your account"})]}),t==="success"&&x.jsxs(x.Fragment,{children:[x.jsx(po,{className:"w-16 h-16 text-green-500 mx-auto mb-4","data-matrix-id":"src/pages/AuthCallback.tsx:72:12","data-matrix-name":"CheckCircle","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"72","data-component-file":"AuthCallback.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20text-green-500%20mx-auto%20mb-4%22%7D"}),x.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/AuthCallback.tsx:73:12","data-matrix-name":"h1","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"73","data-component-file":"AuthCallback.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Email verified!"}),x.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/AuthCallback.tsx:76:12","data-matrix-name":"p","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"76","data-component-file":"AuthCallback.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Redirecting you to the app..."})]}),t==="error"&&x.jsxs(x.Fragment,{children:[x.jsx(tJ,{className:"w-16 h-16 text-red-500 mx-auto mb-4","data-matrix-id":"src/pages/AuthCallback.tsx:84:12","data-matrix-name":"XCircle","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"84","data-component-file":"AuthCallback.tsx","data-component-name":"XCircle","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20text-red-500%20mx-auto%20mb-4%22%7D"}),x.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/AuthCallback.tsx:85:12","data-matrix-name":"h1","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"85","data-component-file":"AuthCallback.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Verification failed"}),x.jsx("p",{className:"text-muted-foreground mb-4","data-matrix-id":"src/pages/AuthCallback.tsx:88:12","data-matrix-name":"p","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"88","data-component-file":"AuthCallback.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-4%22%7D",children:a}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/AuthCallback.tsx:91:12","data-matrix-name":"p","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"91","data-component-file":"AuthCallback.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Redirecting to login page..."})]})]})})}function wst(){return x.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 text-center","data-matrix-id":"src/pages/PendingConfirmation.tsx:6:4","data-matrix-name":"div","data-component-path":"src/pages/PendingConfirmation.tsx","data-component-line":"6","data-component-file":"PendingConfirmation.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gray-50%20flex%20flex-col%20items-center%20justify-center%20p-6%20text-center%22%7D",children:x.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-md","data-matrix-id":"src/pages/PendingConfirmation.tsx:7:6","data-matrix-name":"div","data-component-path":"src/pages/PendingConfirmation.tsx","data-component-line":"7","data-component-file":"PendingConfirmation.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20p-8%20rounded-2xl%20shadow-lg%20max-w-md%22%7D",children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4","data-matrix-id":"src/pages/PendingConfirmation.tsx:8:8","data-matrix-name":"h1","data-component-path":"src/pages/PendingConfirmation.tsx","data-component-line":"8","data-component-file":"PendingConfirmation.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Check Your Email"}),x.jsx("p",{className:"text-lg text-muted-foreground mb-6","data-matrix-id":"src/pages/PendingConfirmation.tsx:9:8","data-matrix-name":"p","data-component-path":"src/pages/PendingConfirmation.tsx","data-component-line":"9","data-component-file":"PendingConfirmation.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-lg%20text-muted-foreground%20mb-6%22%7D",children:"We've sent a verification link to your email address. Please click the link to activate your account."}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/PendingConfirmation.tsx:12:8","data-matrix-name":"p","data-component-path":"src/pages/PendingConfirmation.tsx","data-component-line":"12","data-component-file":"PendingConfirmation.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"(Don't forget to check your spam folder!)"})]})})}async function Ast(n){try{const t=new Date,e=new Date(t.getTime()-7*24*60*60*1e3),{data:a,error:r}=await kt.from("focus_sessions").select("duration_minutes, completed_at").eq("user_id",n).gte("completed_at",e.toISOString()).order("completed_at",{ascending:!0});if(r)throw r;const i=new Map,o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let c=6;c>=0;c--){const l=new Date(t.getTime()-c*24*60*60*1e3),u=o[l.getDay()];i.set(u,0)}return a==null||a.forEach(c=>{const l=new Date(c.completed_at),u=o[l.getDay()],h=i.get(u)||0;i.set(u,h+(c.duration_minutes||0))}),Array.from(i.entries()).map(([c,l])=>({day:c,minutes:l}))}catch(t){return console.error("Error fetching weekly learning data:",t),[]}}async function Sst(n){try{const t=new Date,e=new Date(t.getTime()-7*24*60*60*1e3),{data:a,error:r}=await kt.from("focus_sessions").select("completed_at").eq("user_id",n).gte("completed_at",e.toISOString());if(r)throw r;const i=new Map;for(let o=0;o<7;o++)i.set(o,!1);return a==null||a.forEach(o=>{const c=new Date(o.completed_at).getDay();i.set(c,!0)}),Array.from(i.values())}catch(t){return console.error("Error fetching daily activity:",t),Array(7).fill(!1)}}async function _st(n){try{const{data:t,error:e}=await kt.from("achievements").select("*").order("xp_requirement",{ascending:!0});if(e)throw e;const{data:a,error:r}=await kt.from("user_achievements").select("achievement_id, earned_at, progress_value").eq("user_id",n);if(r)throw r;const{data:i,error:o}=await kt.from("profiles").select("total_xp, streak_count").eq("id",n).single();if(o)throw o;const[s,c,l]=await Promise.all([kt.from("books").select("id",{count:"exact",head:!0}).eq("user_id",n),kt.from("projects").select("id",{count:"exact",head:!0}).eq("user_id",n),kt.from("focus_sessions").select("id",{count:"exact",head:!0}).eq("user_id",n)]),u=new Map((a==null?void 0:a.map(f=>[f.achievement_id,f]))||[]);return(t==null?void 0:t.map(f=>{const y=u.get(f.id),w=!!y;let v=0,b=1;if(!w)switch(f.achievement_type){case"milestone":v=s.count||0,b=1;break;case"project":v=c.count||0,b=1;break;case"streak":v=(i==null?void 0:i.streak_count)||0,b=7;break;case"focus":v=l.count||0,b=10;break;default:v=(y==null?void 0:y.progress_value)||0,b=1}return{id:f.id,title:f.title,description:f.description,icon:f.badge_icon||"",earned:w,earnedAt:y==null?void 0:y.earned_at,progress:w?void 0:v,total:w?void 0:b}}))||[]}catch(t){return console.error("Error fetching achievements:",t),[]}}async function Pst(n){try{const t=new Date().toISOString(),{count:e,error:a}=await kt.from("srs_cards").select("id",{count:"exact",head:!0}).eq("user_id",n).lte("next_review",t);if(a)throw a;return e||0}catch(t){return console.error("Error fetching due cards count:",t),0}}async function kst(n){try{const{count:t,error:e}=await kt.from("projects").select("id",{count:"exact",head:!0}).eq("user_id",n).in("status",["active","in_progress"]);if(e)throw e;return t||0}catch(t){return console.error("Error fetching active projects count:",t),0}}function Cst({progress:n,size:t=120,strokeWidth:e=8,color:a="#3b82f6",backgroundColor:r="#e5e7eb",children:i}){const[o,s]=I.useState(0),c=(t-e)/2,l=2*Math.PI*c,u=l-o/100*l;return I.useEffect(()=>{const h=setTimeout(()=>{s(n)},100);return()=>clearTimeout(h)},[n]),x.jsxs("div",{className:"relative inline-flex items-center justify-center","data-matrix-id":"src/components/ProgressRing.tsx:34:4","data-matrix-name":"div","data-component-path":"src/components/ProgressRing.tsx","data-component-line":"34","data-component-file":"ProgressRing.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20inline-flex%20items-center%20justify-center%22%7D",children:[x.jsxs("svg",{width:t,height:t,className:"transform -rotate-90","data-matrix-id":"src/components/ProgressRing.tsx:35:6","data-matrix-name":"svg","data-component-path":"src/components/ProgressRing.tsx","data-component-line":"35","data-component-file":"ProgressRing.tsx","data-component-name":"svg","data-component-content":"%7B%22width%22%3A%22%5BIdentifier%5D%22%2C%22height%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22transform%20-rotate-90%22%7D",children:[x.jsx("circle",{cx:t/2,cy:t/2,r:c,stroke:r,strokeWidth:e,fill:"none"}),x.jsx(st.circle,{cx:t/2,cy:t/2,r:c,stroke:a,strokeWidth:e,fill:"none",strokeLinecap:"round",strokeDasharray:l,initial:{strokeDashoffset:l},animate:{strokeDashoffset:u},transition:{duration:1,ease:"easeInOut"}})]}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center","data-matrix-id":"src/components/ProgressRing.tsx:60:6","data-matrix-name":"div","data-component-path":"src/components/ProgressRing.tsx","data-component-line":"60","data-component-file":"ProgressRing.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20flex%20items-center%20justify-center%22%7D",children:i})]})}function Est({streakCount:n,recentActivity:t}){const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=new Date().getDay(),r=[...t,...Array(7-t.length).fill(!1)].slice(0,7),i=o=>o===0?"Start your learning streak today":o===1?"Great start! Keep it going":o<3?"Building momentum":o<7?"You're on fire":o<30?"Unstoppable streak":"Master of consistency";return x.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg","data-matrix-id":"src/components/StreakCalendar.tsx:26:4","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"26","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-6%20shadow-lg%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/components/StreakCalendar.tsx:28:6","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"28","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/StreakCalendar.tsx:29:8","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"29","data-component-file":"StreakCalendar.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground mb-1","data-matrix-id":"src/components/StreakCalendar.tsx:30:10","data-matrix-name":"h3","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"30","data-component-file":"StreakCalendar.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-1%22%7D",children:"Learning Streak"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/StreakCalendar.tsx:31:10","data-matrix-name":"p","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"31","data-component-file":"StreakCalendar.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:i(n)})]}),x.jsxs(st.div,{className:"relative",animate:{scale:n>0?[1,1.2,1]:1},transition:{duration:.5,repeat:n>0?1/0:0,repeatDelay:2},children:[x.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${n>0?"bg-orange-600":"bg-gray-200"}`,"data-matrix-id":"src/components/StreakCalendar.tsx:44:10","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"44","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsx(DB,{className:`w-8 h-8 ${n>0?"text-white":"text-gray-400"}`,"data-matrix-id":"src/components/StreakCalendar.tsx:49:12","data-matrix-name":"Flame","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"49","data-component-file":"StreakCalendar.tsx","data-component-name":"Flame","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})}),x.jsx("div",{className:"absolute -top-1 -right-1 bg-card rounded-full px-2 py-0.5 shadow-lg border border-border","data-matrix-id":"src/components/StreakCalendar.tsx:51:10","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"51","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-top-1%20-right-1%20bg-card%20rounded-full%20px-2%20py-0.5%20shadow-lg%20border%20border-border%22%7D",children:x.jsx("span",{className:"text-xs font-bold text-foreground","data-matrix-id":"src/components/StreakCalendar.tsx:52:12","data-matrix-name":"span","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"52","data-component-file":"StreakCalendar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20font-bold%20text-foreground%22%7D",children:n})})]})]}),x.jsx("div",{className:"grid grid-cols-7 gap-2","data-matrix-id":"src/components/StreakCalendar.tsx:58:6","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"58","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-7%20gap-2%22%7D",children:e.map((o,s)=>{const c=r[s],l=s===a;return x.jsxs(st.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:s*.05},className:"flex flex-col items-center gap-2",children:[x.jsx("span",{className:"text-xs font-medium text-muted-foreground","data-matrix-id":"src/components/StreakCalendar.tsx:71:14","data-matrix-name":"span","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"71","data-component-file":"StreakCalendar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20text-muted-foreground%22%7D",children:o}),x.jsx(st.div,{whileHover:{scale:1.1},className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${c?"bg-green-600 shadow-md":"bg-muted"} ${l?"ring-2 ring-blue-500 ring-offset-2":""}`,children:c&&x.jsx(st.div,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 bg-white rounded-full"})})]},o)})}),x.jsxs("div",{className:"mt-6 pt-6 border-t border-border","data-matrix-id":"src/components/StreakCalendar.tsx:94:6","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"94","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-6%20pt-6%20border-t%20border-border%22%7D",children:[x.jsx("h4",{className:"text-sm font-semibold text-foreground mb-3","data-matrix-id":"src/components/StreakCalendar.tsx:95:8","data-matrix-name":"h4","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"95","data-component-file":"StreakCalendar.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-foreground%20mb-3%22%7D",children:"Streak Milestones"}),x.jsx("div",{className:"grid grid-cols-3 gap-2","data-matrix-id":"src/components/StreakCalendar.tsx:96:8","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"96","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-2%22%7D",children:[{days:3,label:"3 days",achieved:n>=3},{days:7,label:"1 week",achieved:n>=7},{days:30,label:"1 month",achieved:n>=30}].map(o=>x.jsxs("div",{className:`px-3 py-2 rounded-lg text-center transition-all ${o.achieved?"bg-primary text-white":"bg-muted text-gray-400"}`,"data-matrix-id":"src/components/StreakCalendar.tsx:102:12","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"102","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx("div",{className:"text-lg font-bold","data-matrix-id":"src/components/StreakCalendar.tsx:110:14","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"110","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%22%7D",children:o.days}),x.jsx("div",{className:"text-xs","data-matrix-id":"src/components/StreakCalendar.tsx:111:14","data-matrix-name":"div","data-component-path":"src/components/StreakCalendar.tsx","data-component-line":"111","data-component-file":"StreakCalendar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:o.label})]},o.days))})]})]})}function p9(n){var t,e,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=p9(n[t]))&&(a&&(a+=" "),a+=e)}else for(e in n)n[e]&&(a&&(a+=" "),a+=e);return a}function ce(){for(var n,t,e=0,a="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=p9(n))&&(a&&(a+=" "),a+=t);return a}var qP,HM;function br(){if(HM)return qP;HM=1;var n=Array.isArray;return qP=n,qP}var HP,VM;function f9(){if(VM)return HP;VM=1;var n=typeof yb=="object"&&yb&&yb.Object===Object&&yb;return HP=n,HP}var VP,WM;function hs(){if(WM)return VP;WM=1;var n=f9(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=n||t||Function("return this")();return VP=e,VP}var WP,KM;function Xy(){if(KM)return WP;KM=1;var n=hs(),t=n.Symbol;return WP=t,WP}var KP,XM;function Tst(){if(XM)return KP;XM=1;var n=Xy(),t=Object.prototype,e=t.hasOwnProperty,a=t.toString,r=n?n.toStringTag:void 0;function i(o){var s=e.call(o,r),c=o[r];try{o[r]=void 0;var l=!0}catch{}var u=a.call(o);return l&&(s?o[r]=c:delete o[r]),u}return KP=i,KP}var XP,YM;function Dst(){if(YM)return XP;YM=1;var n=Object.prototype,t=n.toString;function e(a){return t.call(a)}return XP=e,XP}var YP,QM;function Bc(){if(QM)return YP;QM=1;var n=Xy(),t=Tst(),e=Dst(),a="[object Null]",r="[object Undefined]",i=n?n.toStringTag:void 0;function o(s){return s==null?s===void 0?r:a:i&&i in Object(s)?t(s):e(s)}return YP=o,YP}var QP,JM;function jc(){if(JM)return QP;JM=1;function n(t){return t!=null&&typeof t=="object"}return QP=n,QP}var JP,ZM;function d2(){if(ZM)return JP;ZM=1;var n=Bc(),t=jc(),e="[object Symbol]";function a(r){return typeof r=="symbol"||t(r)&&n(r)==e}return JP=a,JP}var ZP,t5;function Sj(){if(t5)return ZP;t5=1;var n=br(),t=d2(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function r(i,o){if(n(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:a.test(i)||!e.test(i)||o!=null&&i in Object(o)}return ZP=r,ZP}var t3,e5;function vd(){if(e5)return t3;e5=1;function n(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return t3=n,t3}var e3,n5;function _j(){if(n5)return e3;n5=1;var n=Bc(),t=vd(),e="[object AsyncFunction]",a="[object Function]",r="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!t(s))return!1;var c=n(s);return c==a||c==r||c==e||c==i}return e3=o,e3}var n3,a5;function Nst(){if(a5)return n3;a5=1;var n=hs(),t=n["__core-js_shared__"];return n3=t,n3}var a3,r5;function Bst(){if(r5)return a3;r5=1;var n=Nst(),t=function(){var a=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function e(a){return!!t&&t in a}return a3=e,a3}var r3,i5;function g9(){if(i5)return r3;i5=1;var n=Function.prototype,t=n.toString;function e(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return r3=e,r3}var i3,o5;function jst(){if(o5)return i3;o5=1;var n=_j(),t=Bst(),e=vd(),a=g9(),r=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,c=o.toString,l=s.hasOwnProperty,u=RegExp("^"+c.call(l).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!e(f)||t(f))return!1;var y=n(f)?u:i;return y.test(a(f))}return i3=h,i3}var o3,s5;function Ost(){if(s5)return o3;s5=1;function n(t,e){return t==null?void 0:t[e]}return o3=n,o3}var s3,c5;function Lm(){if(c5)return s3;c5=1;var n=jst(),t=Ost();function e(a,r){var i=t(a,r);return n(i)?i:void 0}return s3=e,s3}var c3,l5;function z1(){if(l5)return c3;l5=1;var n=Lm(),t=n(Object,"create");return c3=t,c3}var l3,d5;function Lst(){if(d5)return l3;d5=1;var n=z1();function t(){this.__data__=n?n(null):{},this.size=0}return l3=t,l3}var d3,u5;function Ist(){if(u5)return d3;u5=1;function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return d3=n,d3}var u3,m5;function Rst(){if(m5)return u3;m5=1;var n=z1(),t="__lodash_hash_undefined__",e=Object.prototype,a=e.hasOwnProperty;function r(i){var o=this.__data__;if(n){var s=o[i];return s===t?void 0:s}return a.call(o,i)?o[i]:void 0}return u3=r,u3}var m3,h5;function Mst(){if(h5)return m3;h5=1;var n=z1(),t=Object.prototype,e=t.hasOwnProperty;function a(r){var i=this.__data__;return n?i[r]!==void 0:e.call(i,r)}return m3=a,m3}var h3,p5;function Fst(){if(p5)return h3;p5=1;var n=z1(),t="__lodash_hash_undefined__";function e(a,r){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=n&&r===void 0?t:r,this}return h3=e,h3}var p3,f5;function $st(){if(f5)return p3;f5=1;var n=Lst(),t=Ist(),e=Rst(),a=Mst(),r=Fst();function i(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var l=o[s];this.set(l[0],l[1])}}return i.prototype.clear=n,i.prototype.delete=t,i.prototype.get=e,i.prototype.has=a,i.prototype.set=r,p3=i,p3}var f3,g5;function Gst(){if(g5)return f3;g5=1;function n(){this.__data__=[],this.size=0}return f3=n,f3}var g3,x5;function Pj(){if(x5)return g3;x5=1;function n(t,e){return t===e||t!==t&&e!==e}return g3=n,g3}var x3,y5;function q1(){if(y5)return x3;y5=1;var n=Pj();function t(e,a){for(var r=e.length;r--;)if(n(e[r][0],a))return r;return-1}return x3=t,x3}var y3,v5;function Ust(){if(v5)return y3;v5=1;var n=q1(),t=Array.prototype,e=t.splice;function a(r){var i=this.__data__,o=n(i,r);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():e.call(i,o,1),--this.size,!0}return y3=a,y3}var v3,b5;function zst(){if(b5)return v3;b5=1;var n=q1();function t(e){var a=this.__data__,r=n(a,e);return r<0?void 0:a[r][1]}return v3=t,v3}var b3,w5;function qst(){if(w5)return b3;w5=1;var n=q1();function t(e){return n(this.__data__,e)>-1}return b3=t,b3}var w3,A5;function Hst(){if(A5)return w3;A5=1;var n=q1();function t(e,a){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,a])):r[i][1]=a,this}return w3=t,w3}var A3,S5;function H1(){if(S5)return A3;S5=1;var n=Gst(),t=Ust(),e=zst(),a=qst(),r=Hst();function i(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var l=o[s];this.set(l[0],l[1])}}return i.prototype.clear=n,i.prototype.delete=t,i.prototype.get=e,i.prototype.has=a,i.prototype.set=r,A3=i,A3}var S3,_5;function kj(){if(_5)return S3;_5=1;var n=Lm(),t=hs(),e=n(t,"Map");return S3=e,S3}var _3,P5;function Vst(){if(P5)return _3;P5=1;var n=$st(),t=H1(),e=kj();function a(){this.size=0,this.__data__={hash:new n,map:new(e||t),string:new n}}return _3=a,_3}var P3,k5;function Wst(){if(k5)return P3;k5=1;function n(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return P3=n,P3}var k3,C5;function V1(){if(C5)return k3;C5=1;var n=Wst();function t(e,a){var r=e.__data__;return n(a)?r[typeof a=="string"?"string":"hash"]:r.map}return k3=t,k3}var C3,E5;function Kst(){if(E5)return C3;E5=1;var n=V1();function t(e){var a=n(this,e).delete(e);return this.size-=a?1:0,a}return C3=t,C3}var E3,T5;function Xst(){if(T5)return E3;T5=1;var n=V1();function t(e){return n(this,e).get(e)}return E3=t,E3}var T3,D5;function Yst(){if(D5)return T3;D5=1;var n=V1();function t(e){return n(this,e).has(e)}return T3=t,T3}var D3,N5;function Qst(){if(N5)return D3;N5=1;var n=V1();function t(e,a){var r=n(this,e),i=r.size;return r.set(e,a),this.size+=r.size==i?0:1,this}return D3=t,D3}var N3,B5;function Cj(){if(B5)return N3;B5=1;var n=Vst(),t=Kst(),e=Xst(),a=Yst(),r=Qst();function i(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var l=o[s];this.set(l[0],l[1])}}return i.prototype.clear=n,i.prototype.delete=t,i.prototype.get=e,i.prototype.has=a,i.prototype.set=r,N3=i,N3}var B3,j5;function x9(){if(j5)return B3;j5=1;var n=Cj(),t="Expected a function";function e(a,r){if(typeof a!="function"||r!=null&&typeof r!="function")throw new TypeError(t);var i=function(){var o=arguments,s=r?r.apply(this,o):o[0],c=i.cache;if(c.has(s))return c.get(s);var l=a.apply(this,o);return i.cache=c.set(s,l)||c,l};return i.cache=new(e.Cache||n),i}return e.Cache=n,B3=e,B3}var j3,O5;function Jst(){if(O5)return j3;O5=1;var n=x9(),t=500;function e(a){var r=n(a,function(o){return i.size===t&&i.clear(),o}),i=r.cache;return r}return j3=e,j3}var O3,L5;function Zst(){if(L5)return O3;L5=1;var n=Jst(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,a=n(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(t,function(o,s,c,l){i.push(c?l.replace(e,"$1"):s||o)}),i});return O3=a,O3}var L3,I5;function Ej(){if(I5)return L3;I5=1;function n(t,e){for(var a=-1,r=t==null?0:t.length,i=Array(r);++a<r;)i[a]=e(t[a],a,t);return i}return L3=n,L3}var I3,R5;function tct(){if(R5)return I3;R5=1;var n=Xy(),t=Ej(),e=br(),a=d2(),r=n?n.prototype:void 0,i=r?r.toString:void 0;function o(s){if(typeof s=="string")return s;if(e(s))return t(s,o)+"";if(a(s))return i?i.call(s):"";var c=s+"";return c=="0"&&1/s==-1/0?"-0":c}return I3=o,I3}var R3,M5;function y9(){if(M5)return R3;M5=1;var n=tct();function t(e){return e==null?"":n(e)}return R3=t,R3}var M3,F5;function v9(){if(F5)return M3;F5=1;var n=br(),t=Sj(),e=Zst(),a=y9();function r(i,o){return n(i)?i:t(i,o)?[i]:e(a(i))}return M3=r,M3}var F3,$5;function W1(){if($5)return F3;$5=1;var n=d2();function t(e){if(typeof e=="string"||n(e))return e;var a=e+"";return a=="0"&&1/e==-1/0?"-0":a}return F3=t,F3}var $3,G5;function Tj(){if(G5)return $3;G5=1;var n=v9(),t=W1();function e(a,r){r=n(r,a);for(var i=0,o=r.length;a!=null&&i<o;)a=a[t(r[i++])];return i&&i==o?a:void 0}return $3=e,$3}var G3,U5;function b9(){if(U5)return G3;U5=1;var n=Tj();function t(e,a,r){var i=e==null?void 0:n(e,a);return i===void 0?r:i}return G3=t,G3}var ect=b9();const Ci=Ee(ect);var U3,z5;function nct(){if(z5)return U3;z5=1;function n(t){return t==null}return U3=n,U3}var act=nct();const ie=Ee(act);var z3,q5;function rct(){if(q5)return z3;q5=1;var n=Bc(),t=br(),e=jc(),a="[object String]";function r(i){return typeof i=="string"||!t(i)&&e(i)&&n(i)==a}return z3=r,z3}var ict=rct();const Yy=Ee(ict);var oct=_j();const Qt=Ee(oct);var sct=vd();const u2=Ee(sct);var q3={exports:{}},ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5;function cct(){if(H5)return ge;H5=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case n:switch(b=b.type,b){case e:case r:case a:case l:case u:return b;default:switch(b=b&&b.$$typeof,b){case s:case o:case c:case f:case h:case i:return b;default:return S}}case t:return S}}}return ge.ContextConsumer=o,ge.ContextProvider=i,ge.Element=n,ge.ForwardRef=c,ge.Fragment=e,ge.Lazy=f,ge.Memo=h,ge.Portal=t,ge.Profiler=r,ge.StrictMode=a,ge.Suspense=l,ge.SuspenseList=u,ge.isAsyncMode=function(){return!1},ge.isConcurrentMode=function(){return!1},ge.isContextConsumer=function(b){return v(b)===o},ge.isContextProvider=function(b){return v(b)===i},ge.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===n},ge.isForwardRef=function(b){return v(b)===c},ge.isFragment=function(b){return v(b)===e},ge.isLazy=function(b){return v(b)===f},ge.isMemo=function(b){return v(b)===h},ge.isPortal=function(b){return v(b)===t},ge.isProfiler=function(b){return v(b)===r},ge.isStrictMode=function(b){return v(b)===a},ge.isSuspense=function(b){return v(b)===l},ge.isSuspenseList=function(b){return v(b)===u},ge.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===e||b===r||b===a||b===l||b===u||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===h||b.$$typeof===i||b.$$typeof===o||b.$$typeof===c||b.$$typeof===w||b.getModuleId!==void 0)},ge.typeOf=v,ge}var V5;function lct(){return V5||(V5=1,q3.exports=cct()),q3.exports}var dct=lct(),H3,W5;function w9(){if(W5)return H3;W5=1;var n=Bc(),t=jc(),e="[object Number]";function a(r){return typeof r=="number"||t(r)&&n(r)==e}return H3=a,H3}var V3,K5;function uct(){if(K5)return V3;K5=1;var n=w9();function t(e){return n(e)&&e!=+e}return V3=t,V3}var mct=uct();const m2=Ee(mct);var hct=w9();const pct=Ee(hct);var mo=function(t){return t===0?0:t>0?1:-1},au=function(t){return Yy(t)&&t.indexOf("%")===t.length-1},xt=function(t){return pct(t)&&!m2(t)},$n=function(t){return xt(t)||Yy(t)},fct=0,h2=function(t){var e=++fct;return"".concat(t||"").concat(e)},km=function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(t)&&!Yy(t))return a;var i;if(au(t)){var o=t.indexOf("%");i=e*parseFloat(t.slice(0,o))/100}else i=+t;return m2(i)&&(i=a),r&&i>e&&(i=e),i},cl=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},gct=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,a={},r=0;r<e;r++)if(!a[t[r]])a[t[r]]=!0;else return!0;return!1},fa=function(t,e){return xt(t)&&xt(e)?function(a){return t+a*(e-t)}:function(){return e}};function rA(n,t,e){return!n||!n.length?null:n.find(function(a){return a&&(typeof t=="function"?t(a):Ci(a,t))===e})}function Yh(n,t){for(var e in n)if({}.hasOwnProperty.call(n,e)&&(!{}.hasOwnProperty.call(t,e)||n[e]!==t[e]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(n,a))return!1;return!0}function IT(n){"@babel/helpers - typeof";return IT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IT(n)}var xct=["viewBox","children"],yct=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X5=["points","pathLength"],W3={svg:xct,polygon:X5,polyline:X5},Dj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iA=function(t,e){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(I.isValidElement(t)&&(a=t.props),!u2(a))return null;var r={};return Object.keys(a).forEach(function(i){Dj.includes(i)&&(r[i]=e||function(o){return a[i](a,o)})}),r},vct=function(t,e,a){return function(r){return t(e,a,r),null}},oA=function(t,e,a){if(!u2(t)||IT(t)!=="object")return null;var r=null;return Object.keys(t).forEach(function(i){var o=t[i];Dj.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=vct(o,e,a))}),r},bct=["children"],wct=["children"];function Y5(n,t){if(n==null)return{};var e=Act(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Act(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function RT(n){"@babel/helpers - typeof";return RT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RT(n)}var Q5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},J5=null,K3=null,Nj=function n(t){if(t===J5&&Array.isArray(K3))return K3;var e=[];return I.Children.forEach(t,function(a){ie(a)||(dct.isFragment(a)?e=e.concat(n(a.props.children)):e.push(a))}),K3=e,J5=t,e};function Ei(n,t){var e=[],a=[];return Array.isArray(t)?a=t.map(function(r){return gc(r)}):a=[gc(t)],Nj(n).forEach(function(r){var i=Ci(r,"type.displayName")||Ci(r,"type.name");a.indexOf(i)!==-1&&e.push(r)}),e}function Wr(n,t){var e=Ei(n,t);return e&&e[0]}var Z5=function(t){if(!t||!t.props)return!1;var e=t.props,a=e.width,r=e.height;return!(!xt(a)||a<=0||!xt(r)||r<=0)},Sct=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_ct=function(t){return t&&t.type&&Yy(t.type)&&Sct.indexOf(t.type)>=0},A9=function(t){return t&&RT(t)==="object"&&"clipDot"in t},Pct=function(t,e,a,r){var i,o=(i=W3==null?void 0:W3[r])!==null&&i!==void 0?i:[];return e.startsWith("data-")||!Qt(t)&&(r&&o.includes(e)||yct.includes(e))||a&&Dj.includes(e)},Jt=function(t,e,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(I.isValidElement(t)&&(r=t.props),!u2(r))return null;var i={};return Object.keys(r).forEach(function(o){var s;Pct((s=r)===null||s===void 0?void 0:s[o],o,e,a)&&(i[o]=r[o])}),i},MT=function n(t,e){if(t===e)return!0;var a=I.Children.count(t);if(a!==I.Children.count(e))return!1;if(a===0)return!0;if(a===1)return t4(Array.isArray(t)?t[0]:t,Array.isArray(e)?e[0]:e);for(var r=0;r<a;r++){var i=t[r],o=e[r];if(Array.isArray(i)||Array.isArray(o)){if(!n(i,o))return!1}else if(!t4(i,o))return!1}return!0},t4=function(t,e){if(ie(t)&&ie(e))return!0;if(!ie(t)&&!ie(e)){var a=t.props||{},r=a.children,i=Y5(a,bct),o=e.props||{},s=o.children,c=Y5(o,wct);return r&&s?Yh(i,c)&&MT(r,s):!r&&!s?Yh(i,c):!1}return!1},e4=function(t,e){var a=[],r={};return Nj(t).forEach(function(i,o){if(_ct(i))a.push(i);else if(i){var s=gc(i.type),c=e[s]||{},l=c.handler,u=c.once;if(l&&(!u||!r[s])){var h=l(i,s,o);a.push(h),r[s]=!0}}}),a},kct=function(t){var e=t&&t.type;return e&&Q5[e]?Q5[e]:null},Cct=function(t,e){return Nj(e).indexOf(t)},Ect=["children","width","height","viewBox","className","style","title","desc"];function FT(){return FT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},FT.apply(this,arguments)}function Tct(n,t){if(n==null)return{};var e=Dct(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Dct(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function $T(n){var t=n.children,e=n.width,a=n.height,r=n.viewBox,i=n.className,o=n.style,s=n.title,c=n.desc,l=Tct(n,Ect),u=r||{width:e,height:a,x:0,y:0},h=ce("recharts-surface",i);return Y.createElement("svg",FT({},Jt(l,!0,"svg"),{className:h,width:e,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Y.createElement("title",null,s),Y.createElement("desc",null,c),t)}var Nct=["children","className"];function GT(){return GT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},GT.apply(this,arguments)}function Bct(n,t){if(n==null)return{};var e=jct(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function jct(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}var Me=Y.forwardRef(function(n,t){var e=n.children,a=n.className,r=Bct(n,Nct),i=ce("recharts-layer",a);return Y.createElement("g",GT({className:i},Jt(r,!0),{ref:t}),e)}),xc=function(t,e){for(var a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i]},X3,n4;function Oct(){if(n4)return X3;n4=1;function n(t,e,a){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),a=a>i?i:a,a<0&&(a+=i),i=e>a?0:a-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}return X3=n,X3}var Y3,a4;function Lct(){if(a4)return Y3;a4=1;var n=Oct();function t(e,a,r){var i=e.length;return r=r===void 0?i:r,!a&&r>=i?e:n(e,a,r)}return Y3=t,Y3}var Q3,r4;function S9(){if(r4)return Q3;r4=1;var n="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+e+a,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+n+r+i+"]");function c(l){return s.test(l)}return Q3=c,Q3}var J3,i4;function Ict(){if(i4)return J3;i4=1;function n(t){return t.split("")}return J3=n,J3}var Z3,o4;function Rct(){if(o4)return Z3;o4=1;var n="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+e+a,i="\\ufe0e\\ufe0f",o="["+n+"]",s="["+r+"]",c="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+c+")",u="[^"+n+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=l+"?",v="["+i+"]?",b="(?:"+y+"(?:"+[u,h,f].join("|")+")"+v+w+")*",S=v+w+b,_="(?:"+[u+s+"?",s,h,f,o].join("|")+")",P=RegExp(c+"(?="+c+")|"+_+S,"g");function E(C){return C.match(P)||[]}return Z3=E,Z3}var tk,s4;function Mct(){if(s4)return tk;s4=1;var n=Ict(),t=S9(),e=Rct();function a(r){return t(r)?e(r):n(r)}return tk=a,tk}var ek,c4;function Fct(){if(c4)return ek;c4=1;var n=Lct(),t=S9(),e=Mct(),a=y9();function r(i){return function(o){o=a(o);var s=t(o)?e(o):void 0,c=s?s[0]:o.charAt(0),l=s?n(s,1).join(""):o.slice(1);return c[i]()+l}}return ek=r,ek}var nk,l4;function $ct(){if(l4)return nk;l4=1;var n=Fct(),t=n("toUpperCase");return nk=t,nk}var Gct=$ct();const K1=Ee(Gct);function Re(n){return function(){return n}}const _9=Math.cos,sA=Math.sin,go=Math.sqrt,cA=Math.PI,X1=2*cA,UT=Math.PI,zT=2*UT,qd=1e-6,Uct=zT-qd;function P9(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function zct(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return P9;const e=10**t;return function(a){this._+=a[0];for(let r=1,i=a.length;r<i;++r)this._+=Math.round(arguments[r]*e)/e+a[r]}}class qct{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P9:zct(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,a,r){this._append`Q${+t},${+e},${this._x1=+a},${this._y1=+r}`}bezierCurveTo(t,e,a,r,i,o){this._append`C${+t},${+e},${+a},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,a,r,i){if(t=+t,e=+e,a=+a,r=+r,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=a-t,l=r-e,u=o-t,h=s-e,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(f>qd)if(!(Math.abs(h*c-l*u)>qd)||!i)this._append`L${this._x1=t},${this._y1=e}`;else{let y=a-o,w=r-s,v=c*c+l*l,b=y*y+w*w,S=Math.sqrt(v),_=Math.sqrt(f),P=i*Math.tan((UT-Math.acos((v+f-b)/(2*S*_)))/2),E=P/_,C=P/S;Math.abs(E-1)>qd&&this._append`L${t+E*u},${e+E*h}`,this._append`A${i},${i},0,0,${+(h*y>u*w)},${this._x1=t+C*c},${this._y1=e+C*l}`}}arc(t,e,a,r,i,o){if(t=+t,e=+e,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let s=a*Math.cos(r),c=a*Math.sin(r),l=t+s,u=e+c,h=1^o,f=o?r-i:i-r;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>qd||Math.abs(this._y1-u)>qd)&&this._append`L${l},${u}`,a&&(f<0&&(f=f%zT+zT),f>Uct?this._append`A${a},${a},0,1,${h},${t-s},${e-c}A${a},${a},0,1,${h},${this._x1=l},${this._y1=u}`:f>qd&&this._append`A${a},${a},0,${+(f>=UT)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=e+a*Math.sin(i)}`)}rect(t,e,a,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${a=+a}v${+r}h${-a}Z`}toString(){return this._}}function Bj(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const a=Math.floor(e);if(!(a>=0))throw new RangeError(`invalid digits: ${e}`);t=a}return n},()=>new qct(t)}function jj(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function k9(n){this._context=n}k9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function Y1(n){return new k9(n)}function C9(n){return n[0]}function E9(n){return n[1]}function T9(n,t){var e=Re(!0),a=null,r=Y1,i=null,o=Bj(s);n=typeof n=="function"?n:n===void 0?C9:Re(n),t=typeof t=="function"?t:t===void 0?E9:Re(t);function s(c){var l,u=(c=jj(c)).length,h,f=!1,y;for(a==null&&(i=r(y=o())),l=0;l<=u;++l)!(l<u&&e(h=c[l],l,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+n(h,l,c),+t(h,l,c));if(y)return i=null,y+""||null}return s.x=function(c){return arguments.length?(n=typeof c=="function"?c:Re(+c),s):n},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),s):t},s.defined=function(c){return arguments.length?(e=typeof c=="function"?c:Re(!!c),s):e},s.curve=function(c){return arguments.length?(r=c,a!=null&&(i=r(a)),s):r},s.context=function(c){return arguments.length?(c==null?a=i=null:i=r(a=c),s):a},s}function Lb(n,t,e){var a=null,r=Re(!0),i=null,o=Y1,s=null,c=Bj(l);n=typeof n=="function"?n:n===void 0?C9:Re(+n),t=typeof t=="function"?t:Re(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?E9:Re(+e);function l(h){var f,y,w,v=(h=jj(h)).length,b,S=!1,_,P=new Array(v),E=new Array(v);for(i==null&&(s=o(_=c())),f=0;f<=v;++f){if(!(f<v&&r(b=h[f],f,h))===S)if(S=!S)y=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),w=f-1;w>=y;--w)s.point(P[w],E[w]);s.lineEnd(),s.areaEnd()}S&&(P[f]=+n(b,f,h),E[f]=+t(b,f,h),s.point(a?+a(b,f,h):P[f],e?+e(b,f,h):E[f]))}if(_)return s=null,_+""||null}function u(){return T9().defined(r).curve(o).context(i)}return l.x=function(h){return arguments.length?(n=typeof h=="function"?h:Re(+h),a=null,l):n},l.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Re(+h),l):n},l.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Re(+h),l):a},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:Re(+h),e=null,l):t},l.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Re(+h),l):t},l.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:Re(+h),l):e},l.lineX0=l.lineY0=function(){return u().x(n).y(t)},l.lineY1=function(){return u().x(n).y(e)},l.lineX1=function(){return u().x(a).y(t)},l.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Re(!!h),l):r},l.curve=function(h){return arguments.length?(o=h,i!=null&&(s=o(i)),l):o},l.context=function(h){return arguments.length?(h==null?i=s=null:s=o(i=h),l):i},l}class D9{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function Hct(n){return new D9(n,!0)}function Vct(n){return new D9(n,!1)}const Oj={draw(n,t){const e=go(t/cA);n.moveTo(e,0),n.arc(0,0,e,0,X1)}},Wct={draw(n,t){const e=go(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},N9=go(1/3),Kct=N9*2,Xct={draw(n,t){const e=go(t/Kct),a=e*N9;n.moveTo(0,-e),n.lineTo(a,0),n.lineTo(0,e),n.lineTo(-a,0),n.closePath()}},Yct={draw(n,t){const e=go(t),a=-e/2;n.rect(a,a,e,e)}},Qct=.8908130915292852,B9=sA(cA/10)/sA(7*cA/10),Jct=sA(X1/10)*B9,Zct=-_9(X1/10)*B9,tlt={draw(n,t){const e=go(t*Qct),a=Jct*e,r=Zct*e;n.moveTo(0,-e),n.lineTo(a,r);for(let i=1;i<5;++i){const o=X1*i/5,s=_9(o),c=sA(o);n.lineTo(c*e,-s*e),n.lineTo(s*a-c*r,c*a+s*r)}n.closePath()}},ak=go(3),elt={draw(n,t){const e=-go(t/(ak*3));n.moveTo(0,e*2),n.lineTo(-ak*e,-e),n.lineTo(ak*e,-e),n.closePath()}},si=-.5,ci=go(3)/2,qT=1/go(12),nlt=(qT/2+1)*3,alt={draw(n,t){const e=go(t/nlt),a=e/2,r=e*qT,i=a,o=e*qT+e,s=-i,c=o;n.moveTo(a,r),n.lineTo(i,o),n.lineTo(s,c),n.lineTo(si*a-ci*r,ci*a+si*r),n.lineTo(si*i-ci*o,ci*i+si*o),n.lineTo(si*s-ci*c,ci*s+si*c),n.lineTo(si*a+ci*r,si*r-ci*a),n.lineTo(si*i+ci*o,si*o-ci*i),n.lineTo(si*s+ci*c,si*c-ci*s),n.closePath()}};function rlt(n,t){let e=null,a=Bj(r);n=typeof n=="function"?n:Re(n||Oj),t=typeof t=="function"?t:Re(t===void 0?64:+t);function r(){let i;if(e||(e=i=a()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),i)return e=null,i+""||null}return r.type=function(i){return arguments.length?(n=typeof i=="function"?i:Re(i),r):n},r.size=function(i){return arguments.length?(t=typeof i=="function"?i:Re(+i),r):t},r.context=function(i){return arguments.length?(e=i??null,r):e},r}function lA(){}function dA(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function j9(n){this._context=n}j9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dA(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function ilt(n){return new j9(n)}function O9(n){this._context=n}O9.prototype={areaStart:lA,areaEnd:lA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:dA(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function olt(n){return new O9(n)}function L9(n){this._context=n}L9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 3:this._point=4;default:dA(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function slt(n){return new L9(n)}function I9(n){this._context=n}I9.prototype={areaStart:lA,areaEnd:lA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function clt(n){return new I9(n)}function d4(n){return n<0?-1:1}function u4(n,t,e){var a=n._x1-n._x0,r=t-n._x1,i=(n._y1-n._y0)/(a||r<0&&-0),o=(e-n._y1)/(r||a<0&&-0),s=(i*r+o*a)/(a+r);return(d4(i)+d4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function m4(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function rk(n,t,e){var a=n._x0,r=n._y0,i=n._x1,o=n._y1,s=(i-a)/3;n._context.bezierCurveTo(a+s,r+s*t,i-s,o-s*e,i,o)}function uA(n){this._context=n}uA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rk(this,this._t0,m4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,rk(this,m4(this,e=u4(this,n,t)),e);break;default:rk(this,this._t0,e=u4(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function R9(n){this._context=new M9(n)}(R9.prototype=Object.create(uA.prototype)).point=function(n,t){uA.prototype.point.call(this,t,n)};function M9(n){this._context=n}M9.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,a,r,i){this._context.bezierCurveTo(t,n,a,e,i,r)}};function llt(n){return new uA(n)}function dlt(n){return new R9(n)}function F9(n){this._context=n}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var a=h4(n),r=h4(t),i=0,o=1;o<e;++i,++o)this._context.bezierCurveTo(a[0][i],r[0][i],a[1][i],r[1][i],n[o],t[o]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function h4(n){var t,e=n.length-1,a,r=new Array(e),i=new Array(e),o=new Array(e);for(r[0]=0,i[0]=2,o[0]=n[0]+2*n[1],t=1;t<e-1;++t)r[t]=1,i[t]=4,o[t]=4*n[t]+2*n[t+1];for(r[e-1]=2,i[e-1]=7,o[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)a=r[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(r[e-1]=o[e-1]/i[e-1],t=e-2;t>=0;--t)r[t]=(o[t]-r[t+1])/i[t];for(i[e-1]=(n[e]+r[e-1])/2,t=0;t<e-1;++t)i[t]=2*n[t+1]-r[t+1];return[r,i]}function ult(n){return new F9(n)}function Q1(n,t){this._context=n,this._t=t}Q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function mlt(n){return new Q1(n,.5)}function hlt(n){return new Q1(n,0)}function plt(n){return new Q1(n,1)}function Nf(n,t){if((o=n.length)>1)for(var e=1,a,r,i=n[t[0]],o,s=i.length;e<o;++e)for(r=i,i=n[t[e]],a=0;a<s;++a)i[a][1]+=i[a][0]=isNaN(r[a][1])?r[a][0]:r[a][1]}function HT(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function flt(n,t){return n[t]}function glt(n){const t=[];return t.key=n,t}function xlt(){var n=Re([]),t=HT,e=Nf,a=flt;function r(i){var o=Array.from(n.apply(this,arguments),glt),s,c=o.length,l=-1,u;for(const h of i)for(s=0,++l;s<c;++s)(o[s][l]=[0,+a(h,o[s].key,l,i)]).data=h;for(s=0,u=jj(t(o));s<c;++s)o[u[s]].index=s;return e(o,u),o}return r.keys=function(i){return arguments.length?(n=typeof i=="function"?i:Re(Array.from(i)),r):n},r.value=function(i){return arguments.length?(a=typeof i=="function"?i:Re(+i),r):a},r.order=function(i){return arguments.length?(t=i==null?HT:typeof i=="function"?i:Re(Array.from(i)),r):t},r.offset=function(i){return arguments.length?(e=i??Nf,r):e},r}function ylt(n,t){if((a=n.length)>0){for(var e,a,r=0,i=n[0].length,o;r<i;++r){for(o=e=0;e<a;++e)o+=n[e][r][1]||0;if(o)for(e=0;e<a;++e)n[e][r][1]/=o}Nf(n,t)}}function vlt(n,t){if((r=n.length)>0){for(var e=0,a=n[t[0]],r,i=a.length;e<i;++e){for(var o=0,s=0;o<r;++o)s+=n[o][e][1]||0;a[e][1]+=a[e][0]=-s/2}Nf(n,t)}}function blt(n,t){if(!(!((o=n.length)>0)||!((i=(r=n[t[0]]).length)>0))){for(var e=0,a=1,r,i,o;a<i;++a){for(var s=0,c=0,l=0;s<o;++s){for(var u=n[t[s]],h=u[a][1]||0,f=u[a-1][1]||0,y=(h-f)/2,w=0;w<s;++w){var v=n[t[w]],b=v[a][1]||0,S=v[a-1][1]||0;y+=b-S}c+=h,l+=y*h}r[a-1][1]+=r[a-1][0]=e,c&&(e-=l/c)}r[a-1][1]+=r[a-1][0]=e,Nf(n,t)}}function bx(n){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(n)}var wlt=["type","size","sizeType"];function VT(){return VT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},VT.apply(this,arguments)}function p4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function f4(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(e),!0).forEach(function(a){Alt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):p4(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Alt(n,t,e){return t=Slt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Slt(n){var t=_lt(n,"string");return bx(t)=="symbol"?t:t+""}function _lt(n,t){if(bx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(bx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Plt(n,t){if(n==null)return{};var e=klt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function klt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}var $9={symbolCircle:Oj,symbolCross:Wct,symbolDiamond:Xct,symbolSquare:Yct,symbolStar:tlt,symbolTriangle:elt,symbolWye:alt},Clt=Math.PI/180,Elt=function(t){var e="symbol".concat(K1(t));return $9[e]||Oj},Tlt=function(t,e,a){if(e==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Clt;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.pow(Math.tan(r),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Dlt=function(t,e){$9["symbol".concat(K1(t))]=e},Lj=function(t){var e=t.type,a=e===void 0?"circle":e,r=t.size,i=r===void 0?64:r,o=t.sizeType,s=o===void 0?"area":o,c=Plt(t,wlt),l=f4(f4({},c),{},{type:a,size:i,sizeType:s}),u=function(){var b=Elt(a),S=rlt().type(b).size(Tlt(i,s,a));return S()},h=l.className,f=l.cx,y=l.cy,w=Jt(l,!0);return f===+f&&y===+y&&i===+i?Y.createElement("path",VT({},w,{className:ce("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(y,")"),d:u()})):null};Lj.registerSymbol=Dlt;function Bf(n){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(n)}function WT(){return WT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},WT.apply(this,arguments)}function g4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Nlt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(e),!0).forEach(function(a){wx(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):g4(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Blt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function jlt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,U9(a.key),a)}}function Olt(n,t,e){return t&&jlt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Llt(n,t,e){return t=mA(t),Ilt(n,G9()?Reflect.construct(t,e||[],mA(n).constructor):t.apply(n,e))}function Ilt(n,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rlt(n)}function Rlt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function G9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G9=function(){return!!n})()}function mA(n){return mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mA(n)}function Mlt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&KT(n,t)}function KT(n,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},KT(n,t)}function wx(n,t,e){return t=U9(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function U9(n){var t=Flt(n,"string");return Bf(t)=="symbol"?t:t+""}function Flt(n,t){if(Bf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Bf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ui=32,Ij=function(n){function t(){return Blt(this,t),Llt(this,t,arguments)}return Mlt(t,n),Olt(t,[{key:"renderIcon",value:function(a){var r=this.props.inactiveColor,i=Ui/2,o=Ui/6,s=Ui/3,c=a.inactive?r:a.color;if(a.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Ui,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ui,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ui/8,"h").concat(Ui,"v").concat(Ui*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(a.legendIcon)){var l=Nlt({},a);return delete l.legendIcon,Y.cloneElement(a.legendIcon,l)}return Y.createElement(Lj,{fill:c,cx:i,cy:i,size:Ui,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,r=this.props,i=r.payload,o=r.iconSize,s=r.layout,c=r.formatter,l=r.inactiveColor,u={x:0,y:0,width:Ui,height:Ui},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,w){var v=y.formatter||c,b=ce(wx(wx({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var S=Qt(y.value)?null:y.value;xc(!Qt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=y.inactive?l:y.color;return Y.createElement("li",WT({className:b,style:h,key:"legend-item-".concat(w)},oA(a.props,y,w)),Y.createElement($T,{width:o,height:o,viewBox:u,style:f},a.renderIcon(y)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(S,y,w):S))})}},{key:"render",value:function(){var a=this.props,r=a.payload,i=a.layout,o=a.align;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(I.PureComponent);wx(Ij,"displayName","Legend");wx(Ij,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ik,x4;function $lt(){if(x4)return ik;x4=1;var n=H1();function t(){this.__data__=new n,this.size=0}return ik=t,ik}var ok,y4;function Glt(){if(y4)return ok;y4=1;function n(t){var e=this.__data__,a=e.delete(t);return this.size=e.size,a}return ok=n,ok}var sk,v4;function Ult(){if(v4)return sk;v4=1;function n(t){return this.__data__.get(t)}return sk=n,sk}var ck,b4;function zlt(){if(b4)return ck;b4=1;function n(t){return this.__data__.has(t)}return ck=n,ck}var lk,w4;function qlt(){if(w4)return lk;w4=1;var n=H1(),t=kj(),e=Cj(),a=200;function r(i,o){var s=this.__data__;if(s instanceof n){var c=s.__data__;if(!t||c.length<a-1)return c.push([i,o]),this.size=++s.size,this;s=this.__data__=new e(c)}return s.set(i,o),this.size=s.size,this}return lk=r,lk}var dk,A4;function z9(){if(A4)return dk;A4=1;var n=H1(),t=$lt(),e=Glt(),a=Ult(),r=zlt(),i=qlt();function o(s){var c=this.__data__=new n(s);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=a,o.prototype.has=r,o.prototype.set=i,dk=o,dk}var uk,S4;function Hlt(){if(S4)return uk;S4=1;var n="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,n),this}return uk=t,uk}var mk,_4;function Vlt(){if(_4)return mk;_4=1;function n(t){return this.__data__.has(t)}return mk=n,mk}var hk,P4;function q9(){if(P4)return hk;P4=1;var n=Cj(),t=Hlt(),e=Vlt();function a(r){var i=-1,o=r==null?0:r.length;for(this.__data__=new n;++i<o;)this.add(r[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=e,hk=a,hk}var pk,k4;function H9(){if(k4)return pk;k4=1;function n(t,e){for(var a=-1,r=t==null?0:t.length;++a<r;)if(e(t[a],a,t))return!0;return!1}return pk=n,pk}var fk,C4;function V9(){if(C4)return fk;C4=1;function n(t,e){return t.has(e)}return fk=n,fk}var gk,E4;function W9(){if(E4)return gk;E4=1;var n=q9(),t=H9(),e=V9(),a=1,r=2;function i(o,s,c,l,u,h){var f=c&a,y=o.length,w=s.length;if(y!=w&&!(f&&w>y))return!1;var v=h.get(o),b=h.get(s);if(v&&b)return v==s&&b==o;var S=-1,_=!0,P=c&r?new n:void 0;for(h.set(o,s),h.set(s,o);++S<y;){var E=o[S],C=s[S];if(l)var T=f?l(C,E,S,s,o,h):l(E,C,S,o,s,h);if(T!==void 0){if(T)continue;_=!1;break}if(P){if(!t(s,function(B,L){if(!e(P,L)&&(E===B||u(E,B,c,l,h)))return P.push(L)})){_=!1;break}}else if(!(E===C||u(E,C,c,l,h))){_=!1;break}}return h.delete(o),h.delete(s),_}return gk=i,gk}var xk,T4;function Wlt(){if(T4)return xk;T4=1;var n=hs(),t=n.Uint8Array;return xk=t,xk}var yk,D4;function Klt(){if(D4)return yk;D4=1;function n(t){var e=-1,a=Array(t.size);return t.forEach(function(r,i){a[++e]=[i,r]}),a}return yk=n,yk}var vk,N4;function Rj(){if(N4)return vk;N4=1;function n(t){var e=-1,a=Array(t.size);return t.forEach(function(r){a[++e]=r}),a}return vk=n,vk}var bk,B4;function Xlt(){if(B4)return bk;B4=1;var n=Xy(),t=Wlt(),e=Pj(),a=W9(),r=Klt(),i=Rj(),o=1,s=2,c="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Map]",f="[object Number]",y="[object RegExp]",w="[object Set]",v="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",_="[object DataView]",P=n?n.prototype:void 0,E=P?P.valueOf:void 0;function C(T,B,L,M,U,F,G){switch(L){case _:if(T.byteLength!=B.byteLength||T.byteOffset!=B.byteOffset)return!1;T=T.buffer,B=B.buffer;case S:return!(T.byteLength!=B.byteLength||!F(new t(T),new t(B)));case c:case l:case f:return e(+T,+B);case u:return T.name==B.name&&T.message==B.message;case y:case v:return T==B+"";case h:var $=r;case w:var H=M&o;if($||($=i),T.size!=B.size&&!H)return!1;var X=G.get(T);if(X)return X==B;M|=s,G.set(T,B);var Q=a($(T),$(B),M,U,F,G);return G.delete(T),Q;case b:if(E)return E.call(T)==E.call(B)}return!1}return bk=C,bk}var wk,j4;function K9(){if(j4)return wk;j4=1;function n(t,e){for(var a=-1,r=e.length,i=t.length;++a<r;)t[i+a]=e[a];return t}return wk=n,wk}var Ak,O4;function Ylt(){if(O4)return Ak;O4=1;var n=K9(),t=br();function e(a,r,i){var o=r(a);return t(a)?o:n(o,i(a))}return Ak=e,Ak}var Sk,L4;function Qlt(){if(L4)return Sk;L4=1;function n(t,e){for(var a=-1,r=t==null?0:t.length,i=0,o=[];++a<r;){var s=t[a];e(s,a,t)&&(o[i++]=s)}return o}return Sk=n,Sk}var _k,I4;function Jlt(){if(I4)return _k;I4=1;function n(){return[]}return _k=n,_k}var Pk,R4;function Zlt(){if(R4)return Pk;R4=1;var n=Qlt(),t=Jlt(),e=Object.prototype,a=e.propertyIsEnumerable,r=Object.getOwnPropertySymbols,i=r?function(o){return o==null?[]:(o=Object(o),n(r(o),function(s){return a.call(o,s)}))}:t;return Pk=i,Pk}var kk,M4;function tdt(){if(M4)return kk;M4=1;function n(t,e){for(var a=-1,r=Array(t);++a<t;)r[a]=e(a);return r}return kk=n,kk}var Ck,F4;function edt(){if(F4)return Ck;F4=1;var n=Bc(),t=jc(),e="[object Arguments]";function a(r){return t(r)&&n(r)==e}return Ck=a,Ck}var Ek,$4;function Mj(){if($4)return Ek;$4=1;var n=edt(),t=jc(),e=Object.prototype,a=e.hasOwnProperty,r=e.propertyIsEnumerable,i=n(function(){return arguments}())?n:function(o){return t(o)&&a.call(o,"callee")&&!r.call(o,"callee")};return Ek=i,Ek}var Ag={exports:{}},Tk,G4;function ndt(){if(G4)return Tk;G4=1;function n(){return!1}return Tk=n,Tk}Ag.exports;var U4;function X9(){return U4||(U4=1,function(n,t){var e=hs(),a=ndt(),r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o?e.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||a;n.exports=l}(Ag,Ag.exports)),Ag.exports}var Dk,z4;function Fj(){if(z4)return Dk;z4=1;var n=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(a,r){var i=typeof a;return r=r??n,!!r&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<r}return Dk=e,Dk}var Nk,q4;function $j(){if(q4)return Nk;q4=1;var n=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}return Nk=t,Nk}var Bk,H4;function adt(){if(H4)return Bk;H4=1;var n=Bc(),t=$j(),e=jc(),a="[object Arguments]",r="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",c="[object Function]",l="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",y="[object Set]",w="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",_="[object Float32Array]",P="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",B="[object Uint8Array]",L="[object Uint8ClampedArray]",M="[object Uint16Array]",U="[object Uint32Array]",F={};F[_]=F[P]=F[E]=F[C]=F[T]=F[B]=F[L]=F[M]=F[U]=!0,F[a]=F[r]=F[b]=F[i]=F[S]=F[o]=F[s]=F[c]=F[l]=F[u]=F[h]=F[f]=F[y]=F[w]=F[v]=!1;function G($){return e($)&&t($.length)&&!!F[n($)]}return Bk=G,Bk}var jk,V4;function Y9(){if(V4)return jk;V4=1;function n(t){return function(e){return t(e)}}return jk=n,jk}var Sg={exports:{}};Sg.exports;var W4;function rdt(){return W4||(W4=1,function(n,t){var e=f9(),a=t&&!t.nodeType&&t,r=a&&!0&&n&&!n.nodeType&&n,i=r&&r.exports===a,o=i&&e.process,s=function(){try{var c=r&&r.require&&r.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();n.exports=s}(Sg,Sg.exports)),Sg.exports}var Ok,K4;function Q9(){if(K4)return Ok;K4=1;var n=adt(),t=Y9(),e=rdt(),a=e&&e.isTypedArray,r=a?t(a):n;return Ok=r,Ok}var Lk,X4;function idt(){if(X4)return Lk;X4=1;var n=tdt(),t=Mj(),e=br(),a=X9(),r=Fj(),i=Q9(),o=Object.prototype,s=o.hasOwnProperty;function c(l,u){var h=e(l),f=!h&&t(l),y=!h&&!f&&a(l),w=!h&&!f&&!y&&i(l),v=h||f||y||w,b=v?n(l.length,String):[],S=b.length;for(var _ in l)(u||s.call(l,_))&&!(v&&(_=="length"||y&&(_=="offset"||_=="parent")||w&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||r(_,S)))&&b.push(_);return b}return Lk=c,Lk}var Ik,Y4;function odt(){if(Y4)return Ik;Y4=1;var n=Object.prototype;function t(e){var a=e&&e.constructor,r=typeof a=="function"&&a.prototype||n;return e===r}return Ik=t,Ik}var Rk,Q4;function J9(){if(Q4)return Rk;Q4=1;function n(t,e){return function(a){return t(e(a))}}return Rk=n,Rk}var Mk,J4;function sdt(){if(J4)return Mk;J4=1;var n=J9(),t=n(Object.keys,Object);return Mk=t,Mk}var Fk,Z4;function cdt(){if(Z4)return Fk;Z4=1;var n=odt(),t=sdt(),e=Object.prototype,a=e.hasOwnProperty;function r(i){if(!n(i))return t(i);var o=[];for(var s in Object(i))a.call(i,s)&&s!="constructor"&&o.push(s);return o}return Fk=r,Fk}var $k,tF;function Qy(){if(tF)return $k;tF=1;var n=_j(),t=$j();function e(a){return a!=null&&t(a.length)&&!n(a)}return $k=e,$k}var Gk,eF;function J1(){if(eF)return Gk;eF=1;var n=idt(),t=cdt(),e=Qy();function a(r){return e(r)?n(r):t(r)}return Gk=a,Gk}var Uk,nF;function ldt(){if(nF)return Uk;nF=1;var n=Ylt(),t=Zlt(),e=J1();function a(r){return n(r,e,t)}return Uk=a,Uk}var zk,aF;function ddt(){if(aF)return zk;aF=1;var n=ldt(),t=1,e=Object.prototype,a=e.hasOwnProperty;function r(i,o,s,c,l,u){var h=s&t,f=n(i),y=f.length,w=n(o),v=w.length;if(y!=v&&!h)return!1;for(var b=y;b--;){var S=f[b];if(!(h?S in o:a.call(o,S)))return!1}var _=u.get(i),P=u.get(o);if(_&&P)return _==o&&P==i;var E=!0;u.set(i,o),u.set(o,i);for(var C=h;++b<y;){S=f[b];var T=i[S],B=o[S];if(c)var L=h?c(B,T,S,o,i,u):c(T,B,S,i,o,u);if(!(L===void 0?T===B||l(T,B,s,c,u):L)){E=!1;break}C||(C=S=="constructor")}if(E&&!C){var M=i.constructor,U=o.constructor;M!=U&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof U=="function"&&U instanceof U)&&(E=!1)}return u.delete(i),u.delete(o),E}return zk=r,zk}var qk,rF;function udt(){if(rF)return qk;rF=1;var n=Lm(),t=hs(),e=n(t,"DataView");return qk=e,qk}var Hk,iF;function mdt(){if(iF)return Hk;iF=1;var n=Lm(),t=hs(),e=n(t,"Promise");return Hk=e,Hk}var Vk,oF;function Z9(){if(oF)return Vk;oF=1;var n=Lm(),t=hs(),e=n(t,"Set");return Vk=e,Vk}var Wk,sF;function hdt(){if(sF)return Wk;sF=1;var n=Lm(),t=hs(),e=n(t,"WeakMap");return Wk=e,Wk}var Kk,cF;function pdt(){if(cF)return Kk;cF=1;var n=udt(),t=kj(),e=mdt(),a=Z9(),r=hdt(),i=Bc(),o=g9(),s="[object Map]",c="[object Object]",l="[object Promise]",u="[object Set]",h="[object WeakMap]",f="[object DataView]",y=o(n),w=o(t),v=o(e),b=o(a),S=o(r),_=i;return(n&&_(new n(new ArrayBuffer(1)))!=f||t&&_(new t)!=s||e&&_(e.resolve())!=l||a&&_(new a)!=u||r&&_(new r)!=h)&&(_=function(P){var E=i(P),C=E==c?P.constructor:void 0,T=C?o(C):"";if(T)switch(T){case y:return f;case w:return s;case v:return l;case b:return u;case S:return h}return E}),Kk=_,Kk}var Xk,lF;function fdt(){if(lF)return Xk;lF=1;var n=z9(),t=W9(),e=Xlt(),a=ddt(),r=pdt(),i=br(),o=X9(),s=Q9(),c=1,l="[object Arguments]",u="[object Array]",h="[object Object]",f=Object.prototype,y=f.hasOwnProperty;function w(v,b,S,_,P,E){var C=i(v),T=i(b),B=C?u:r(v),L=T?u:r(b);B=B==l?h:B,L=L==l?h:L;var M=B==h,U=L==h,F=B==L;if(F&&o(v)){if(!o(b))return!1;C=!0,M=!1}if(F&&!M)return E||(E=new n),C||s(v)?t(v,b,S,_,P,E):e(v,b,B,S,_,P,E);if(!(S&c)){var G=M&&y.call(v,"__wrapped__"),$=U&&y.call(b,"__wrapped__");if(G||$){var H=G?v.value():v,X=$?b.value():b;return E||(E=new n),P(H,X,S,_,E)}}return F?(E||(E=new n),a(v,b,S,_,P,E)):!1}return Xk=w,Xk}var Yk,dF;function Gj(){if(dF)return Yk;dF=1;var n=fdt(),t=jc();function e(a,r,i,o,s){return a===r?!0:a==null||r==null||!t(a)&&!t(r)?a!==a&&r!==r:n(a,r,i,o,e,s)}return Yk=e,Yk}var Qk,uF;function gdt(){if(uF)return Qk;uF=1;var n=z9(),t=Gj(),e=1,a=2;function r(i,o,s,c){var l=s.length,u=l,h=!c;if(i==null)return!u;for(i=Object(i);l--;){var f=s[l];if(h&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++l<u;){f=s[l];var y=f[0],w=i[y],v=f[1];if(h&&f[2]){if(w===void 0&&!(y in i))return!1}else{var b=new n;if(c)var S=c(w,v,y,i,o,b);if(!(S===void 0?t(v,w,e|a,c,b):S))return!1}}return!0}return Qk=r,Qk}var Jk,mF;function tH(){if(mF)return Jk;mF=1;var n=vd();function t(e){return e===e&&!n(e)}return Jk=t,Jk}var Zk,hF;function xdt(){if(hF)return Zk;hF=1;var n=tH(),t=J1();function e(a){for(var r=t(a),i=r.length;i--;){var o=r[i],s=a[o];r[i]=[o,s,n(s)]}return r}return Zk=e,Zk}var tC,pF;function eH(){if(pF)return tC;pF=1;function n(t,e){return function(a){return a==null?!1:a[t]===e&&(e!==void 0||t in Object(a))}}return tC=n,tC}var eC,fF;function ydt(){if(fF)return eC;fF=1;var n=gdt(),t=xdt(),e=eH();function a(r){var i=t(r);return i.length==1&&i[0][2]?e(i[0][0],i[0][1]):function(o){return o===r||n(o,r,i)}}return eC=a,eC}var nC,gF;function vdt(){if(gF)return nC;gF=1;function n(t,e){return t!=null&&e in Object(t)}return nC=n,nC}var aC,xF;function bdt(){if(xF)return aC;xF=1;var n=v9(),t=Mj(),e=br(),a=Fj(),r=$j(),i=W1();function o(s,c,l){c=n(c,s);for(var u=-1,h=c.length,f=!1;++u<h;){var y=i(c[u]);if(!(f=s!=null&&l(s,y)))break;s=s[y]}return f||++u!=h?f:(h=s==null?0:s.length,!!h&&r(h)&&a(y,h)&&(e(s)||t(s)))}return aC=o,aC}var rC,yF;function wdt(){if(yF)return rC;yF=1;var n=vdt(),t=bdt();function e(a,r){return a!=null&&t(a,r,n)}return rC=e,rC}var iC,vF;function Adt(){if(vF)return iC;vF=1;var n=Gj(),t=b9(),e=wdt(),a=Sj(),r=tH(),i=eH(),o=W1(),s=1,c=2;function l(u,h){return a(u)&&r(h)?i(o(u),h):function(f){var y=t(f,u);return y===void 0&&y===h?e(f,u):n(h,y,s|c)}}return iC=l,iC}var oC,bF;function p2(){if(bF)return oC;bF=1;function n(t){return t}return oC=n,oC}var sC,wF;function Sdt(){if(wF)return sC;wF=1;function n(t){return function(e){return e==null?void 0:e[t]}}return sC=n,sC}var cC,AF;function _dt(){if(AF)return cC;AF=1;var n=Tj();function t(e){return function(a){return n(a,e)}}return cC=t,cC}var lC,SF;function Pdt(){if(SF)return lC;SF=1;var n=Sdt(),t=_dt(),e=Sj(),a=W1();function r(i){return e(i)?n(a(i)):t(i)}return lC=r,lC}var dC,_F;function bd(){if(_F)return dC;_F=1;var n=ydt(),t=Adt(),e=p2(),a=br(),r=Pdt();function i(o){return typeof o=="function"?o:o==null?e:typeof o=="object"?a(o)?t(o[0],o[1]):n(o):r(o)}return dC=i,dC}var uC,PF;function nH(){if(PF)return uC;PF=1;function n(t,e,a,r){for(var i=t.length,o=a+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}return uC=n,uC}var mC,kF;function kdt(){if(kF)return mC;kF=1;function n(t){return t!==t}return mC=n,mC}var hC,CF;function Cdt(){if(CF)return hC;CF=1;function n(t,e,a){for(var r=a-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}return hC=n,hC}var pC,EF;function Edt(){if(EF)return pC;EF=1;var n=nH(),t=kdt(),e=Cdt();function a(r,i,o){return i===i?e(r,i,o):n(r,t,o)}return pC=a,pC}var fC,TF;function Tdt(){if(TF)return fC;TF=1;var n=Edt();function t(e,a){var r=e==null?0:e.length;return!!r&&n(e,a,0)>-1}return fC=t,fC}var gC,DF;function Ddt(){if(DF)return gC;DF=1;function n(t,e,a){for(var r=-1,i=t==null?0:t.length;++r<i;)if(a(e,t[r]))return!0;return!1}return gC=n,gC}var xC,NF;function Ndt(){if(NF)return xC;NF=1;function n(){}return xC=n,xC}var yC,BF;function Bdt(){if(BF)return yC;BF=1;var n=Z9(),t=Ndt(),e=Rj(),a=1/0,r=n&&1/e(new n([,-0]))[1]==a?function(i){return new n(i)}:t;return yC=r,yC}var vC,jF;function jdt(){if(jF)return vC;jF=1;var n=q9(),t=Tdt(),e=Ddt(),a=V9(),r=Bdt(),i=Rj(),o=200;function s(c,l,u){var h=-1,f=t,y=c.length,w=!0,v=[],b=v;if(u)w=!1,f=e;else if(y>=o){var S=l?null:r(c);if(S)return i(S);w=!1,f=a,b=new n}else b=l?[]:v;t:for(;++h<y;){var _=c[h],P=l?l(_):_;if(_=u||_!==0?_:0,w&&P===P){for(var E=b.length;E--;)if(b[E]===P)continue t;l&&b.push(P),v.push(_)}else f(b,P,u)||(b!==v&&b.push(P),v.push(_))}return v}return vC=s,vC}var bC,OF;function Odt(){if(OF)return bC;OF=1;var n=bd(),t=jdt();function e(a,r){return a&&a.length?t(a,n(r,2)):[]}return bC=e,bC}var Ldt=Odt();const LF=Ee(Ldt);function aH(n,t,e){return t===!0?LF(n,e):Qt(t)?LF(n,t):n}function jf(n){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(n)}var Idt=["ref"];function IF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Ss(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(e),!0).forEach(function(a){Z1(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):IF(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Rdt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,iH(a.key),a)}}function Mdt(n,t,e){return t&&RF(n.prototype,t),e&&RF(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Fdt(n,t,e){return t=hA(t),$dt(n,rH()?Reflect.construct(t,e||[],hA(n).constructor):t.apply(n,e))}function $dt(n,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gdt(n)}function Gdt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rH=function(){return!!n})()}function hA(n){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hA(n)}function Udt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&XT(n,t)}function XT(n,t){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},XT(n,t)}function Z1(n,t,e){return t=iH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function iH(n){var t=zdt(n,"string");return jf(t)=="symbol"?t:t+""}function zdt(n,t){if(jf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(jf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function qdt(n,t){if(n==null)return{};var e=Hdt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Hdt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function Vdt(n){return n.value}function Wdt(n,t){if(Y.isValidElement(n))return Y.cloneElement(n,t);if(typeof n=="function")return Y.createElement(n,t);t.ref;var e=qdt(t,Idt);return Y.createElement(Ij,e)}var MF=1,ts=function(n){function t(){var e;Rdt(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=Fdt(this,t,[].concat(r)),Z1(e,"lastBoundingBox",{width:-1,height:-1}),e}return Udt(t,n),Mdt(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,r=this.getBBox();r?(Math.abs(r.width-this.lastBoundingBox.width)>MF||Math.abs(r.height-this.lastBoundingBox.height)>MF)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height,a&&a(r)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ss({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var r=this.props,i=r.layout,o=r.align,s=r.verticalAlign,c=r.margin,l=r.chartWidth,u=r.chartHeight,h,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();h={left:((l||0)-y.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(s==="middle"){var w=this.getBBoxSnapshot();f={top:((u||0)-w.height)/2}}else f=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ss(Ss({},h),f)}},{key:"render",value:function(){var a=this,r=this.props,i=r.content,o=r.width,s=r.height,c=r.wrapperStyle,l=r.payloadUniqBy,u=r.payload,h=Ss(Ss({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){a.wrapperNode=y}},Wdt(i,Ss(Ss({},this.props),{},{payload:aH(u,l,Vdt)})))}}],[{key:"getWithHeight",value:function(a,r){var i=Ss(Ss({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&xt(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||r}:null}}])}(I.PureComponent);Z1(ts,"displayName","Legend");Z1(ts,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wC,FF;function Kdt(){if(FF)return wC;FF=1;var n=Xy(),t=Mj(),e=br(),a=n?n.isConcatSpreadable:void 0;function r(i){return e(i)||t(i)||!!(a&&i&&i[a])}return wC=r,wC}var AC,$F;function oH(){if($F)return AC;$F=1;var n=K9(),t=Kdt();function e(a,r,i,o,s){var c=-1,l=a.length;for(i||(i=t),s||(s=[]);++c<l;){var u=a[c];r>0&&i(u)?r>1?e(u,r-1,i,o,s):n(s,u):o||(s[s.length]=u)}return s}return AC=e,AC}var SC,GF;function Xdt(){if(GF)return SC;GF=1;function n(t){return function(e,a,r){for(var i=-1,o=Object(e),s=r(e),c=s.length;c--;){var l=s[t?c:++i];if(a(o[l],l,o)===!1)break}return e}}return SC=n,SC}var _C,UF;function Ydt(){if(UF)return _C;UF=1;var n=Xdt(),t=n();return _C=t,_C}var PC,zF;function sH(){if(zF)return PC;zF=1;var n=Ydt(),t=J1();function e(a,r){return a&&n(a,r,t)}return PC=e,PC}var kC,qF;function Qdt(){if(qF)return kC;qF=1;var n=Qy();function t(e,a){return function(r,i){if(r==null)return r;if(!n(r))return e(r,i);for(var o=r.length,s=a?o:-1,c=Object(r);(a?s--:++s<o)&&i(c[s],s,c)!==!1;);return r}}return kC=t,kC}var CC,HF;function Uj(){if(HF)return CC;HF=1;var n=sH(),t=Qdt(),e=t(n);return CC=e,CC}var EC,VF;function cH(){if(VF)return EC;VF=1;var n=Uj(),t=Qy();function e(a,r){var i=-1,o=t(a)?Array(a.length):[];return n(a,function(s,c,l){o[++i]=r(s,c,l)}),o}return EC=e,EC}var TC,WF;function Jdt(){if(WF)return TC;WF=1;function n(t,e){var a=t.length;for(t.sort(e);a--;)t[a]=t[a].value;return t}return TC=n,TC}var DC,KF;function Zdt(){if(KF)return DC;KF=1;var n=d2();function t(e,a){if(e!==a){var r=e!==void 0,i=e===null,o=e===e,s=n(e),c=a!==void 0,l=a===null,u=a===a,h=n(a);if(!l&&!h&&!s&&e>a||s&&c&&u&&!l&&!h||i&&c&&u||!r&&u||!o)return 1;if(!i&&!s&&!h&&e<a||h&&r&&o&&!i&&!s||l&&r&&o||!c&&o||!u)return-1}return 0}return DC=t,DC}var NC,XF;function tut(){if(XF)return NC;XF=1;var n=Zdt();function t(e,a,r){for(var i=-1,o=e.criteria,s=a.criteria,c=o.length,l=r.length;++i<c;){var u=n(o[i],s[i]);if(u){if(i>=l)return u;var h=r[i];return u*(h=="desc"?-1:1)}}return e.index-a.index}return NC=t,NC}var BC,YF;function eut(){if(YF)return BC;YF=1;var n=Ej(),t=Tj(),e=bd(),a=cH(),r=Jdt(),i=Y9(),o=tut(),s=p2(),c=br();function l(u,h,f){h.length?h=n(h,function(v){return c(v)?function(b){return t(b,v.length===1?v[0]:v)}:v}):h=[s];var y=-1;h=n(h,i(e));var w=a(u,function(v,b,S){var _=n(h,function(P){return P(v)});return{criteria:_,index:++y,value:v}});return r(w,function(v,b){return o(v,b,f)})}return BC=l,BC}var jC,QF;function nut(){if(QF)return jC;QF=1;function n(t,e,a){switch(a.length){case 0:return t.call(e);case 1:return t.call(e,a[0]);case 2:return t.call(e,a[0],a[1]);case 3:return t.call(e,a[0],a[1],a[2])}return t.apply(e,a)}return jC=n,jC}var OC,JF;function aut(){if(JF)return OC;JF=1;var n=nut(),t=Math.max;function e(a,r,i){return r=t(r===void 0?a.length-1:r,0),function(){for(var o=arguments,s=-1,c=t(o.length-r,0),l=Array(c);++s<c;)l[s]=o[r+s];s=-1;for(var u=Array(r+1);++s<r;)u[s]=o[s];return u[r]=i(l),n(a,this,u)}}return OC=e,OC}var LC,ZF;function rut(){if(ZF)return LC;ZF=1;function n(t){return function(){return t}}return LC=n,LC}var IC,t6;function lH(){if(t6)return IC;t6=1;var n=Lm(),t=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch{}}();return IC=t,IC}var RC,e6;function iut(){if(e6)return RC;e6=1;var n=rut(),t=lH(),e=p2(),a=t?function(r,i){return t(r,"toString",{configurable:!0,enumerable:!1,value:n(i),writable:!0})}:e;return RC=a,RC}var MC,n6;function out(){if(n6)return MC;n6=1;var n=800,t=16,e=Date.now;function a(r){var i=0,o=0;return function(){var s=e(),c=t-(s-o);if(o=s,c>0){if(++i>=n)return arguments[0]}else i=0;return r.apply(void 0,arguments)}}return MC=a,MC}var FC,a6;function sut(){if(a6)return FC;a6=1;var n=iut(),t=out(),e=t(n);return FC=e,FC}var $C,r6;function cut(){if(r6)return $C;r6=1;var n=p2(),t=aut(),e=sut();function a(r,i){return e(t(r,i,n),r+"")}return $C=a,$C}var GC,i6;function tS(){if(i6)return GC;i6=1;var n=Pj(),t=Qy(),e=Fj(),a=vd();function r(i,o,s){if(!a(s))return!1;var c=typeof o;return(c=="number"?t(s)&&e(o,s.length):c=="string"&&o in s)?n(s[o],i):!1}return GC=r,GC}var UC,o6;function lut(){if(o6)return UC;o6=1;var n=oH(),t=eut(),e=cut(),a=tS(),r=e(function(i,o){if(i==null)return[];var s=o.length;return s>1&&a(i,o[0],o[1])?o=[]:s>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),t(i,n(o,1),[])});return UC=r,UC}var dut=lut();const zj=Ee(dut);function Ax(n){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(n)}function YT(){return YT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},YT.apply(this,arguments)}function uut(n,t){return fut(n)||put(n,t)||hut(n,t)||mut()}function mut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hut(n,t){if(n){if(typeof n=="string")return s6(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s6(n,t)}}function s6(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function put(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function fut(n){if(Array.isArray(n))return n}function c6(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function zC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(e),!0).forEach(function(a){gut(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):c6(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function gut(n,t,e){return t=xut(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function xut(n){var t=yut(n,"string");return Ax(t)=="symbol"?t:t+""}function yut(n,t){if(Ax(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Ax(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function vut(n){return Array.isArray(n)&&$n(n[0])&&$n(n[1])?n.join(" ~ "):n}var but=function(t){var e=t.separator,a=e===void 0?" : ":e,r=t.contentStyle,i=r===void 0?{}:r,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,l=c===void 0?{}:c,u=t.payload,h=t.formatter,f=t.itemSorter,y=t.wrapperClassName,w=t.labelClassName,v=t.label,b=t.labelFormatter,S=t.accessibilityLayer,_=S===void 0?!1:S,P=function(){if(u&&u.length){var G={padding:0,margin:0},$=(f?zj(u,f):u).map(function(H,X){if(H.type==="none")return null;var Q=zC({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},s),W=H.formatter||h||vut,V=H.value,tt=H.name,nt=V,z=tt;if(W&&nt!=null&&z!=null){var K=W(V,tt,H,X,u);if(Array.isArray(K)){var it=uut(K,2);nt=it[0],z=it[1]}else nt=K}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Q},$n(z)?Y.createElement("span",{className:"recharts-tooltip-item-name"},z):null,$n(z)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},nt),Y.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:G},$)}return null},E=zC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=zC({margin:0},l),T=!ie(v),B=T?v:"",L=ce("recharts-default-tooltip",y),M=ce("recharts-tooltip-label",w);T&&b&&u!==void 0&&u!==null&&(B=b(v,u));var U=_?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",YT({className:L,style:E},U),Y.createElement("p",{className:M,style:C},Y.isValidElement(B)?B:"".concat(B)),P())};function Sx(n){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(n)}function Ib(n,t,e){return t=wut(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wut(n){var t=Aut(n,"string");return Sx(t)=="symbol"?t:t+""}function Aut(n,t){if(Sx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Sx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var sg="recharts-tooltip-wrapper",Sut={visibility:"hidden"};function _ut(n){var t=n.coordinate,e=n.translateX,a=n.translateY;return ce(sg,Ib(Ib(Ib(Ib({},"".concat(sg,"-right"),xt(e)&&t&&xt(t.x)&&e>=t.x),"".concat(sg,"-left"),xt(e)&&t&&xt(t.x)&&e<t.x),"".concat(sg,"-bottom"),xt(a)&&t&&xt(t.y)&&a>=t.y),"".concat(sg,"-top"),xt(a)&&t&&xt(t.y)&&a<t.y))}function l6(n){var t=n.allowEscapeViewBox,e=n.coordinate,a=n.key,r=n.offsetTopLeft,i=n.position,o=n.reverseDirection,s=n.tooltipDimension,c=n.viewBox,l=n.viewBoxDimension;if(i&&xt(i[a]))return i[a];var u=e[a]-s-r,h=e[a]+r;if(t[a])return o[a]?u:h;if(o[a]){var f=u,y=c[a];return f<y?Math.max(h,c[a]):Math.max(u,c[a])}var w=h+s,v=c[a]+l;return w>v?Math.max(u,c[a]):Math.max(h,c[a])}function Put(n){var t=n.translateX,e=n.translateY,a=n.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function kut(n){var t=n.allowEscapeViewBox,e=n.coordinate,a=n.offsetTopLeft,r=n.position,i=n.reverseDirection,o=n.tooltipBox,s=n.useTranslate3d,c=n.viewBox,l,u,h;return o.height>0&&o.width>0&&e?(u=l6({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:a,position:r,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=l6({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:a,position:r,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=Put({translateX:u,translateY:h,useTranslate3d:s})):l=Sut,{cssProperties:l,cssClasses:_ut({translateX:u,translateY:h,coordinate:e})}}function Of(n){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(n)}function d6(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function u6(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(e),!0).forEach(function(a){JT(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):d6(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Cut(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Eut(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,uH(a.key),a)}}function Tut(n,t,e){return t&&Eut(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Dut(n,t,e){return t=pA(t),Nut(n,dH()?Reflect.construct(t,e||[],pA(n).constructor):t.apply(n,e))}function Nut(n,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return But(n)}function But(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!n})()}function pA(n){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pA(n)}function jut(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&QT(n,t)}function QT(n,t){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},QT(n,t)}function JT(n,t,e){return t=uH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function uH(n){var t=Out(n,"string");return Of(t)=="symbol"?t:t+""}function Out(n,t){if(Of(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Of(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var m6=1,Lut=function(n){function t(){var e;Cut(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=Dut(this,t,[].concat(r)),JT(e,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),JT(e,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,l,u;e.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=e.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=e.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),e}return jut(t,n),Tut(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>m6||Math.abs(a.height-this.state.lastBoundingBox.height)>m6)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,r;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,r=this.props,i=r.active,o=r.allowEscapeViewBox,s=r.animationDuration,c=r.animationEasing,l=r.children,u=r.coordinate,h=r.hasPayload,f=r.isAnimationActive,y=r.offset,w=r.position,v=r.reverseDirection,b=r.useTranslate3d,S=r.viewBox,_=r.wrapperStyle,P=kut({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:y,position:w,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:S}),E=P.cssClasses,C=P.cssProperties,T=u6(u6({transition:f&&i?"transform ".concat(s,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return Y.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(L){a.wrapperNode=L}},l)}}])}(I.PureComponent),Iut=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Im={isSsr:Iut()};function Lf(n){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(n)}function h6(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function p6(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(e),!0).forEach(function(a){qj(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):h6(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Rut(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Mut(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,hH(a.key),a)}}function Fut(n,t,e){return t&&Mut(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function $ut(n,t,e){return t=fA(t),Gut(n,mH()?Reflect.construct(t,e||[],fA(n).constructor):t.apply(n,e))}function Gut(n,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uut(n)}function Uut(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function mH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!n})()}function fA(n){return fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fA(n)}function zut(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&ZT(n,t)}function ZT(n,t){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},ZT(n,t)}function qj(n,t,e){return t=hH(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function hH(n){var t=qut(n,"string");return Lf(t)=="symbol"?t:t+""}function qut(n,t){if(Lf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Lf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Hut(n){return n.dataKey}function Vut(n,t){return Y.isValidElement(n)?Y.cloneElement(n,t):typeof n=="function"?Y.createElement(n,t):Y.createElement(but,t)}var fr=function(n){function t(){return Rut(this,t),$ut(this,t,arguments)}return zut(t,n),Fut(t,[{key:"render",value:function(){var a=this,r=this.props,i=r.active,o=r.allowEscapeViewBox,s=r.animationDuration,c=r.animationEasing,l=r.content,u=r.coordinate,h=r.filterNull,f=r.isAnimationActive,y=r.offset,w=r.payload,v=r.payloadUniqBy,b=r.position,S=r.reverseDirection,_=r.useTranslate3d,P=r.viewBox,E=r.wrapperStyle,C=w??[];h&&C.length&&(C=aH(w.filter(function(B){return B.value!=null&&(B.hide!==!0||a.props.includeHidden)}),v,Hut));var T=C.length>0;return Y.createElement(Lut,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:T,offset:y,position:b,reverseDirection:S,useTranslate3d:_,viewBox:P,wrapperStyle:E},Vut(l,p6(p6({},this.props),{},{payload:C})))}}])}(I.PureComponent);qj(fr,"displayName","Tooltip");qj(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Im.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qC,f6;function Wut(){if(f6)return qC;f6=1;var n=hs(),t=function(){return n.Date.now()};return qC=t,qC}var HC,g6;function Kut(){if(g6)return HC;g6=1;var n=/\s/;function t(e){for(var a=e.length;a--&&n.test(e.charAt(a)););return a}return HC=t,HC}var VC,x6;function Xut(){if(x6)return VC;x6=1;var n=Kut(),t=/^\s+/;function e(a){return a&&a.slice(0,n(a)+1).replace(t,"")}return VC=e,VC}var WC,y6;function pH(){if(y6)return WC;y6=1;var n=Xut(),t=vd(),e=d2(),a=NaN,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function c(l){if(typeof l=="number")return l;if(e(l))return a;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=n(l);var h=i.test(l);return h||o.test(l)?s(l.slice(2),h?2:8):r.test(l)?a:+l}return WC=c,WC}var KC,v6;function Yut(){if(v6)return KC;v6=1;var n=vd(),t=Wut(),e=pH(),a="Expected a function",r=Math.max,i=Math.min;function o(s,c,l){var u,h,f,y,w,v,b=0,S=!1,_=!1,P=!0;if(typeof s!="function")throw new TypeError(a);c=e(c)||0,n(l)&&(S=!!l.leading,_="maxWait"in l,f=_?r(e(l.maxWait)||0,c):f,P="trailing"in l?!!l.trailing:P);function E($){var H=u,X=h;return u=h=void 0,b=$,y=s.apply(X,H),y}function C($){return b=$,w=setTimeout(L,c),S?E($):y}function T($){var H=$-v,X=$-b,Q=c-H;return _?i(Q,f-X):Q}function B($){var H=$-v,X=$-b;return v===void 0||H>=c||H<0||_&&X>=f}function L(){var $=t();if(B($))return M($);w=setTimeout(L,T($))}function M($){return w=void 0,P&&u?E($):(u=h=void 0,y)}function U(){w!==void 0&&clearTimeout(w),b=0,u=v=h=w=void 0}function F(){return w===void 0?y:M(t())}function G(){var $=t(),H=B($);if(u=arguments,h=this,v=$,H){if(w===void 0)return C(v);if(_)return clearTimeout(w),w=setTimeout(L,c),E(v)}return w===void 0&&(w=setTimeout(L,c)),y}return G.cancel=U,G.flush=F,G}return KC=o,KC}var XC,b6;function Qut(){if(b6)return XC;b6=1;var n=Yut(),t=vd(),e="Expected a function";function a(r,i,o){var s=!0,c=!0;if(typeof r!="function")throw new TypeError(e);return t(o)&&(s="leading"in o?!!o.leading:s,c="trailing"in o?!!o.trailing:c),n(r,i,{leading:s,maxWait:i,trailing:c})}return XC=a,XC}var Jut=Qut();const fH=Ee(Jut);function _x(n){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_x(n)}function w6(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Rb(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(e),!0).forEach(function(a){Zut(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):w6(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Zut(n,t,e){return t=tmt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tmt(n){var t=emt(n,"string");return _x(t)=="symbol"?t:t+""}function emt(n,t){if(_x(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(_x(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function nmt(n,t){return omt(n)||imt(n,t)||rmt(n,t)||amt()}function amt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rmt(n,t){if(n){if(typeof n=="string")return A6(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return A6(n,t)}}function A6(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function imt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function omt(n){if(Array.isArray(n))return n}var _g=I.forwardRef(function(n,t){var e=n.aspect,a=n.initialDimension,r=a===void 0?{width:-1,height:-1}:a,i=n.width,o=i===void 0?"100%":i,s=n.height,c=s===void 0?"100%":s,l=n.minWidth,u=l===void 0?0:l,h=n.minHeight,f=n.maxHeight,y=n.children,w=n.debounce,v=w===void 0?0:w,b=n.id,S=n.className,_=n.onResize,P=n.style,E=P===void 0?{}:P,C=I.useRef(null),T=I.useRef();T.current=_,I.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var B=I.useState({containerWidth:r.width,containerHeight:r.height}),L=nmt(B,2),M=L[0],U=L[1],F=I.useCallback(function($,H){U(function(X){var Q=Math.round($),W=Math.round(H);return X.containerWidth===Q&&X.containerHeight===W?X:{containerWidth:Q,containerHeight:W}})},[]);I.useEffect(function(){var $=function(tt){var nt,z=tt[0].contentRect,K=z.width,it=z.height;F(K,it),(nt=T.current)===null||nt===void 0||nt.call(T,K,it)};v>0&&($=fH($,v,{trailing:!0,leading:!1}));var H=new ResizeObserver($),X=C.current.getBoundingClientRect(),Q=X.width,W=X.height;return F(Q,W),H.observe(C.current),function(){H.disconnect()}},[F,v]);var G=I.useMemo(function(){var $=M.containerWidth,H=M.containerHeight;if($<0||H<0)return null;xc(au(o)||au(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),xc(!e||e>0,"The aspect(%s) must be greater than zero.",e);var X=au(o)?$:o,Q=au(c)?H:c;e&&e>0&&(X?Q=X/e:Q&&(X=Q*e),f&&Q>f&&(Q=f)),xc(X>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,Q,o,c,u,h,e);var W=!Array.isArray(y)&&gc(y.type).endsWith("Chart");return Y.Children.map(y,function(V){return Y.isValidElement(V)?I.cloneElement(V,Rb({width:X,height:Q},W?{style:Rb({height:"100%",width:"100%",maxHeight:Q,maxWidth:X},V.props.style)}:{})):V})},[e,y,c,f,h,u,M,o]);return Y.createElement("div",{id:b?"".concat(b):void 0,className:ce("recharts-responsive-container",S),style:Rb(Rb({},E),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:C},G)}),gH=function(t){return null};gH.displayName="Cell";function Px(n){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(n)}function S6(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function tD(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(e),!0).forEach(function(a){smt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):S6(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function smt(n,t,e){return t=cmt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cmt(n){var t=lmt(n,"string");return Px(t)=="symbol"?t:t+""}function lmt(n,t){if(Px(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Px(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var vh={widthCache:{},cacheCount:0},dmt=2e3,umt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_6="recharts_measurement_span";function mmt(n){var t=tD({},n);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}var nx=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Im.isSsr)return{width:0,height:0};var a=mmt(e),r=JSON.stringify({text:t,copyStyle:a});if(vh.widthCache[r])return vh.widthCache[r];try{var i=document.getElementById(_6);i||(i=document.createElement("span"),i.setAttribute("id",_6),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=tD(tD({},umt),a);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return vh.widthCache[r]=c,++vh.cacheCount>dmt&&(vh.cacheCount=0,vh.widthCache={}),c}catch{return{width:0,height:0}}},hmt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kx(n){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(n)}function gA(n,t){return xmt(n)||gmt(n,t)||fmt(n,t)||pmt()}function pmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fmt(n,t){if(n){if(typeof n=="string")return P6(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return P6(n,t)}}function P6(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function gmt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;c=!1}else for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function xmt(n){if(Array.isArray(n))return n}function ymt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function k6(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,bmt(a.key),a)}}function vmt(n,t,e){return t&&k6(n.prototype,t),e&&k6(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function bmt(n){var t=wmt(n,"string");return kx(t)=="symbol"?t:t+""}function wmt(n,t){if(kx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(kx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var C6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Amt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Smt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_mt=Object.keys(xH),Fh="NaN";function Pmt(n,t){return n*xH[t]}var Mb=function(){function n(t,e){ymt(this,n),this.num=t,this.unit=e,this.num=t,this.unit=e,Number.isNaN(t)&&(this.unit=""),e!==""&&!Amt.test(e)&&(this.num=NaN,this.unit=""),_mt.includes(e)&&(this.num=Pmt(t,e),this.unit="px")}return vmt(n,[{key:"add",value:function(e){return this.unit!==e.unit?new n(NaN,""):new n(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new n(NaN,""):new n(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new n(NaN,""):new n(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new n(NaN,""):new n(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(e){var a,r=(a=Smt.exec(e))!==null&&a!==void 0?a:[],i=gA(r,3),o=i[1],s=i[2];return new n(parseFloat(o),s??"")}}])}();function yH(n){if(n.includes(Fh))return Fh;for(var t=n;t.includes("*")||t.includes("/");){var e,a=(e=C6.exec(t))!==null&&e!==void 0?e:[],r=gA(a,4),i=r[1],o=r[2],s=r[3],c=Mb.parse(i??""),l=Mb.parse(s??""),u=o==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return Fh;t=t.replace(C6,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=E6.exec(t))!==null&&h!==void 0?h:[],y=gA(f,4),w=y[1],v=y[2],b=y[3],S=Mb.parse(w??""),_=Mb.parse(b??""),P=v==="+"?S.add(_):S.subtract(_);if(P.isNaN())return Fh;t=t.replace(E6,P.toString())}return t}var T6=/\(([^()]*)\)/;function kmt(n){for(var t=n;t.includes("(");){var e=T6.exec(t),a=gA(e,2),r=a[1];t=t.replace(T6,yH(r))}return t}function Cmt(n){var t=n.replace(/\s+/g,"");return t=kmt(t),t=yH(t),t}function Emt(n){try{return Cmt(n)}catch{return Fh}}function YC(n){var t=Emt(n.slice(5,-1));return t===Fh?"":t}var Tmt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dmt=["dx","dy","angle","className","breakAll"];function eD(){return eD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},eD.apply(this,arguments)}function D6(n,t){if(n==null)return{};var e=Nmt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Nmt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function N6(n,t){return Lmt(n)||Omt(n,t)||jmt(n,t)||Bmt()}function Bmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jmt(n,t){if(n){if(typeof n=="string")return B6(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return B6(n,t)}}function B6(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function Omt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;c=!1}else for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function Lmt(n){if(Array.isArray(n))return n}var vH=/[ \f\n\r\t\v\u2028\u2029]+/,bH=function(t){var e=t.children,a=t.breakAll,r=t.style;try{var i=[];ie(e)||(a?i=e.toString().split(""):i=e.toString().split(vH));var o=i.map(function(c){return{word:c,width:nx(c,r).width}}),s=a?0:nx("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Imt=function(t,e,a,r,i){var o=t.maxLines,s=t.children,c=t.style,l=t.breakAll,u=xt(o),h=s,f=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(Q,W){var V=W.word,tt=W.width,nt=Q[Q.length-1];if(nt&&(r==null||i||nt.width+tt+a<Number(r)))nt.words.push(V),nt.width+=tt+a;else{var z={words:[V],width:tt};Q.push(z)}return Q},[])},y=f(e),w=function(X){return X.reduce(function(Q,W){return Q.width>W.width?Q:W})};if(!u)return y;for(var v="",b=function(X){var Q=h.slice(0,X),W=bH({breakAll:l,style:c,children:Q+v}).wordsWithComputedWidth,V=f(W),tt=V.length>o||w(V).width>Number(r);return[tt,V]},S=0,_=h.length-1,P=0,E;S<=_&&P<=h.length-1;){var C=Math.floor((S+_)/2),T=C-1,B=b(T),L=N6(B,2),M=L[0],U=L[1],F=b(C),G=N6(F,1),$=G[0];if(!M&&!$&&(S=C+1),M&&$&&(_=C-1),!M&&$){E=U;break}P++}return E||y},j6=function(t){var e=ie(t)?[]:t.toString().split(vH);return[{words:e}]},Rmt=function(t){var e=t.width,a=t.scaleToFit,r=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((e||a)&&!Im.isSsr){var c,l,u=bH({breakAll:o,children:r,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,l=f}else return j6(r);return Imt({breakAll:o,children:r,maxLines:s,style:i},c,l,e,a)}return j6(r)},O6="#808080",xA=function(t){var e=t.x,a=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,l=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,f=t.textAnchor,y=f===void 0?"start":f,w=t.verticalAnchor,v=w===void 0?"end":w,b=t.fill,S=b===void 0?O6:b,_=D6(t,Tmt),P=I.useMemo(function(){return Rmt({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),E=_.dx,C=_.dy,T=_.angle,B=_.className,L=_.breakAll,M=D6(_,Dmt);if(!$n(a)||!$n(i))return null;var U=a+(xt(E)?E:0),F=i+(xt(C)?C:0),G;switch(v){case"start":G=YC("calc(".concat(l,")"));break;case"middle":G=YC("calc(".concat((P.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:G=YC("calc(".concat(P.length-1," * -").concat(s,")"));break}var $=[];if(h){var H=P[0].width,X=_.width;$.push("scale(".concat((xt(X)?X/H:1)/H,")"))}return T&&$.push("rotate(".concat(T,", ").concat(U,", ").concat(F,")")),$.length&&(M.transform=$.join(" ")),Y.createElement("text",eD({},Jt(M,!0),{x:U,y:F,className:ce("recharts-text",B),textAnchor:y,fill:S.includes("url")?O6:S}),P.map(function(Q,W){var V=Q.words.join(L?"":" ");return Y.createElement("tspan",{x:U,dy:W===0?G:s,key:"".concat(V,"-").concat(W)},V)}))};function sd(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Mmt(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Hj(n){let t,e,a;n.length!==2?(t=sd,e=(s,c)=>sd(n(s),c),a=(s,c)=>n(s)-c):(t=n===sd||n===Mmt?n:Fmt,e=n,a=n);function r(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const h=l+u>>>1;e(s[h],c)<0?l=h+1:u=h}while(l<u)}return l}function i(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const h=l+u>>>1;e(s[h],c)<=0?l=h+1:u=h}while(l<u)}return l}function o(s,c,l=0,u=s.length){const h=r(s,c,l,u-1);return h>l&&a(s[h-1],c)>-a(s[h],c)?h-1:h}return{left:r,center:o,right:i}}function Fmt(){return 0}function wH(n){return n===null?NaN:+n}function*$mt(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const Gmt=Hj(sd),Jy=Gmt.right;Hj(wH).center;class L6 extends Map{constructor(t,e=qmt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[a,r]of t)this.set(a,r)}get(t){return super.get(I6(this,t))}has(t){return super.has(I6(this,t))}set(t,e){return super.set(Umt(this,t),e)}delete(t){return super.delete(zmt(this,t))}}function I6({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):e}function Umt({_intern:n,_key:t},e){const a=t(e);return n.has(a)?n.get(a):(n.set(a,e),e)}function zmt({_intern:n,_key:t},e){const a=t(e);return n.has(a)&&(e=n.get(a),n.delete(a)),e}function qmt(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Hmt(n=sd){if(n===sd)return AH;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const a=n(t,e);return a||a===0?a:(n(e,e)===0)-(n(t,t)===0)}}function AH(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const Vmt=Math.sqrt(50),Wmt=Math.sqrt(10),Kmt=Math.sqrt(2);function yA(n,t,e){const a=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(a)),i=a/Math.pow(10,r),o=i>=Vmt?10:i>=Wmt?5:i>=Kmt?2:1;let s,c,l;return r<0?(l=Math.pow(10,-r)/o,s=Math.round(n*l),c=Math.round(t*l),s/l<n&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,r)*o,s=Math.round(n/l),c=Math.round(t/l),s*l<n&&++s,c*l>t&&--c),c<s&&.5<=e&&e<2?yA(n,t,e*2):[s,c,l]}function nD(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const a=t<n,[r,i,o]=a?yA(t,n,e):yA(n,t,e);if(!(i>=r))return[];const s=i-r+1,c=new Array(s);if(a)if(o<0)for(let l=0;l<s;++l)c[l]=(i-l)/-o;else for(let l=0;l<s;++l)c[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(r+l)/-o;else for(let l=0;l<s;++l)c[l]=(r+l)*o;return c}function aD(n,t,e){return t=+t,n=+n,e=+e,yA(n,t,e)[2]}function rD(n,t,e){t=+t,n=+n,e=+e;const a=t<n,r=a?aD(t,n,e):aD(n,t,e);return(a?-1:1)*(r<0?1/-r:r)}function R6(n,t){let e;for(const a of n)a!=null&&(e<a||e===void 0&&a>=a)&&(e=a);return e}function M6(n,t){let e;for(const a of n)a!=null&&(e>a||e===void 0&&a>=a)&&(e=a);return e}function SH(n,t,e=0,a=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),a=Math.floor(Math.min(n.length-1,a)),!(e<=t&&t<=a))return n;for(r=r===void 0?AH:Hmt(r);a>e;){if(a-e>600){const c=a-e+1,l=t-e+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(l-c/2<0?-1:1),y=Math.max(e,Math.floor(t-l*h/c+f)),w=Math.min(a,Math.floor(t+(c-l)*h/c+f));SH(n,t,y,w,r)}const i=n[t];let o=e,s=a;for(cg(n,e,t),r(n[a],i)>0&&cg(n,e,a);o<s;){for(cg(n,o,s),++o,--s;r(n[o],i)<0;)++o;for(;r(n[s],i)>0;)--s}r(n[e],i)===0?cg(n,e,s):(++s,cg(n,s,a)),s<=t&&(e=s+1),t<=s&&(a=s-1)}return n}function cg(n,t,e){const a=n[t];n[t]=n[e],n[e]=a}function Xmt(n,t,e){if(n=Float64Array.from($mt(n)),!(!(a=n.length)||isNaN(t=+t))){if(t<=0||a<2)return M6(n);if(t>=1)return R6(n);var a,r=(a-1)*t,i=Math.floor(r),o=R6(SH(n,i).subarray(0,i+1)),s=M6(n.subarray(i+1));return o+(s-o)*(r-i)}}function Ymt(n,t,e=wH){if(!(!(a=n.length)||isNaN(t=+t))){if(t<=0||a<2)return+e(n[0],0,n);if(t>=1)return+e(n[a-1],a-1,n);var a,r=(a-1)*t,i=Math.floor(r),o=+e(n[i],i,n),s=+e(n[i+1],i+1,n);return o+(s-o)*(r-i)}}function Qmt(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var a=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,i=new Array(r);++a<r;)i[a]=n+a*e;return i}function Bi(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Oc(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iD=Symbol("implicit");function Vj(){var n=new L6,t=[],e=[],a=iD;function r(i){let o=n.get(i);if(o===void 0){if(a!==iD)return a;n.set(i,o=t.push(i)-1)}return e[o%e.length]}return r.domain=function(i){if(!arguments.length)return t.slice();t=[],n=new L6;for(const o of i)n.has(o)||n.set(o,t.push(o)-1);return r},r.range=function(i){return arguments.length?(e=Array.from(i),r):e.slice()},r.unknown=function(i){return arguments.length?(a=i,r):a},r.copy=function(){return Vj(t,e).unknown(a)},Bi.apply(r,arguments),r}function Cx(){var n=Vj().unknown(void 0),t=n.domain,e=n.range,a=0,r=1,i,o,s=!1,c=0,l=0,u=.5;delete n.unknown;function h(){var f=t().length,y=r<a,w=y?r:a,v=y?a:r;i=(v-w)/Math.max(1,f-c+l*2),s&&(i=Math.floor(i)),w+=(v-w-i*(f-c))*u,o=i*(1-c),s&&(w=Math.round(w),o=Math.round(o));var b=Qmt(f).map(function(S){return w+i*S});return e(y?b.reverse():b)}return n.domain=function(f){return arguments.length?(t(f),h()):t()},n.range=function(f){return arguments.length?([a,r]=f,a=+a,r=+r,h()):[a,r]},n.rangeRound=function(f){return[a,r]=f,a=+a,r=+r,s=!0,h()},n.bandwidth=function(){return o},n.step=function(){return i},n.round=function(f){return arguments.length?(s=!!f,h()):s},n.padding=function(f){return arguments.length?(c=Math.min(1,l=+f),h()):c},n.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},n.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},n.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},n.copy=function(){return Cx(t(),[a,r]).round(s).paddingInner(c).paddingOuter(l).align(u)},Bi.apply(h(),arguments)}function _H(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return _H(t())},n}function ax(){return _H(Cx.apply(null,arguments).paddingInner(1))}function Wj(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function PH(n,t){var e=Object.create(n.prototype);for(var a in t)e[a]=t[a];return e}function Zy(){}var Ex=.7,vA=1/Ex,Qh="\\s*([+-]?\\d+)\\s*",Tx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jmt=/^#([0-9a-f]{3,8})$/,Zmt=new RegExp(`^rgb\\(${Qh},${Qh},${Qh}\\)$`),tht=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),eht=new RegExp(`^rgba\\(${Qh},${Qh},${Qh},${Tx}\\)$`),nht=new RegExp(`^rgba\\(${ss},${ss},${ss},${Tx}\\)$`),aht=new RegExp(`^hsl\\(${Tx},${ss},${ss}\\)$`),rht=new RegExp(`^hsla\\(${Tx},${ss},${ss},${Tx}\\)$`),F6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wj(Zy,Dx,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:$6,formatHex:$6,formatHex8:iht,formatHsl:oht,formatRgb:G6,toString:G6});function $6(){return this.rgb().formatHex()}function iht(){return this.rgb().formatHex8()}function oht(){return kH(this).formatHsl()}function G6(){return this.rgb().formatRgb()}function Dx(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=Jmt.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?U6(t):e===3?new vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Fb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Fb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zmt.exec(n))?new vr(t[1],t[2],t[3],1):(t=tht.exec(n))?new vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eht.exec(n))?Fb(t[1],t[2],t[3],t[4]):(t=nht.exec(n))?Fb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aht.exec(n))?H6(t[1],t[2]/100,t[3]/100,1):(t=rht.exec(n))?H6(t[1],t[2]/100,t[3]/100,t[4]):F6.hasOwnProperty(n)?U6(F6[n]):n==="transparent"?new vr(NaN,NaN,NaN,0):null}function U6(n){return new vr(n>>16&255,n>>8&255,n&255,1)}function Fb(n,t,e,a){return a<=0&&(n=t=e=NaN),new vr(n,t,e,a)}function sht(n){return n instanceof Zy||(n=Dx(n)),n?(n=n.rgb(),new vr(n.r,n.g,n.b,n.opacity)):new vr}function oD(n,t,e,a){return arguments.length===1?sht(n):new vr(n,t,e,a??1)}function vr(n,t,e,a){this.r=+n,this.g=+t,this.b=+e,this.opacity=+a}Wj(vr,oD,PH(Zy,{brighter(n){return n=n==null?vA:Math.pow(vA,n),new vr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ex:Math.pow(Ex,n),new vr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new vr(Sm(this.r),Sm(this.g),Sm(this.b),bA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z6,formatHex:z6,formatHex8:cht,formatRgb:q6,toString:q6}));function z6(){return`#${ru(this.r)}${ru(this.g)}${ru(this.b)}`}function cht(){return`#${ru(this.r)}${ru(this.g)}${ru(this.b)}${ru((isNaN(this.opacity)?1:this.opacity)*255)}`}function q6(){const n=bA(this.opacity);return`${n===1?"rgb(":"rgba("}${Sm(this.r)}, ${Sm(this.g)}, ${Sm(this.b)}${n===1?")":`, ${n})`}`}function bA(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Sm(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ru(n){return n=Sm(n),(n<16?"0":"")+n.toString(16)}function H6(n,t,e,a){return a<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new uo(n,t,e,a)}function kH(n){if(n instanceof uo)return new uo(n.h,n.s,n.l,n.opacity);if(n instanceof Zy||(n=Dx(n)),!n)return new uo;if(n instanceof uo)return n;n=n.rgb();var t=n.r/255,e=n.g/255,a=n.b/255,r=Math.min(t,e,a),i=Math.max(t,e,a),o=NaN,s=i-r,c=(i+r)/2;return s?(t===i?o=(e-a)/s+(e<a)*6:e===i?o=(a-t)/s+2:o=(t-e)/s+4,s/=c<.5?i+r:2-i-r,o*=60):s=c>0&&c<1?0:o,new uo(o,s,c,n.opacity)}function lht(n,t,e,a){return arguments.length===1?kH(n):new uo(n,t,e,a??1)}function uo(n,t,e,a){this.h=+n,this.s=+t,this.l=+e,this.opacity=+a}Wj(uo,lht,PH(Zy,{brighter(n){return n=n==null?vA:Math.pow(vA,n),new uo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ex:Math.pow(Ex,n),new uo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,a=e+(e<.5?e:1-e)*t,r=2*e-a;return new vr(QC(n>=240?n-240:n+120,r,a),QC(n,r,a),QC(n<120?n+240:n-120,r,a),this.opacity)},clamp(){return new uo(V6(this.h),$b(this.s),$b(this.l),bA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=bA(this.opacity);return`${n===1?"hsl(":"hsla("}${V6(this.h)}, ${$b(this.s)*100}%, ${$b(this.l)*100}%${n===1?")":`, ${n})`}`}}));function V6(n){return n=(n||0)%360,n<0?n+360:n}function $b(n){return Math.max(0,Math.min(1,n||0))}function QC(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Kj=n=>()=>n;function dht(n,t){return function(e){return n+e*t}}function uht(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(a){return Math.pow(n+a*t,e)}}function mht(n){return(n=+n)==1?CH:function(t,e){return e-t?uht(t,e,n):Kj(isNaN(t)?e:t)}}function CH(n,t){var e=t-n;return e?dht(n,e):Kj(isNaN(n)?t:n)}const W6=function n(t){var e=mht(t);function a(r,i){var o=e((r=oD(r)).r,(i=oD(i)).r),s=e(r.g,i.g),c=e(r.b,i.b),l=CH(r.opacity,i.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=c(u),r.opacity=l(u),r+""}}return a.gamma=n,a}(1);function hht(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,a=t.slice(),r;return function(i){for(r=0;r<e;++r)a[r]=n[r]*(1-i)+t[r]*i;return a}}function pht(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function fht(n,t){var e=t?t.length:0,a=n?Math.min(e,n.length):0,r=new Array(a),i=new Array(e),o;for(o=0;o<a;++o)r[o]=f2(n[o],t[o]);for(;o<e;++o)i[o]=t[o];return function(s){for(o=0;o<a;++o)i[o]=r[o](s);return i}}function ght(n,t){var e=new Date;return n=+n,t=+t,function(a){return e.setTime(n*(1-a)+t*a),e}}function wA(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function xht(n,t){var e={},a={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=f2(n[r],t[r]):a[r]=t[r];return function(i){for(r in e)a[r]=e[r](i);return a}}var sD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JC=new RegExp(sD.source,"g");function yht(n){return function(){return n}}function vht(n){return function(t){return n(t)+""}}function bht(n,t){var e=sD.lastIndex=JC.lastIndex=0,a,r,i,o=-1,s=[],c=[];for(n=n+"",t=t+"";(a=sD.exec(n))&&(r=JC.exec(t));)(i=r.index)>e&&(i=t.slice(e,i),s[o]?s[o]+=i:s[++o]=i),(a=a[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:wA(a,r)})),e=JC.lastIndex;return e<t.length&&(i=t.slice(e),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?vht(c[0].x):yht(t):(t=c.length,function(l){for(var u=0,h;u<t;++u)s[(h=c[u]).i]=h.x(l);return s.join("")})}function f2(n,t){var e=typeof t,a;return t==null||e==="boolean"?Kj(t):(e==="number"?wA:e==="string"?(a=Dx(t))?(t=a,W6):bht:t instanceof Dx?W6:t instanceof Date?ght:pht(t)?hht:Array.isArray(t)?fht:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xht:wA)(n,t)}function Xj(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function wht(n,t){t===void 0&&(t=n,n=f2);for(var e=0,a=t.length-1,r=t[0],i=new Array(a<0?0:a);e<a;)i[e]=n(r,r=t[++e]);return function(o){var s=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[s](o-s)}}function Aht(n){return function(){return n}}function AA(n){return+n}var K6=[0,1];function Ka(n){return n}function cD(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Aht(isNaN(t)?NaN:.5)}function Sht(n,t){var e;return n>t&&(e=n,n=t,t=e),function(a){return Math.max(n,Math.min(t,a))}}function _ht(n,t,e){var a=n[0],r=n[1],i=t[0],o=t[1];return r<a?(a=cD(r,a),i=e(o,i)):(a=cD(a,r),i=e(i,o)),function(s){return i(a(s))}}function Pht(n,t,e){var a=Math.min(n.length,t.length)-1,r=new Array(a),i=new Array(a),o=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<a;)r[o]=cD(n[o],n[o+1]),i[o]=e(t[o],t[o+1]);return function(s){var c=Jy(n,s,1,a)-1;return i[c](r[c](s))}}function tv(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function eS(){var n=K6,t=K6,e=f2,a,r,i,o=Ka,s,c,l;function u(){var f=Math.min(n.length,t.length);return o!==Ka&&(o=Sht(n[0],n[f-1])),s=f>2?Pht:_ht,c=l=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=s(n.map(a),t,e)))(a(o(f)))}return h.invert=function(f){return o(r((l||(l=s(t,n.map(a),wA)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,AA),u()):n.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),e=Xj,u()},h.clamp=function(f){return arguments.length?(o=f?!0:Ka,u()):o!==Ka},h.interpolate=function(f){return arguments.length?(e=f,u()):e},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,y){return a=f,r=y,u()}}function Yj(){return eS()(Ka,Ka)}function kht(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function SA(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,a=n.slice(0,e);return[a.length>1?a[0]+a.slice(2):a,+n.slice(e+1)]}function If(n){return n=SA(Math.abs(n)),n?n[1]:NaN}function Cht(n,t){return function(e,a){for(var r=e.length,i=[],o=0,s=n[0],c=0;r>0&&s>0&&(c+s+1>a&&(s=Math.max(1,a-c)),i.push(e.substring(r-=s,r+s)),!((c+=s+1)>a));)s=n[o=(o+1)%n.length];return i.reverse().join(t)}}function Eht(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Tht=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nx(n){if(!(t=Tht.exec(n)))throw new Error("invalid format: "+n);var t;return new Qj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nx.prototype=Qj.prototype;function Qj(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Qj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dht(n){t:for(var t=n.length,e=1,a=-1,r;e<t;++e)switch(n[e]){case".":a=r=e;break;case"0":a===0&&(a=e),r=e;break;default:if(!+n[e])break t;a>0&&(a=0);break}return a>0?n.slice(0,a)+n.slice(r+1):n}var EH;function Nht(n,t){var e=SA(n,t);if(!e)return n+"";var a=e[0],r=e[1],i=r-(EH=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+SA(n,Math.max(0,t+i-1))[0]}function X6(n,t){var e=SA(n,t);if(!e)return n+"";var a=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}const Y6={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:kht,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>X6(n*100,t),r:X6,s:Nht,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Q6(n){return n}var J6=Array.prototype.map,Z6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bht(n){var t=n.grouping===void 0||n.thousands===void 0?Q6:Cht(J6.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",a=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",i=n.numerals===void 0?Q6:Eht(J6.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function l(h){h=Nx(h);var f=h.fill,y=h.align,w=h.sign,v=h.symbol,b=h.zero,S=h.width,_=h.comma,P=h.precision,E=h.trim,C=h.type;C==="n"?(_=!0,C="g"):Y6[C]||(P===void 0&&(P=12),E=!0,C="g"),(b||f==="0"&&y==="=")&&(b=!0,f="0",y="=");var T=v==="$"?e:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",B=v==="$"?a:/[%p]/.test(C)?o:"",L=Y6[C],M=/[defgprs%]/.test(C);P=P===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function U(F){var G=T,$=B,H,X,Q;if(C==="c")$=L(F)+$,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?c:L(Math.abs(F),P),E&&(F=Dht(F)),W&&+F==0&&w!=="+"&&(W=!1),G=(W?w==="("?w:s:w==="-"||w==="("?"":w)+G,$=(C==="s"?Z6[8+EH/3]:"")+$+(W&&w==="("?")":""),M){for(H=-1,X=F.length;++H<X;)if(Q=F.charCodeAt(H),48>Q||Q>57){$=(Q===46?r+F.slice(H+1):F.slice(H))+$,F=F.slice(0,H);break}}}_&&!b&&(F=t(F,1/0));var V=G.length+F.length+$.length,tt=V<S?new Array(S-V+1).join(f):"";switch(_&&b&&(F=t(tt+F,tt.length?S-$.length:1/0),tt=""),y){case"<":F=G+F+$+tt;break;case"=":F=G+tt+F+$;break;case"^":F=tt.slice(0,V=tt.length>>1)+G+F+$+tt.slice(V);break;default:F=tt+G+F+$;break}return i(F)}return U.toString=function(){return h+""},U}function u(h,f){var y=l((h=Nx(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(If(f)/3)))*3,v=Math.pow(10,-w),b=Z6[8+w/3];return function(S){return y(v*S)+b}}return{format:l,formatPrefix:u}}var Gb,Jj,TH;jht({thousands:",",grouping:[3],currency:["$",""]});function jht(n){return Gb=Bht(n),Jj=Gb.format,TH=Gb.formatPrefix,Gb}function Oht(n){return Math.max(0,-If(Math.abs(n)))}function Lht(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(If(t)/3)))*3-If(Math.abs(n)))}function Iht(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,If(t)-If(n))+1}function DH(n,t,e,a){var r=rD(n,t,e),i;switch(a=Nx(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return a.precision==null&&!isNaN(i=Lht(r,o))&&(a.precision=i),TH(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Iht(r,Math.max(Math.abs(n),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Oht(r))&&(a.precision=i-(a.type==="%")*2);break}}return Jj(a)}function wd(n){var t=n.domain;return n.ticks=function(e){var a=t();return nD(a[0],a[a.length-1],e??10)},n.tickFormat=function(e,a){var r=t();return DH(r[0],r[r.length-1],e??10,a)},n.nice=function(e){e==null&&(e=10);var a=t(),r=0,i=a.length-1,o=a[r],s=a[i],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=r,r=i,i=l);u-- >0;){if(l=aD(o,s,e),l===c)return a[r]=o,a[i]=s,t(a);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return n},n}function _A(){var n=Yj();return n.copy=function(){return tv(n,_A())},Bi.apply(n,arguments),wd(n)}function NH(n){var t;function e(a){return a==null||isNaN(a=+a)?t:a}return e.invert=e,e.domain=e.range=function(a){return arguments.length?(n=Array.from(a,AA),e):n.slice()},e.unknown=function(a){return arguments.length?(t=a,e):t},e.copy=function(){return NH(n).unknown(t)},n=arguments.length?Array.from(n,AA):[0,1],wd(e)}function BH(n,t){n=n.slice();var e=0,a=n.length-1,r=n[e],i=n[a],o;return i<r&&(o=e,e=a,a=o,o=r,r=i,i=o),n[e]=t.floor(r),n[a]=t.ceil(i),n}function t$(n){return Math.log(n)}function e$(n){return Math.exp(n)}function Rht(n){return-Math.log(-n)}function Mht(n){return-Math.exp(-n)}function Fht(n){return isFinite(n)?+("1e"+n):n<0?0:n}function $ht(n){return n===10?Fht:n===Math.E?Math.exp:t=>Math.pow(n,t)}function Ght(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function n$(n){return(t,e)=>-n(-t,e)}function Zj(n){const t=n(t$,e$),e=t.domain;let a=10,r,i;function o(){return r=Ght(a),i=$ht(a),e()[0]<0?(r=n$(r),i=n$(i),n(Rht,Mht)):n(t$,e$),t}return t.base=function(s){return arguments.length?(a=+s,o()):a},t.domain=function(s){return arguments.length?(e(s),o()):e()},t.ticks=s=>{const c=e();let l=c[0],u=c[c.length-1];const h=u<l;h&&([l,u]=[u,l]);let f=r(l),y=r(u),w,v;const b=s==null?10:+s;let S=[];if(!(a%1)&&y-f<b){if(f=Math.floor(f),y=Math.ceil(y),l>0){for(;f<=y;++f)for(w=1;w<a;++w)if(v=f<0?w/i(-f):w*i(f),!(v<l)){if(v>u)break;S.push(v)}}else for(;f<=y;++f)for(w=a-1;w>=1;--w)if(v=f>0?w/i(-f):w*i(f),!(v<l)){if(v>u)break;S.push(v)}S.length*2<b&&(S=nD(l,u,b))}else S=nD(f,y,Math.min(y-f,b)).map(i);return h?S.reverse():S},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Nx(c)).precision==null&&(c.trim=!0),c=Jj(c)),s===1/0)return c;const l=Math.max(1,a*s/t.ticks().length);return u=>{let h=u/i(Math.round(r(u)));return h*a<a-.5&&(h*=a),h<=l?c(u):""}},t.nice=()=>e(BH(e(),{floor:s=>i(Math.floor(r(s))),ceil:s=>i(Math.ceil(r(s)))})),t}function jH(){const n=Zj(eS()).domain([1,10]);return n.copy=()=>tv(n,jH()).base(n.base()),Bi.apply(n,arguments),n}function a$(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function r$(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function tO(n){var t=1,e=n(a$(t),r$(t));return e.constant=function(a){return arguments.length?n(a$(t=+a),r$(t)):t},wd(e)}function OH(){var n=tO(eS());return n.copy=function(){return tv(n,OH()).constant(n.constant())},Bi.apply(n,arguments)}function i$(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Uht(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function zht(n){return n<0?-n*n:n*n}function eO(n){var t=n(Ka,Ka),e=1;function a(){return e===1?n(Ka,Ka):e===.5?n(Uht,zht):n(i$(e),i$(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,a()):e},wd(t)}function nO(){var n=eO(eS());return n.copy=function(){return tv(n,nO()).exponent(n.exponent())},Bi.apply(n,arguments),n}function qht(){return nO.apply(null,arguments).exponent(.5)}function o$(n){return Math.sign(n)*n*n}function Hht(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function LH(){var n=Yj(),t=[0,1],e=!1,a;function r(i){var o=Hht(n(i));return isNaN(o)?a:e?Math.round(o):o}return r.invert=function(i){return n.invert(o$(i))},r.domain=function(i){return arguments.length?(n.domain(i),r):n.domain()},r.range=function(i){return arguments.length?(n.range((t=Array.from(i,AA)).map(o$)),r):t.slice()},r.rangeRound=function(i){return r.range(i).round(!0)},r.round=function(i){return arguments.length?(e=!!i,r):e},r.clamp=function(i){return arguments.length?(n.clamp(i),r):n.clamp()},r.unknown=function(i){return arguments.length?(a=i,r):a},r.copy=function(){return LH(n.domain(),t).round(e).clamp(n.clamp()).unknown(a)},Bi.apply(r,arguments),wd(r)}function IH(){var n=[],t=[],e=[],a;function r(){var o=0,s=Math.max(1,t.length);for(e=new Array(s-1);++o<s;)e[o-1]=Ymt(n,o/s);return i}function i(o){return o==null||isNaN(o=+o)?a:t[Jy(e,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?e[s-1]:n[0],s<e.length?e[s]:n[n.length-1]]},i.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let s of o)s!=null&&!isNaN(s=+s)&&n.push(s);return n.sort(sd),r()},i.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return e.slice()},i.copy=function(){return IH().domain(n).range(t).unknown(a)},Bi.apply(i,arguments)}function RH(){var n=0,t=1,e=1,a=[.5],r=[0,1],i;function o(c){return c!=null&&c<=c?r[Jy(a,c,0,e)]:i}function s(){var c=-1;for(a=new Array(e);++c<e;)a[c]=((c+1)*t-(c-e)*n)/(e+1);return o}return o.domain=function(c){return arguments.length?([n,t]=c,n=+n,t=+t,s()):[n,t]},o.range=function(c){return arguments.length?(e=(r=Array.from(c)).length-1,s()):r.slice()},o.invertExtent=function(c){var l=r.indexOf(c);return l<0?[NaN,NaN]:l<1?[n,a[0]]:l>=e?[a[e-1],t]:[a[l-1],a[l]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return RH().domain([n,t]).range(r).unknown(i)},Bi.apply(wd(o),arguments)}function MH(){var n=[.5],t=[0,1],e,a=1;function r(i){return i!=null&&i<=i?t[Jy(n,i,0,a)]:e}return r.domain=function(i){return arguments.length?(n=Array.from(i),a=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(i){var o=t.indexOf(i);return[n[o-1],n[o]]},r.unknown=function(i){return arguments.length?(e=i,r):e},r.copy=function(){return MH().domain(n).range(t).unknown(e)},Bi.apply(r,arguments)}const ZC=new Date,tE=new Date;function zn(n,t,e,a){function r(i){return n(i=arguments.length===0?new Date:new Date(+i)),i}return r.floor=i=>(n(i=new Date(+i)),i),r.ceil=i=>(n(i=new Date(i-1)),t(i,1),n(i),i),r.round=i=>{const o=r(i),s=r.ceil(i);return i-o<s-i?o:s},r.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),r.range=(i,o,s)=>{const c=[];if(i=r.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let l;do c.push(l=new Date(+i)),t(i,s),n(i);while(l<i&&i<o);return c},r.filter=i=>zn(o=>{if(o>=o)for(;n(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),e&&(r.count=(i,o)=>(ZC.setTime(+i),tE.setTime(+o),n(ZC),n(tE),Math.floor(e(ZC,tE))),r.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?r.filter(a?o=>a(o)%i===0:o=>r.count(0,o)%i===0):r)),r}const PA=zn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);PA.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?zn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):PA);PA.range;const hc=1e3,Pi=hc*60,pc=Pi*60,Cc=pc*24,aO=Cc*7,s$=Cc*30,eE=Cc*365,iu=zn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*hc)},(n,t)=>(t-n)/hc,n=>n.getUTCSeconds());iu.range;const rO=zn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*hc)},(n,t)=>{n.setTime(+n+t*Pi)},(n,t)=>(t-n)/Pi,n=>n.getMinutes());rO.range;const iO=zn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Pi)},(n,t)=>(t-n)/Pi,n=>n.getUTCMinutes());iO.range;const oO=zn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*hc-n.getMinutes()*Pi)},(n,t)=>{n.setTime(+n+t*pc)},(n,t)=>(t-n)/pc,n=>n.getHours());oO.range;const sO=zn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*pc)},(n,t)=>(t-n)/pc,n=>n.getUTCHours());sO.range;const ev=zn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Pi)/Cc,n=>n.getDate()-1);ev.range;const nS=zn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Cc,n=>n.getUTCDate()-1);nS.range;const FH=zn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Cc,n=>Math.floor(n/Cc));FH.range;function Rm(n){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/aO)}const aS=Rm(0),kA=Rm(1),Vht=Rm(2),Wht=Rm(3),Rf=Rm(4),Kht=Rm(5),Xht=Rm(6);aS.range;kA.range;Vht.range;Wht.range;Rf.range;Kht.range;Xht.range;function Mm(n){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/aO)}const rS=Mm(0),CA=Mm(1),Yht=Mm(2),Qht=Mm(3),Mf=Mm(4),Jht=Mm(5),Zht=Mm(6);rS.range;CA.range;Yht.range;Qht.range;Mf.range;Jht.range;Zht.range;const cO=zn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());cO.range;const lO=zn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());lO.range;const Ec=zn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Ec.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Ec.range;const Tc=zn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Tc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Tc.range;function $H(n,t,e,a,r,i){const o=[[iu,1,hc],[iu,5,5*hc],[iu,15,15*hc],[iu,30,30*hc],[i,1,Pi],[i,5,5*Pi],[i,15,15*Pi],[i,30,30*Pi],[r,1,pc],[r,3,3*pc],[r,6,6*pc],[r,12,12*pc],[a,1,Cc],[a,2,2*Cc],[e,1,aO],[t,1,s$],[t,3,3*s$],[n,1,eE]];function s(l,u,h){const f=u<l;f&&([l,u]=[u,l]);const y=h&&typeof h.range=="function"?h:c(l,u,h),w=y?y.range(l,+u+1):[];return f?w.reverse():w}function c(l,u,h){const f=Math.abs(u-l)/h,y=Hj(([,,b])=>b).right(o,f);if(y===o.length)return n.every(rD(l/eE,u/eE,h));if(y===0)return PA.every(Math.max(rD(l,u,h),1));const[w,v]=o[f/o[y-1][2]<o[y][2]/f?y-1:y];return w.every(v)}return[s,c]}const[tpt,ept]=$H(Tc,lO,rS,FH,sO,iO),[npt,apt]=$H(Ec,cO,aS,ev,oO,rO);function nE(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function aE(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function lg(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function rpt(n){var t=n.dateTime,e=n.date,a=n.time,r=n.periods,i=n.days,o=n.shortDays,s=n.months,c=n.shortMonths,l=dg(r),u=ug(r),h=dg(i),f=ug(i),y=dg(o),w=ug(o),v=dg(s),b=ug(s),S=dg(c),_=ug(c),P={a:W,A:V,b:tt,B:nt,c:null,d:h$,e:h$,f:Cpt,g:Rpt,G:Fpt,H:_pt,I:Ppt,j:kpt,L:GH,m:Ept,M:Tpt,p:z,q:K,Q:g$,s:x$,S:Dpt,u:Npt,U:Bpt,V:jpt,w:Opt,W:Lpt,x:null,X:null,y:Ipt,Y:Mpt,Z:$pt,"%":f$},E={a:it,A:ft,b:ct,B:yt,c:null,d:p$,e:p$,f:qpt,g:tft,G:nft,H:Gpt,I:Upt,j:zpt,L:zH,m:Hpt,M:Vpt,p:bt,q:Gt,Q:g$,s:x$,S:Wpt,u:Kpt,U:Xpt,V:Ypt,w:Qpt,W:Jpt,x:null,X:null,y:Zpt,Y:eft,Z:aft,"%":f$},C={a:U,A:F,b:G,B:$,c:H,d:u$,e:u$,f:bpt,g:d$,G:l$,H:m$,I:m$,j:gpt,L:vpt,m:fpt,M:xpt,p:M,q:ppt,Q:Apt,s:Spt,S:ypt,u:lpt,U:dpt,V:upt,w:cpt,W:mpt,x:X,X:Q,y:d$,Y:l$,Z:hpt,"%":wpt};P.x=T(e,P),P.X=T(a,P),P.c=T(t,P),E.x=T(e,E),E.X=T(a,E),E.c=T(t,E);function T(ut,Et){return function(Rt){var lt=[],fe=-1,ne=0,rn=ut.length,on,qn,ji;for(Rt instanceof Date||(Rt=new Date(+Rt));++fe<rn;)ut.charCodeAt(fe)===37&&(lt.push(ut.slice(ne,fe)),(qn=c$[on=ut.charAt(++fe)])!=null?on=ut.charAt(++fe):qn=on==="e"?" ":"0",(ji=Et[on])&&(on=ji(Rt,qn)),lt.push(on),ne=fe+1);return lt.push(ut.slice(ne,fe)),lt.join("")}}function B(ut,Et){return function(Rt){var lt=lg(1900,void 0,1),fe=L(lt,ut,Rt+="",0),ne,rn;if(fe!=Rt.length)return null;if("Q"in lt)return new Date(lt.Q);if("s"in lt)return new Date(lt.s*1e3+("L"in lt?lt.L:0));if(Et&&!("Z"in lt)&&(lt.Z=0),"p"in lt&&(lt.H=lt.H%12+lt.p*12),lt.m===void 0&&(lt.m="q"in lt?lt.q:0),"V"in lt){if(lt.V<1||lt.V>53)return null;"w"in lt||(lt.w=1),"Z"in lt?(ne=aE(lg(lt.y,0,1)),rn=ne.getUTCDay(),ne=rn>4||rn===0?CA.ceil(ne):CA(ne),ne=nS.offset(ne,(lt.V-1)*7),lt.y=ne.getUTCFullYear(),lt.m=ne.getUTCMonth(),lt.d=ne.getUTCDate()+(lt.w+6)%7):(ne=nE(lg(lt.y,0,1)),rn=ne.getDay(),ne=rn>4||rn===0?kA.ceil(ne):kA(ne),ne=ev.offset(ne,(lt.V-1)*7),lt.y=ne.getFullYear(),lt.m=ne.getMonth(),lt.d=ne.getDate()+(lt.w+6)%7)}else("W"in lt||"U"in lt)&&("w"in lt||(lt.w="u"in lt?lt.u%7:"W"in lt?1:0),rn="Z"in lt?aE(lg(lt.y,0,1)).getUTCDay():nE(lg(lt.y,0,1)).getDay(),lt.m=0,lt.d="W"in lt?(lt.w+6)%7+lt.W*7-(rn+5)%7:lt.w+lt.U*7-(rn+6)%7);return"Z"in lt?(lt.H+=lt.Z/100|0,lt.M+=lt.Z%100,aE(lt)):nE(lt)}}function L(ut,Et,Rt,lt){for(var fe=0,ne=Et.length,rn=Rt.length,on,qn;fe<ne;){if(lt>=rn)return-1;if(on=Et.charCodeAt(fe++),on===37){if(on=Et.charAt(fe++),qn=C[on in c$?Et.charAt(fe++):on],!qn||(lt=qn(ut,Rt,lt))<0)return-1}else if(on!=Rt.charCodeAt(lt++))return-1}return lt}function M(ut,Et,Rt){var lt=l.exec(Et.slice(Rt));return lt?(ut.p=u.get(lt[0].toLowerCase()),Rt+lt[0].length):-1}function U(ut,Et,Rt){var lt=y.exec(Et.slice(Rt));return lt?(ut.w=w.get(lt[0].toLowerCase()),Rt+lt[0].length):-1}function F(ut,Et,Rt){var lt=h.exec(Et.slice(Rt));return lt?(ut.w=f.get(lt[0].toLowerCase()),Rt+lt[0].length):-1}function G(ut,Et,Rt){var lt=S.exec(Et.slice(Rt));return lt?(ut.m=_.get(lt[0].toLowerCase()),Rt+lt[0].length):-1}function $(ut,Et,Rt){var lt=v.exec(Et.slice(Rt));return lt?(ut.m=b.get(lt[0].toLowerCase()),Rt+lt[0].length):-1}function H(ut,Et,Rt){return L(ut,t,Et,Rt)}function X(ut,Et,Rt){return L(ut,e,Et,Rt)}function Q(ut,Et,Rt){return L(ut,a,Et,Rt)}function W(ut){return o[ut.getDay()]}function V(ut){return i[ut.getDay()]}function tt(ut){return c[ut.getMonth()]}function nt(ut){return s[ut.getMonth()]}function z(ut){return r[+(ut.getHours()>=12)]}function K(ut){return 1+~~(ut.getMonth()/3)}function it(ut){return o[ut.getUTCDay()]}function ft(ut){return i[ut.getUTCDay()]}function ct(ut){return c[ut.getUTCMonth()]}function yt(ut){return s[ut.getUTCMonth()]}function bt(ut){return r[+(ut.getUTCHours()>=12)]}function Gt(ut){return 1+~~(ut.getUTCMonth()/3)}return{format:function(ut){var Et=T(ut+="",P);return Et.toString=function(){return ut},Et},parse:function(ut){var Et=B(ut+="",!1);return Et.toString=function(){return ut},Et},utcFormat:function(ut){var Et=T(ut+="",E);return Et.toString=function(){return ut},Et},utcParse:function(ut){var Et=B(ut+="",!0);return Et.toString=function(){return ut},Et}}}var c$={"-":"",_:" ",0:"0"},na=/^\s*\d+/,ipt=/^%/,opt=/[\\^$*+?|[\]().{}]/g;function he(n,t,e){var a=n<0?"-":"",r=(a?-n:n)+"",i=r.length;return a+(i<e?new Array(e-i+1).join(t)+r:r)}function spt(n){return n.replace(opt,"\\$&")}function dg(n){return new RegExp("^(?:"+n.map(spt).join("|")+")","i")}function ug(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function cpt(n,t,e){var a=na.exec(t.slice(e,e+1));return a?(n.w=+a[0],e+a[0].length):-1}function lpt(n,t,e){var a=na.exec(t.slice(e,e+1));return a?(n.u=+a[0],e+a[0].length):-1}function dpt(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.U=+a[0],e+a[0].length):-1}function upt(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.V=+a[0],e+a[0].length):-1}function mpt(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.W=+a[0],e+a[0].length):-1}function l$(n,t,e){var a=na.exec(t.slice(e,e+4));return a?(n.y=+a[0],e+a[0].length):-1}function d$(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.y=+a[0]+(+a[0]>68?1900:2e3),e+a[0].length):-1}function hpt(n,t,e){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return a?(n.Z=a[1]?0:-(a[2]+(a[3]||"00")),e+a[0].length):-1}function ppt(n,t,e){var a=na.exec(t.slice(e,e+1));return a?(n.q=a[0]*3-3,e+a[0].length):-1}function fpt(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.m=a[0]-1,e+a[0].length):-1}function u$(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.d=+a[0],e+a[0].length):-1}function gpt(n,t,e){var a=na.exec(t.slice(e,e+3));return a?(n.m=0,n.d=+a[0],e+a[0].length):-1}function m$(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.H=+a[0],e+a[0].length):-1}function xpt(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.M=+a[0],e+a[0].length):-1}function ypt(n,t,e){var a=na.exec(t.slice(e,e+2));return a?(n.S=+a[0],e+a[0].length):-1}function vpt(n,t,e){var a=na.exec(t.slice(e,e+3));return a?(n.L=+a[0],e+a[0].length):-1}function bpt(n,t,e){var a=na.exec(t.slice(e,e+6));return a?(n.L=Math.floor(a[0]/1e3),e+a[0].length):-1}function wpt(n,t,e){var a=ipt.exec(t.slice(e,e+1));return a?e+a[0].length:-1}function Apt(n,t,e){var a=na.exec(t.slice(e));return a?(n.Q=+a[0],e+a[0].length):-1}function Spt(n,t,e){var a=na.exec(t.slice(e));return a?(n.s=+a[0],e+a[0].length):-1}function h$(n,t){return he(n.getDate(),t,2)}function _pt(n,t){return he(n.getHours(),t,2)}function Ppt(n,t){return he(n.getHours()%12||12,t,2)}function kpt(n,t){return he(1+ev.count(Ec(n),n),t,3)}function GH(n,t){return he(n.getMilliseconds(),t,3)}function Cpt(n,t){return GH(n,t)+"000"}function Ept(n,t){return he(n.getMonth()+1,t,2)}function Tpt(n,t){return he(n.getMinutes(),t,2)}function Dpt(n,t){return he(n.getSeconds(),t,2)}function Npt(n){var t=n.getDay();return t===0?7:t}function Bpt(n,t){return he(aS.count(Ec(n)-1,n),t,2)}function UH(n){var t=n.getDay();return t>=4||t===0?Rf(n):Rf.ceil(n)}function jpt(n,t){return n=UH(n),he(Rf.count(Ec(n),n)+(Ec(n).getDay()===4),t,2)}function Opt(n){return n.getDay()}function Lpt(n,t){return he(kA.count(Ec(n)-1,n),t,2)}function Ipt(n,t){return he(n.getFullYear()%100,t,2)}function Rpt(n,t){return n=UH(n),he(n.getFullYear()%100,t,2)}function Mpt(n,t){return he(n.getFullYear()%1e4,t,4)}function Fpt(n,t){var e=n.getDay();return n=e>=4||e===0?Rf(n):Rf.ceil(n),he(n.getFullYear()%1e4,t,4)}function $pt(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+he(t/60|0,"0",2)+he(t%60,"0",2)}function p$(n,t){return he(n.getUTCDate(),t,2)}function Gpt(n,t){return he(n.getUTCHours(),t,2)}function Upt(n,t){return he(n.getUTCHours()%12||12,t,2)}function zpt(n,t){return he(1+nS.count(Tc(n),n),t,3)}function zH(n,t){return he(n.getUTCMilliseconds(),t,3)}function qpt(n,t){return zH(n,t)+"000"}function Hpt(n,t){return he(n.getUTCMonth()+1,t,2)}function Vpt(n,t){return he(n.getUTCMinutes(),t,2)}function Wpt(n,t){return he(n.getUTCSeconds(),t,2)}function Kpt(n){var t=n.getUTCDay();return t===0?7:t}function Xpt(n,t){return he(rS.count(Tc(n)-1,n),t,2)}function qH(n){var t=n.getUTCDay();return t>=4||t===0?Mf(n):Mf.ceil(n)}function Ypt(n,t){return n=qH(n),he(Mf.count(Tc(n),n)+(Tc(n).getUTCDay()===4),t,2)}function Qpt(n){return n.getUTCDay()}function Jpt(n,t){return he(CA.count(Tc(n)-1,n),t,2)}function Zpt(n,t){return he(n.getUTCFullYear()%100,t,2)}function tft(n,t){return n=qH(n),he(n.getUTCFullYear()%100,t,2)}function eft(n,t){return he(n.getUTCFullYear()%1e4,t,4)}function nft(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Mf(n):Mf.ceil(n),he(n.getUTCFullYear()%1e4,t,4)}function aft(){return"+0000"}function f$(){return"%"}function g$(n){return+n}function x$(n){return Math.floor(+n/1e3)}var bh,HH,VH;rft({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rft(n){return bh=rpt(n),HH=bh.format,bh.parse,VH=bh.utcFormat,bh.utcParse,bh}function ift(n){return new Date(n)}function oft(n){return n instanceof Date?+n:+new Date(+n)}function dO(n,t,e,a,r,i,o,s,c,l){var u=Yj(),h=u.invert,f=u.domain,y=l(".%L"),w=l(":%S"),v=l("%I:%M"),b=l("%I %p"),S=l("%a %d"),_=l("%b %d"),P=l("%B"),E=l("%Y");function C(T){return(c(T)<T?y:s(T)<T?w:o(T)<T?v:i(T)<T?b:a(T)<T?r(T)<T?S:_:e(T)<T?P:E)(T)}return u.invert=function(T){return new Date(h(T))},u.domain=function(T){return arguments.length?f(Array.from(T,oft)):f().map(ift)},u.ticks=function(T){var B=f();return n(B[0],B[B.length-1],T??10)},u.tickFormat=function(T,B){return B==null?C:l(B)},u.nice=function(T){var B=f();return(!T||typeof T.range!="function")&&(T=t(B[0],B[B.length-1],T??10)),T?f(BH(B,T)):u},u.copy=function(){return tv(u,dO(n,t,e,a,r,i,o,s,c,l))},u}function sft(){return Bi.apply(dO(npt,apt,Ec,cO,aS,ev,oO,rO,iu,HH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cft(){return Bi.apply(dO(tpt,ept,Tc,lO,rS,nS,sO,iO,iu,VH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iS(){var n=0,t=1,e,a,r,i,o=Ka,s=!1,c;function l(h){return h==null||isNaN(h=+h)?c:o(r===0?.5:(h=(i(h)-e)*r,s?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([n,t]=h,e=i(n=+n),a=i(t=+t),r=e===a?0:1/(a-e),l):[n,t]},l.clamp=function(h){return arguments.length?(s=!!h,l):s},l.interpolator=function(h){return arguments.length?(o=h,l):o};function u(h){return function(f){var y,w;return arguments.length?([y,w]=f,o=h(y,w),l):[o(0),o(1)]}}return l.range=u(f2),l.rangeRound=u(Xj),l.unknown=function(h){return arguments.length?(c=h,l):c},function(h){return i=h,e=h(n),a=h(t),r=e===a?0:1/(a-e),l}}function Ad(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function WH(){var n=wd(iS()(Ka));return n.copy=function(){return Ad(n,WH())},Oc.apply(n,arguments)}function KH(){var n=Zj(iS()).domain([1,10]);return n.copy=function(){return Ad(n,KH()).base(n.base())},Oc.apply(n,arguments)}function XH(){var n=tO(iS());return n.copy=function(){return Ad(n,XH()).constant(n.constant())},Oc.apply(n,arguments)}function uO(){var n=eO(iS());return n.copy=function(){return Ad(n,uO()).exponent(n.exponent())},Oc.apply(n,arguments)}function lft(){return uO.apply(null,arguments).exponent(.5)}function YH(){var n=[],t=Ka;function e(a){if(a!=null&&!isNaN(a=+a))return t((Jy(n,a,1)-1)/(n.length-1))}return e.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let r of a)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(sd),e},e.interpolator=function(a){return arguments.length?(t=a,e):t},e.range=function(){return n.map((a,r)=>t(r/(n.length-1)))},e.quantiles=function(a){return Array.from({length:a+1},(r,i)=>Xmt(n,i/a))},e.copy=function(){return YH(t).domain(n)},Oc.apply(e,arguments)}function oS(){var n=0,t=.5,e=1,a=1,r,i,o,s,c,l=Ka,u,h=!1,f;function y(v){return isNaN(v=+v)?f:(v=.5+((v=+u(v))-i)*(a*v<a*i?s:c),l(h?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([n,t,e]=v,r=u(n=+n),i=u(t=+t),o=u(e=+e),s=r===i?0:.5/(i-r),c=i===o?0:.5/(o-i),a=i<r?-1:1,y):[n,t,e]},y.clamp=function(v){return arguments.length?(h=!!v,y):h},y.interpolator=function(v){return arguments.length?(l=v,y):l};function w(v){return function(b){var S,_,P;return arguments.length?([S,_,P]=b,l=wht(v,[S,_,P]),y):[l(0),l(.5),l(1)]}}return y.range=w(f2),y.rangeRound=w(Xj),y.unknown=function(v){return arguments.length?(f=v,y):f},function(v){return u=v,r=v(n),i=v(t),o=v(e),s=r===i?0:.5/(i-r),c=i===o?0:.5/(o-i),a=i<r?-1:1,y}}function QH(){var n=wd(oS()(Ka));return n.copy=function(){return Ad(n,QH())},Oc.apply(n,arguments)}function JH(){var n=Zj(oS()).domain([.1,1,10]);return n.copy=function(){return Ad(n,JH()).base(n.base())},Oc.apply(n,arguments)}function ZH(){var n=tO(oS());return n.copy=function(){return Ad(n,ZH()).constant(n.constant())},Oc.apply(n,arguments)}function mO(){var n=eO(oS());return n.copy=function(){return Ad(n,mO()).exponent(n.exponent())},Oc.apply(n,arguments)}function dft(){return mO.apply(null,arguments).exponent(.5)}const y$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cx,scaleDiverging:QH,scaleDivergingLog:JH,scaleDivergingPow:mO,scaleDivergingSqrt:dft,scaleDivergingSymlog:ZH,scaleIdentity:NH,scaleImplicit:iD,scaleLinear:_A,scaleLog:jH,scaleOrdinal:Vj,scalePoint:ax,scalePow:nO,scaleQuantile:IH,scaleQuantize:RH,scaleRadial:LH,scaleSequential:WH,scaleSequentialLog:KH,scaleSequentialPow:uO,scaleSequentialQuantile:YH,scaleSequentialSqrt:lft,scaleSequentialSymlog:XH,scaleSqrt:qht,scaleSymlog:OH,scaleThreshold:MH,scaleTime:sft,scaleUtc:cft,tickFormat:DH},Symbol.toStringTag,{value:"Module"}));var rE,v$;function tV(){if(v$)return rE;v$=1;var n=d2();function t(e,a,r){for(var i=-1,o=e.length;++i<o;){var s=e[i],c=a(s);if(c!=null&&(l===void 0?c===c&&!n(c):r(c,l)))var l=c,u=s}return u}return rE=t,rE}var iE,b$;function uft(){if(b$)return iE;b$=1;function n(t,e){return t>e}return iE=n,iE}var oE,w$;function mft(){if(w$)return oE;w$=1;var n=tV(),t=uft(),e=p2();function a(r){return r&&r.length?n(r,e,t):void 0}return oE=a,oE}var hft=mft();const id=Ee(hft);var sE,A$;function pft(){if(A$)return sE;A$=1;function n(t,e){return t<e}return sE=n,sE}var cE,S$;function fft(){if(S$)return cE;S$=1;var n=tV(),t=pft(),e=p2();function a(r){return r&&r.length?n(r,e,t):void 0}return cE=a,cE}var gft=fft();const sS=Ee(gft);var lE,_$;function xft(){if(_$)return lE;_$=1;var n=Ej(),t=bd(),e=cH(),a=br();function r(i,o){var s=a(i)?n:e;return s(i,t(o,3))}return lE=r,lE}var dE,P$;function yft(){if(P$)return dE;P$=1;var n=oH(),t=xft();function e(a,r){return n(t(a,r),1)}return dE=e,dE}var vft=yft();const bft=Ee(vft);var uE,k$;function wft(){if(k$)return uE;k$=1;var n=Gj();function t(e,a){return n(e,a)}return uE=t,uE}var Aft=wft();const Ff=Ee(Aft);var g2=1e9,Sft={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pO,Ye=!0,Di="[DecimalError] ",_m=Di+"Invalid argument: ",hO=Di+"Exponent out of range: ",x2=Math.floor,Hd=Math.pow,_ft=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,ea=1e7,ze=7,eV=9007199254740991,EA=x2(eV/ze),Ct={};Ct.absoluteValue=Ct.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Ct.comparedTo=Ct.cmp=function(n){var t,e,a,r,i=this;if(n=new i.constructor(n),i.s!==n.s)return i.s||-n.s;if(i.e!==n.e)return i.e>n.e^i.s<0?1:-1;for(a=i.d.length,r=n.d.length,t=0,e=a<r?a:r;t<e;++t)if(i.d[t]!==n.d[t])return i.d[t]>n.d[t]^i.s<0?1:-1;return a===r?0:a>r^i.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*ze;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};Ct.dividedBy=Ct.div=function(n){return yc(this,new this.constructor(n))};Ct.dividedToIntegerBy=Ct.idiv=function(n){var t=this,e=t.constructor;return Be(yc(t,new e(n),0,1),e.precision)};Ct.equals=Ct.eq=function(n){return!this.cmp(n)};Ct.exponent=function(){return En(this)};Ct.greaterThan=Ct.gt=function(n){return this.cmp(n)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(n){return this.cmp(n)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(n){return this.cmp(n)<0};Ct.lessThanOrEqualTo=Ct.lte=function(n){return this.cmp(n)<1};Ct.logarithm=Ct.log=function(n){var t,e=this,a=e.constructor,r=a.precision,i=r+5;if(n===void 0)n=new a(10);else if(n=new a(n),n.s<1||n.eq(Jr))throw Error(Di+"NaN");if(e.s<1)throw Error(Di+(e.s?"NaN":"-Infinity"));return e.eq(Jr)?new a(0):(Ye=!1,t=yc(Bx(e,i),Bx(n,i),i),Ye=!0,Be(t,r))};Ct.minus=Ct.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?rV(t,n):nV(t,(n.s=-n.s,n))};Ct.modulo=Ct.mod=function(n){var t,e=this,a=e.constructor,r=a.precision;if(n=new a(n),!n.s)throw Error(Di+"NaN");return e.s?(Ye=!1,t=yc(e,n,0,1).times(n),Ye=!0,e.minus(t)):Be(new a(e),r)};Ct.naturalExponential=Ct.exp=function(){return aV(this)};Ct.naturalLogarithm=Ct.ln=function(){return Bx(this)};Ct.negated=Ct.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Ct.plus=Ct.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?nV(t,n):rV(t,(n.s=-n.s,n))};Ct.precision=Ct.sd=function(n){var t,e,a,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(_m+n);if(t=En(r)+1,a=r.d.length-1,e=a*ze+1,a=r.d[a],a){for(;a%10==0;a/=10)e--;for(a=r.d[0];a>=10;a/=10)e++}return n&&t>e?t:e};Ct.squareRoot=Ct.sqrt=function(){var n,t,e,a,r,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Di+"NaN")}for(n=En(s),Ye=!1,r=Math.sqrt(+s),r==0||r==1/0?(t=es(s.d),(t.length+n)%2==0&&(t+="0"),r=Math.sqrt(t),n=x2((n+1)/2)-(n<0||n%2),r==1/0?t="5e"+n:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),a=new c(t)):a=new c(r.toString()),e=c.precision,r=o=e+3;;)if(i=a,a=i.plus(yc(s,i,o+2)).times(.5),es(i.d).slice(0,o)===(t=es(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),r==o&&t=="4999"){if(Be(i,e+1,0),i.times(i).eq(s)){a=i;break}}else if(t!="9999")break;o+=4}return Ye=!0,Be(a,e)};Ct.times=Ct.mul=function(n){var t,e,a,r,i,o,s,c,l,u=this,h=u.constructor,f=u.d,y=(n=new h(n)).d;if(!u.s||!n.s)return new h(0);for(n.s*=u.s,e=u.e+n.e,c=f.length,l=y.length,c<l&&(i=f,f=y,y=i,o=c,c=l,l=o),i=[],o=c+l,a=o;a--;)i.push(0);for(a=l;--a>=0;){for(t=0,r=c+a;r>a;)s=i[r]+y[a]*f[r-a-1]+t,i[r--]=s%ea|0,t=s/ea|0;i[r]=(i[r]+t)%ea|0}for(;!i[--o];)i.pop();return t?++e:i.shift(),n.d=i,n.e=e,Ye?Be(n,h.precision):n};Ct.toDecimalPlaces=Ct.todp=function(n,t){var e=this,a=e.constructor;return e=new a(e),n===void 0?e:(ls(n,0,g2),t===void 0?t=a.rounding:ls(t,0,8),Be(e,n+En(e)+1,t))};Ct.toExponential=function(n,t){var e,a=this,r=a.constructor;return n===void 0?e=Cm(a,!0):(ls(n,0,g2),t===void 0?t=r.rounding:ls(t,0,8),a=Be(new r(a),n+1,t),e=Cm(a,!0,n+1)),e};Ct.toFixed=function(n,t){var e,a,r=this,i=r.constructor;return n===void 0?Cm(r):(ls(n,0,g2),t===void 0?t=i.rounding:ls(t,0,8),a=Be(new i(r),n+En(r)+1,t),e=Cm(a.abs(),!1,n+En(a)+1),r.isneg()&&!r.isZero()?"-"+e:e)};Ct.toInteger=Ct.toint=function(){var n=this,t=n.constructor;return Be(new t(n),En(n)+1,t.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(n){var t,e,a,r,i,o,s=this,c=s.constructor,l=12,u=+(n=new c(n));if(!n.s)return new c(Jr);if(s=new c(s),!s.s){if(n.s<1)throw Error(Di+"Infinity");return s}if(s.eq(Jr))return s;if(a=c.precision,n.eq(Jr))return Be(s,a);if(t=n.e,e=n.d.length-1,o=t>=e,i=s.s,o){if((e=u<0?-u:u)<=eV){for(r=new c(Jr),t=Math.ceil(a/ze+4),Ye=!1;e%2&&(r=r.times(s),E$(r.d,t)),e=x2(e/2),e!==0;)s=s.times(s),E$(s.d,t);return Ye=!0,n.s<0?new c(Jr).div(r):Be(r,a)}}else if(i<0)throw Error(Di+"NaN");return i=i<0&&n.d[Math.max(t,e)]&1?-1:1,s.s=1,Ye=!1,r=n.times(Bx(s,a+l)),Ye=!0,r=aV(r),r.s=i,r};Ct.toPrecision=function(n,t){var e,a,r=this,i=r.constructor;return n===void 0?(e=En(r),a=Cm(r,e<=i.toExpNeg||e>=i.toExpPos)):(ls(n,1,g2),t===void 0?t=i.rounding:ls(t,0,8),r=Be(new i(r),n,t),e=En(r),a=Cm(r,n<=e||e<=i.toExpNeg,n)),a};Ct.toSignificantDigits=Ct.tosd=function(n,t){var e=this,a=e.constructor;return n===void 0?(n=a.precision,t=a.rounding):(ls(n,1,g2),t===void 0?t=a.rounding:ls(t,0,8)),Be(new a(e),n,t)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=En(n),e=n.constructor;return Cm(n,t<=e.toExpNeg||t>=e.toExpPos)};function nV(n,t){var e,a,r,i,o,s,c,l,u=n.constructor,h=u.precision;if(!n.s||!t.s)return t.s||(t=new u(n)),Ye?Be(t,h):t;if(c=n.d,l=t.d,o=n.e,r=t.e,c=c.slice(),i=o-r,i){for(i<0?(a=c,i=-i,s=l.length):(a=l,r=o,s=c.length),o=Math.ceil(h/ze),s=o>s?o+1:s+1,i>s&&(i=s,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(s=c.length,i=l.length,s-i<0&&(i=s,a=l,l=c,c=a),e=0;i;)e=(c[--i]=c[i]+l[i]+e)/ea|0,c[i]%=ea;for(e&&(c.unshift(e),++r),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=r,Ye?Be(t,h):t}function ls(n,t,e){if(n!==~~n||n<t||n>e)throw Error(_m+n)}function es(n){var t,e,a,r=n.length-1,i="",o=n[0];if(r>0){for(i+=o,t=1;t<r;t++)a=n[t]+"",e=ze-a.length,e&&(i+=il(e)),i+=a;o=n[t],a=o+"",e=ze-a.length,e&&(i+=il(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yc=function(){function n(a,r){var i,o=0,s=a.length;for(a=a.slice();s--;)i=a[s]*r+o,a[s]=i%ea|0,o=i/ea|0;return o&&a.unshift(o),a}function t(a,r,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(a[s]!=r[s]){c=a[s]>r[s]?1:-1;break}return c}function e(a,r,i){for(var o=0;i--;)a[i]-=o,o=a[i]<r[i]?1:0,a[i]=o*ea+a[i]-r[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,r,i,o){var s,c,l,u,h,f,y,w,v,b,S,_,P,E,C,T,B,L,M=a.constructor,U=a.s==r.s?1:-1,F=a.d,G=r.d;if(!a.s)return new M(a);if(!r.s)throw Error(Di+"Division by zero");for(c=a.e-r.e,B=G.length,C=F.length,y=new M(U),w=y.d=[],l=0;G[l]==(F[l]||0);)++l;if(G[l]>(F[l]||0)&&--c,i==null?_=i=M.precision:o?_=i+(En(a)-En(r))+1:_=i,_<0)return new M(0);if(_=_/ze+2|0,l=0,B==1)for(u=0,G=G[0],_++;(l<C||u)&&_--;l++)P=u*ea+(F[l]||0),w[l]=P/G|0,u=P%G|0;else{for(u=ea/(G[0]+1)|0,u>1&&(G=n(G,u),F=n(F,u),B=G.length,C=F.length),E=B,v=F.slice(0,B),b=v.length;b<B;)v[b++]=0;L=G.slice(),L.unshift(0),T=G[0],G[1]>=ea/2&&++T;do u=0,s=t(G,v,B,b),s<0?(S=v[0],B!=b&&(S=S*ea+(v[1]||0)),u=S/T|0,u>1?(u>=ea&&(u=ea-1),h=n(G,u),f=h.length,b=v.length,s=t(h,v,f,b),s==1&&(u--,e(h,B<f?L:G,f))):(u==0&&(s=u=1),h=G.slice()),f=h.length,f<b&&h.unshift(0),e(v,h,b),s==-1&&(b=v.length,s=t(G,v,B,b),s<1&&(u++,e(v,B<b?L:G,b))),b=v.length):s===0&&(u++,v=[0]),w[l++]=u,s&&v[0]?v[b++]=F[E]||0:(v=[F[E]],b=1);while((E++<C||v[0]!==void 0)&&_--)}return w[0]||w.shift(),y.e=c,Be(y,o?i+En(y)+1:i)}}();function aV(n,t){var e,a,r,i,o,s,c=0,l=0,u=n.constructor,h=u.precision;if(En(n)>16)throw Error(hO+En(n));if(!n.s)return new u(Jr);for(Ye=!1,s=h,o=new u(.03125);n.abs().gte(.1);)n=n.times(o),l+=5;for(a=Math.log(Hd(2,l))/Math.LN10*2+5|0,s+=a,e=r=i=new u(Jr),u.precision=s;;){if(r=Be(r.times(n),s),e=e.times(++c),o=i.plus(yc(r,e,s)),es(o.d).slice(0,s)===es(i.d).slice(0,s)){for(;l--;)i=Be(i.times(i),s);return u.precision=h,t==null?(Ye=!0,Be(i,h)):i}i=o}}function En(n){for(var t=n.e*ze,e=n.d[0];e>=10;e/=10)t++;return t}function mE(n,t,e){if(t>n.LN10.sd())throw Ye=!0,e&&(n.precision=e),Error(Di+"LN10 precision limit exceeded");return Be(new n(n.LN10),t)}function il(n){for(var t="";n--;)t+="0";return t}function Bx(n,t){var e,a,r,i,o,s,c,l,u,h=1,f=10,y=n,w=y.d,v=y.constructor,b=v.precision;if(y.s<1)throw Error(Di+(y.s?"NaN":"-Infinity"));if(y.eq(Jr))return new v(0);if(t==null?(Ye=!1,l=b):l=t,y.eq(10))return t==null&&(Ye=!0),mE(v,l);if(l+=f,v.precision=l,e=es(w),a=e.charAt(0),i=En(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&e.charAt(1)>3;)y=y.times(n),e=es(y.d),a=e.charAt(0),h++;i=En(y),a>1?(y=new v("0."+e),i++):y=new v(a+"."+e.slice(1))}else return c=mE(v,l+2,b).times(i+""),y=Bx(new v(a+"."+e.slice(1)),l-f).plus(c),v.precision=b,t==null?(Ye=!0,Be(y,b)):y;for(s=o=y=yc(y.minus(Jr),y.plus(Jr),l),u=Be(y.times(y),l),r=3;;){if(o=Be(o.times(u),l),c=s.plus(yc(o,new v(r),l)),es(c.d).slice(0,l)===es(s.d).slice(0,l))return s=s.times(2),i!==0&&(s=s.plus(mE(v,l+2,b).times(i+""))),s=yc(s,new v(h),l),v.precision=b,t==null?(Ye=!0,Be(s,b)):s;s=c,r+=2}}function C$(n,t){var e,a,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(e<0&&(e=a),e+=+t.slice(a+1),t=t.substring(0,a)):e<0&&(e=t.length),a=0;t.charCodeAt(a)===48;)++a;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(a,r),t){if(r-=a,e=e-a-1,n.e=x2(e/ze),n.d=[],a=(e+1)%ze,e<0&&(a+=ze),a<r){for(a&&n.d.push(+t.slice(0,a)),r-=ze;a<r;)n.d.push(+t.slice(a,a+=ze));t=t.slice(a),a=ze-t.length}else a-=r;for(;a--;)t+="0";if(n.d.push(+t),Ye&&(n.e>EA||n.e<-EA))throw Error(hO+e)}else n.s=0,n.e=0,n.d=[0];return n}function Be(n,t,e){var a,r,i,o,s,c,l,u,h=n.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=ze,r=t,l=h[u=0];else{if(u=Math.ceil((a+1)/ze),i=h.length,u>=i)return n;for(l=i=h[u],o=1;i>=10;i/=10)o++;a%=ze,r=a-ze+o}if(e!==void 0&&(i=Hd(10,o-r-1),s=l/i%10|0,c=t<0||h[u+1]!==void 0||l%i,c=e<4?(s||c)&&(e==0||e==(n.s<0?3:2)):s>5||s==5&&(e==4||c||e==6&&(a>0?r>0?l/Hd(10,o-r):0:h[u-1])%10&1||e==(n.s<0?8:7))),t<1||!h[0])return c?(i=En(n),h.length=1,t=t-i-1,h[0]=Hd(10,(ze-t%ze)%ze),n.e=x2(-t/ze)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=Hd(10,ze-a),h[u]=r>0?(l/Hd(10,o-r)%Hd(10,r)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==ea&&(h[0]=1,++n.e);break}else{if(h[u]+=i,h[u]!=ea)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Ye&&(n.e>EA||n.e<-EA))throw Error(hO+En(n));return n}function rV(n,t){var e,a,r,i,o,s,c,l,u,h,f=n.constructor,y=f.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new f(n),Ye?Be(t,y):t;if(c=n.d,h=t.d,a=t.e,l=n.e,c=c.slice(),o=l-a,o){for(u=o<0,u?(e=c,o=-o,s=h.length):(e=h,a=l,s=c.length),r=Math.max(Math.ceil(y/ze),s)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=c.length,s=h.length,u=r<s,u&&(s=r),r=0;r<s;r++)if(c[r]!=h[r]){u=c[r]<h[r];break}o=0}for(u&&(e=c,c=h,h=e,t.s=-t.s),s=c.length,r=h.length-s;r>0;--r)c[s++]=0;for(r=h.length;r>o;){if(c[--r]<h[r]){for(i=r;i&&c[--i]===0;)c[i]=ea-1;--c[i],c[r]+=ea}c[r]-=h[r]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Ye?Be(t,y):t):new f(0)}function Cm(n,t,e){var a,r=En(n),i=es(n.d),o=i.length;return t?(e&&(a=e-o)>0?i=i.charAt(0)+"."+i.slice(1)+il(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(r<0?"e":"e+")+r):r<0?(i="0."+il(-r-1)+i,e&&(a=e-o)>0&&(i+=il(a))):r>=o?(i+=il(r+1-o),e&&(a=e-r-1)>0&&(i=i+"."+il(a))):((a=r+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),e&&(a=e-o)>0&&(r+1===o&&(i+="."),i+=il(a))),n.s<0?"-"+i:i}function E$(n,t){if(n.length>t)return n.length=t,!0}function iV(n){var t,e,a;function r(i){var o=this;if(!(o instanceof r))return new r(i);if(o.constructor=r,i instanceof r){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_m+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return C$(o,i.toString())}else if(typeof i!="string")throw Error(_m+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,_ft.test(i))C$(o,i);else throw Error(_m+i)}if(r.prototype=Ct,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=iV,r.config=r.set=Pft,n===void 0&&(n={}),n)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)n.hasOwnProperty(e=a[t++])||(n[e]=this[e]);return r.config(n),r}function Pft(n){if(!n||typeof n!="object")throw Error(Di+"Object expected");var t,e,a,r=["precision",1,g2,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((a=n[e=r[t]])!==void 0)if(x2(a)===a&&a>=r[t+1]&&a<=r[t+2])this[e]=a;else throw Error(_m+e+": "+a);if((a=n[e="LN10"])!==void 0)if(a==Math.LN10)this[e]=new this(a);else throw Error(_m+e+": "+a);return this}var pO=iV(Sft);Jr=new pO(1);const ke=pO;function kft(n){return Dft(n)||Tft(n)||Eft(n)||Cft()}function Cft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eft(n,t){if(n){if(typeof n=="string")return lD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return lD(n,t)}}function Tft(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Dft(n){if(Array.isArray(n))return lD(n)}function lD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}var Nft=function(t){return t},oV={},sV=function(t){return t===oV},T$=function(t){return function e(){return arguments.length===0||arguments.length===1&&sV(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},Bft=function n(t,e){return t===1?e:T$(function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var o=r.filter(function(s){return s!==oV}).length;return o>=t?e.apply(void 0,r):n(t-o,T$(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=r.map(function(h){return sV(h)?c.shift():h});return e.apply(void 0,kft(u).concat(c))}))})},cS=function(t){return Bft(t.length,t)},dD=function(t,e){for(var a=[],r=t;r<e;++r)a[r-t]=r;return a},jft=cS(function(n,t){return Array.isArray(t)?t.map(n):Object.keys(t).map(function(e){return t[e]}).map(n)}),Oft=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];if(!e.length)return Nft;var r=e.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(s,c){return c(s)},i.apply(void 0,arguments))}},uD=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cV=function(t){var e=null,a=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every(function(s,c){return s===e[c]})||(e=i,a=t.apply(void 0,i)),a}};function Lft(n){var t;return n===0?t=1:t=Math.floor(new ke(n).abs().log(10).toNumber())+1,t}function Ift(n,t,e){for(var a=new ke(n),r=0,i=[];a.lt(t)&&r<1e5;)i.push(a.toNumber()),a=a.add(e),r++;return i}var Rft=cS(function(n,t,e){var a=+n,r=+t;return a+e*(r-a)}),Mft=cS(function(n,t,e){var a=t-+n;return a=a||1/0,(e-n)/a}),Fft=cS(function(n,t,e){var a=t-+n;return a=a||1/0,Math.max(0,Math.min(1,(e-n)/a))});const lS={rangeStep:Ift,getDigitCount:Lft,interpolateNumber:Rft,uninterpolateNumber:Mft,uninterpolateTruncation:Fft};function mD(n){return Uft(n)||Gft(n)||lV(n)||$ft()}function $ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gft(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Uft(n){if(Array.isArray(n))return hD(n)}function jx(n,t){return Hft(n)||qft(n,t)||lV(n,t)||zft()}function zft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lV(n,t){if(n){if(typeof n=="string")return hD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return hD(n,t)}}function hD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function qft(n,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var e=[],a=!0,r=!1,i=void 0;try{for(var o=n[Symbol.iterator](),s;!(a=(s=o.next()).done)&&(e.push(s.value),!(t&&e.length===t));a=!0);}catch(c){r=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(r)throw i}}return e}}function Hft(n){if(Array.isArray(n))return n}function dV(n){var t=jx(n,2),e=t[0],a=t[1],r=e,i=a;return e>a&&(r=a,i=e),[r,i]}function uV(n,t,e){if(n.lte(0))return new ke(0);var a=lS.getDigitCount(n.toNumber()),r=new ke(10).pow(a),i=n.div(r),o=a!==1?.05:.1,s=new ke(Math.ceil(i.div(o).toNumber())).add(e).mul(o),c=s.mul(r);return t?c:new ke(Math.ceil(c))}function Vft(n,t,e){var a=1,r=new ke(n);if(!r.isint()&&e){var i=Math.abs(n);i<1?(a=new ke(10).pow(lS.getDigitCount(n)-1),r=new ke(Math.floor(r.div(a).toNumber())).mul(a)):i>1&&(r=new ke(Math.floor(n)))}else n===0?r=new ke(Math.floor((t-1)/2)):e||(r=new ke(Math.floor(n)));var o=Math.floor((t-1)/2),s=Oft(jft(function(c){return r.add(new ke(c-o).mul(a)).toNumber()}),dD);return s(0,t)}function mV(n,t,e,a){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-n)/(e-1)))return{step:new ke(0),tickMin:new ke(0),tickMax:new ke(0)};var i=uV(new ke(t).sub(n).div(e-1),a,r),o;n<=0&&t>=0?o=new ke(0):(o=new ke(n).add(t).div(2),o=o.sub(new ke(o).mod(i)));var s=Math.ceil(o.sub(n).div(i).toNumber()),c=Math.ceil(new ke(t).sub(o).div(i).toNumber()),l=s+c+1;return l>e?mV(n,t,e,a,r+1):(l<e&&(c=t>0?c+(e-l):c,s=t>0?s:s+(e-l)),{step:i,tickMin:o.sub(new ke(s).mul(i)),tickMax:o.add(new ke(c).mul(i))})}function Wft(n){var t=jx(n,2),e=t[0],a=t[1],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),s=dV([e,a]),c=jx(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var h=u===1/0?[l].concat(mD(dD(0,r-1).map(function(){return 1/0}))):[].concat(mD(dD(0,r-1).map(function(){return-1/0})),[u]);return e>a?uD(h):h}if(l===u)return Vft(l,r,i);var f=mV(l,u,o,i),y=f.step,w=f.tickMin,v=f.tickMax,b=lS.rangeStep(w,v.add(new ke(.1).mul(y)),y);return e>a?uD(b):b}function Kft(n,t){var e=jx(n,2),a=e[0],r=e[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dV([a,r]),s=jx(o,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[a,r];if(c===l)return[c];var u=Math.max(t,2),h=uV(new ke(l).sub(c).div(u-1),i,0),f=[].concat(mD(lS.rangeStep(new ke(c),new ke(l).sub(new ke(.99).mul(h)),h)),[l]);return a>r?uD(f):f}var Xft=cV(Wft),Yft=cV(Kft),Qft="Invariant failed";function Em(n,t){throw new Error(Qft)}var Jft=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $f(n){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(n)}function TA(){return TA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},TA.apply(this,arguments)}function Zft(n,t){return a2t(n)||n2t(n,t)||e2t(n,t)||t2t()}function t2t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2t(n,t){if(n){if(typeof n=="string")return D$(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return D$(n,t)}}function D$(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function n2t(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function a2t(n){if(Array.isArray(n))return n}function r2t(n,t){if(n==null)return{};var e=i2t(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function i2t(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function o2t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function s2t(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,fV(a.key),a)}}function c2t(n,t,e){return t&&s2t(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function l2t(n,t,e){return t=DA(t),d2t(n,hV()?Reflect.construct(t,e||[],DA(n).constructor):t.apply(n,e))}function d2t(n,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u2t(n)}function u2t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hV(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!n})()}function DA(n){return DA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DA(n)}function m2t(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&pD(n,t)}function pD(n,t){return pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},pD(n,t)}function pV(n,t,e){return t=fV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fV(n){var t=h2t(n,"string");return $f(t)=="symbol"?t:t+""}function h2t(n,t){if($f(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if($f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var nv=function(n){function t(){return o2t(this,t),l2t(this,t,arguments)}return m2t(t,n),c2t(t,[{key:"render",value:function(){var a=this.props,r=a.offset,i=a.layout,o=a.width,s=a.dataKey,c=a.data,l=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,f=r2t(a,Jft),y=Jt(f,!1);this.props.direction==="x"&&u.type!=="number"&&Em();var w=c.map(function(v){var b=l(v,s),S=b.x,_=b.y,P=b.value,E=b.errorVal;if(!E)return null;var C=[],T,B;if(Array.isArray(E)){var L=Zft(E,2);T=L[0],B=L[1]}else T=B=E;if(i==="vertical"){var M=u.scale,U=_+r,F=U+o,G=U-o,$=M(P-T),H=M(P+B);C.push({x1:H,y1:F,x2:H,y2:G}),C.push({x1:$,y1:U,x2:H,y2:U}),C.push({x1:$,y1:F,x2:$,y2:G})}else if(i==="horizontal"){var X=h.scale,Q=S+r,W=Q-o,V=Q+o,tt=X(P-T),nt=X(P+B);C.push({x1:W,y1:nt,x2:V,y2:nt}),C.push({x1:Q,y1:tt,x2:Q,y2:nt}),C.push({x1:W,y1:tt,x2:V,y2:tt})}return Y.createElement(Me,TA({className:"recharts-errorBar",key:"bar-".concat(C.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},y),C.map(function(z){return Y.createElement("line",TA({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return Y.createElement(Me,{className:"recharts-errorBars"},w)}}])}(Y.Component);pV(nv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pV(nv,"displayName","ErrorBar");function Ox(n){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(n)}function N$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Gd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(e),!0).forEach(function(a){p2t(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function p2t(n,t,e){return t=f2t(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function f2t(n){var t=g2t(n,"string");return Ox(t)=="symbol"?t:t+""}function g2t(n,t){if(Ox(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Ox(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gV=function(t){var e=t.children,a=t.formattedGraphicalItems,r=t.legendWidth,i=t.legendContent,o=Wr(e,ts);if(!o)return null;var s=ts.defaultProps,c=s!==void 0?Gd(Gd({},s),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:i==="children"?l=(a||[]).reduce(function(u,h){var f=h.item,y=h.props,w=y.sectors||y.data||[];return u.concat(w.map(function(v){return{type:o.props.iconType||f.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):l=(a||[]).map(function(u){var h=u.item,f=h.type.defaultProps,y=f!==void 0?Gd(Gd({},f),h.props):{},w=y.dataKey,v=y.name,b=y.legendType,S=y.hide;return{inactive:S,dataKey:w,type:c.iconType||b||"square",color:fO(h),value:v||w,payload:y}}),Gd(Gd(Gd({},c),ts.getWithHeight(o,r)),{},{payload:l,item:o})};function Lx(n){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(n)}function B$(n){return b2t(n)||v2t(n)||y2t(n)||x2t()}function x2t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2t(n,t){if(n){if(typeof n=="string")return fD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return fD(n,t)}}function v2t(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function b2t(n){if(Array.isArray(n))return fD(n)}function fD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function j$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function hn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(e),!0).forEach(function(a){Jh(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):j$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Jh(n,t,e){return t=w2t(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function w2t(n){var t=A2t(n,"string");return Lx(t)=="symbol"?t:t+""}function A2t(n,t){if(Lx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Lx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Qa(n,t,e){return ie(n)||ie(t)?e:$n(t)?Ci(n,t,e):Qt(t)?t(n):e}function rx(n,t,e,a){var r=bft(n,function(s){return Qa(s,t)});if(e==="number"){var i=r.filter(function(s){return xt(s)||parseFloat(s)});return i.length?[sS(i),id(i)]:[1/0,-1/0]}var o=a?r.filter(function(s){return!ie(s)}):r;return o.map(function(s){return $n(s)||s instanceof Date?s:""})}var S2t=function(t){var e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(e=a==null?void 0:a.length)!==null&&e!==void 0?e:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,h=r[l].coordinate,f=l>=s-1?r[0].coordinate:r[l+1].coordinate,y=void 0;if(mo(h-u)!==mo(f-h)){var w=[];if(mo(f-h)===mo(c[1]-c[0])){y=f;var v=h+c[1]-c[0];w[0]=Math.min(v,(v+u)/2),w[1]=Math.max(v,(v+u)/2)}else{y=u;var b=f+c[1]-c[0];w[0]=Math.min(h,(b+h)/2),w[1]=Math.max(h,(b+h)/2)}var S=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){o=r[l].index;break}}else{var _=Math.min(u,f),P=Math.max(u,f);if(t>(_+h)/2&&t<=(P+h)/2){o=r[l].index;break}}}else for(var E=0;E<s;E++)if(E===0&&t<=(a[E].coordinate+a[E+1].coordinate)/2||E>0&&E<s-1&&t>(a[E].coordinate+a[E-1].coordinate)/2&&t<=(a[E].coordinate+a[E+1].coordinate)/2||E===s-1&&t>(a[E].coordinate+a[E-1].coordinate)/2){o=a[E].index;break}return o},fO=function(t){var e,a=t,r=a.type.displayName,i=(e=t.type)!==null&&e!==void 0&&e.defaultProps?hn(hn({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,c;switch(r){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},_2t=function(t){var e=t.barSize,a=t.totalSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),c=0,l=s.length;c<l;c++)for(var u=i[s[c]].stackGroups,h=Object.keys(u),f=0,y=h.length;f<y;f++){var w=u[h[f]],v=w.items,b=w.cateAxisId,S=v.filter(function(B){return gc(B.type).indexOf("Bar")>=0});if(S&&S.length){var _=S[0].type.defaultProps,P=_!==void 0?hn(hn({},_),S[0].props):S[0].props,E=P.barSize,C=P[b];o[C]||(o[C]=[]);var T=ie(E)?e:E;o[C].push({item:S[0],stackList:S.slice(1),barSize:ie(T)?void 0:km(T,a,0)})}}return o},P2t=function(t){var e=t.barGap,a=t.barCategoryGap,r=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,c=o.length;if(c<1)return null;var l=km(e,r,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,y=r/c,w=o.reduce(function(E,C){return E+C.barSize||0},0);w+=(c-1)*l,w>=r&&(w-=(c-1)*l,l=0),w>=r&&y>0&&(f=!0,y*=.9,w=c*y);var v=(r-w)/2>>0,b={offset:v-l,size:0};u=o.reduce(function(E,C){var T={item:C.item,position:{offset:b.offset+b.size+l,size:f?y:C.barSize}},B=[].concat(B$(E),[T]);return b=B[B.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(L){B.push({item:L,position:b})}),B},h)}else{var S=km(a,r,0,!0);r-2*S-(c-1)*l<=0&&(l=0);var _=(r-2*S-(c-1)*l)/c;_>1&&(_>>=0);var P=s===+s?Math.min(_,s):_;u=o.reduce(function(E,C,T){var B=[].concat(B$(E),[{item:C.item,position:{offset:S+(_+l)*T+(_-P)/2,size:P}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(L){B.push({item:L,position:B[B.length-1].position})}),B},h)}return u},k2t=function(t,e,a,r){var i=a.children,o=a.width,s=a.margin,c=o-(s.left||0)-(s.right||0),l=gV({children:i,legendWidth:c});if(l){var u=r||{},h=u.width,f=u.height,y=l.align,w=l.verticalAlign,v=l.layout;if((v==="vertical"||v==="horizontal"&&w==="middle")&&y!=="center"&&xt(t[y]))return hn(hn({},t),{},Jh({},y,t[y]+(h||0)));if((v==="horizontal"||v==="vertical"&&y==="center")&&w!=="middle"&&xt(t[w]))return hn(hn({},t),{},Jh({},w,t[w]+(f||0)))}return t},C2t=function(t,e,a){return ie(e)?!0:t==="horizontal"?e==="yAxis":t==="vertical"||a==="x"?e==="xAxis":a==="y"?e==="yAxis":!0},xV=function(t,e,a,r,i){var o=e.props.children,s=Ei(o,nv).filter(function(l){return C2t(r,i,l.props.direction)});if(s&&s.length){var c=s.map(function(l){return l.props.dataKey});return t.reduce(function(l,u){var h=Qa(u,a);if(ie(h))return l;var f=Array.isArray(h)?[sS(h),id(h)]:[h,h],y=c.reduce(function(w,v){var b=Qa(u,v,0),S=f[0]-Math.abs(Array.isArray(b)?b[0]:b),_=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(S,w[0]),Math.max(_,w[1])]},[1/0,-1/0]);return[Math.min(y[0],l[0]),Math.max(y[1],l[1])]},[1/0,-1/0])}return null},E2t=function(t,e,a,r,i){var o=e.map(function(s){return xV(t,s,a,i,r)}).filter(function(s){return!ie(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},yV=function(t,e,a,r,i){var o=e.map(function(c){var l=c.props.dataKey;return a==="number"&&l&&xV(t,c,l,r)||rx(t,l,a,i)});if(a==="number")return o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,l){for(var u=0,h=l.length;u<h;u++)s[l[u]]||(s[l[u]]=!0,c.push(l[u]));return c},[])},vV=function(t,e){return t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis"},bV=function(t,e,a,r){if(r)return t.map(function(c){return c.coordinate});var i,o,s=t.map(function(c){return c.coordinate===e&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||s.push(e),o||s.push(a),s},fc=function(t,e,a){if(!t)return null;var r=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?r.bandwidth()/2:2,l=(e||a)&&o==="category"&&r.bandwidth?r.bandwidth()/c:0;if(l=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?mo(s[0]-s[1])*2*l:l,e&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:r(f)+l,value:h,offset:l}});return u.filter(function(h){return!m2(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:r(h)+l,value:h,index:f,offset:l}}):r.ticks&&!a?r.ticks(t.tickCount).map(function(h){return{coordinate:r(h)+l,value:h,offset:l}}):r.domain().map(function(h,f){return{coordinate:r(h)+l,value:i?i[h]:h,index:f,offset:l}})},hE=new WeakMap,Ub=function(t,e){if(typeof e!="function")return t;hE.has(t)||hE.set(t,new WeakMap);var a=hE.get(t);if(a.has(e))return a.get(e);var r=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return a.set(e,r),r},T2t=function(t,e,a){var r=t.scale,i=t.type,o=t.layout,s=t.axisType;if(r==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Cx(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:_A(),realScaleType:"linear"}:i==="category"&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0||e.indexOf("ComposedChart")>=0&&!a)?{scale:ax(),realScaleType:"point"}:i==="category"?{scale:Cx(),realScaleType:"band"}:{scale:_A(),realScaleType:"linear"};if(Yy(r)){var c="scale".concat(K1(r));return{scale:(y$[c]||ax)(),realScaleType:y$[c]?c:"point"}}return Qt(r)?{scale:r}:{scale:ax(),realScaleType:"point"}},O$=1e-4,D2t=function(t){var e=t.domain();if(!(!e||e.length<=2)){var a=e.length,r=t.range(),i=Math.min(r[0],r[1])-O$,o=Math.max(r[0],r[1])+O$,s=t(e[0]),c=t(e[a-1]);(s<i||s>o||c<i||c>o)&&t.domain([e[0],e[a-1]])}},N2t=function(t,e){if(!t)return null;for(var a=0,r=t.length;a<r;a++)if(t[a].item===e)return t[a].position;return null},B2t=function(t,e){if(!e||e.length!==2||!xt(e[0])||!xt(e[1]))return t;var a=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!xt(t[0])||t[0]<a)&&(i[0]=a),(!xt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<a&&(i[1]=a),i},j2t=function(t){var e=t.length;if(!(e<=0))for(var a=0,r=t[0].length;a<r;++a)for(var i=0,o=0,s=0;s<e;++s){var c=m2(t[s][a][1])?t[s][a][0]:t[s][a][1];c>=0?(t[s][a][0]=i,t[s][a][1]=i+c,i=t[s][a][1]):(t[s][a][0]=o,t[s][a][1]=o+c,o=t[s][a][1])}},O2t=function(t){var e=t.length;if(!(e<=0))for(var a=0,r=t[0].length;a<r;++a)for(var i=0,o=0;o<e;++o){var s=m2(t[o][a][1])?t[o][a][0]:t[o][a][1];s>=0?(t[o][a][0]=i,t[o][a][1]=i+s,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},L2t={sign:j2t,expand:ylt,none:Nf,silhouette:vlt,wiggle:blt,positive:O2t},I2t=function(t,e,a){var r=e.map(function(s){return s.props.dataKey}),i=L2t[a],o=xlt().keys(r).value(function(s,c){return+Qa(s,c,0)}).order(HT).offset(i);return o(t)},R2t=function(t,e,a,r,i,o){if(!t)return null;var s=o?e.reverse():e,c={},l=s.reduce(function(h,f){var y,w=(y=f.type)!==null&&y!==void 0&&y.defaultProps?hn(hn({},f.type.defaultProps),f.props):f.props,v=w.stackId,b=w.hide;if(b)return h;var S=w[a],_=h[S]||{hasStack:!1,stackGroups:{}};if($n(v)){var P=_.stackGroups[v]||{numericAxisId:a,cateAxisId:r,items:[]};P.items.push(f),_.hasStack=!0,_.stackGroups[v]=P}else _.stackGroups[h2("_stackId_")]={numericAxisId:a,cateAxisId:r,items:[f]};return hn(hn({},h),{},Jh({},S,_))},c),u={};return Object.keys(l).reduce(function(h,f){var y=l[f];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(v,b){var S=y.stackGroups[b];return hn(hn({},v),{},Jh({},b,{numericAxisId:a,cateAxisId:r,items:S.items,stackedData:I2t(t,S.items,i)}))},w)}return hn(hn({},h),{},Jh({},f,y))},u)},M2t=function(t,e){var a=e.realScaleType,r=e.type,i=e.tickCount,o=e.originalDomain,s=e.allowDecimals,c=a||e.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&r==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=t.domain();if(!l.length)return null;var u=Xft(l,i,s);return t.domain([sS(u),id(u)]),{niceTicks:u}}if(i&&r==="number"){var h=t.domain(),f=Yft(h,i,s);return{niceTicks:f}}return null};function NA(n){var t=n.axis,e=n.ticks,a=n.bandSize,r=n.entry,i=n.index,o=n.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ie(r[t.dataKey])){var s=rA(e,"value",r[t.dataKey]);if(s)return s.coordinate+a/2}return e[i]?e[i].coordinate+a/2:null}var c=Qa(r,ie(o)?t.dataKey:o);return ie(c)?null:t.scale(c)}var L$=function(t){var e=t.axis,a=t.ticks,r=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(e.type==="category")return a[s]?a[s].coordinate+r:null;var c=Qa(o,e.dataKey,e.domain[s]);return ie(c)?null:e.scale(c)-i/2+r},F2t=function(t){var e=t.numericAxis,a=e.scale.domain();if(e.type==="number"){var r=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return r<=0&&i>=0?0:i<0?i:r}return a[0]},$2t=function(t,e){var a,r=(a=t.type)!==null&&a!==void 0&&a.defaultProps?hn(hn({},t.type.defaultProps),t.props):t.props,i=r.stackId;if($n(i)){var o=e[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},G2t=function(t){return t.reduce(function(e,a){return[sS(a.concat([e[0]]).filter(xt)),id(a.concat([e[1]]).filter(xt))]},[1/0,-1/0])},wV=function(t,e,a){return Object.keys(t).reduce(function(r,i){var o=t[i],s=o.stackedData,c=s.reduce(function(l,u){var h=G2t(u.slice(e,a+1));return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]).map(function(r){return r===1/0||r===-1/0?0:r})},I$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,R$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gD=function(t,e,a){if(Qt(t))return t(e,a);if(!Array.isArray(t))return e;var r=[];if(xt(t[0]))r[0]=a?t[0]:Math.min(t[0],e[0]);else if(I$.test(t[0])){var i=+I$.exec(t[0])[1];r[0]=e[0]-i}else Qt(t[0])?r[0]=t[0](e[0]):r[0]=e[0];if(xt(t[1]))r[1]=a?t[1]:Math.max(t[1],e[1]);else if(R$.test(t[1])){var o=+R$.exec(t[1])[1];r[1]=e[1]+o}else Qt(t[1])?r[1]=t[1](e[1]):r[1]=e[1];return r},BA=function(t,e,a){if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!a||r>0)return r}if(t&&e&&e.length>=2){for(var i=zj(e,function(h){return h.coordinate}),o=1/0,s=1,c=i.length;s<c;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},M$=function(t,e,a){return!t||!t.length||Ff(t,Ci(a,"type.defaultProps.domain"))?e:t},AV=function(t,e){var a=t.type.defaultProps?hn(hn({},t.type.defaultProps),t.props):t.props,r=a.dataKey,i=a.name,o=a.unit,s=a.formatter,c=a.tooltipType,l=a.chartType,u=a.hide;return hn(hn({},Jt(t,!1)),{},{dataKey:r,unit:o,formatter:s,name:i||r,color:fO(t),value:Qa(e,r),type:c,payload:e,chartType:l,hide:u})};function Ix(n){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(n)}function F$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function $$(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(e),!0).forEach(function(a){U2t(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):F$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function U2t(n,t,e){return t=z2t(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function z2t(n){var t=q2t(n,"string");return Ix(t)=="symbol"?t:t+""}function q2t(n,t){if(Ix(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Ix(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var jA=Math.PI/180,H2t=function(t){return t*180/Math.PI},xa=function(t,e,a,r){return{x:t+Math.cos(-jA*r)*a,y:e+Math.sin(-jA*r)*a}},V2t=function(t,e){var a=t.x,r=t.y,i=e.x,o=e.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(r-o,2))},W2t=function(t,e){var a=t.x,r=t.y,i=e.cx,o=e.cy,s=V2t({x:a,y:r},{x:i,y:o});if(s<=0)return{radius:s};var c=(a-i)/s,l=Math.acos(c);return r>o&&(l=2*Math.PI-l),{radius:s,angle:H2t(l),angleInRadian:l}},K2t=function(t){var e=t.startAngle,a=t.endAngle,r=Math.floor(e/360),i=Math.floor(a/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:a-o*360}},X2t=function(t,e){var a=e.startAngle,r=e.endAngle,i=Math.floor(a/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},G$=function(t,e){var a=t.x,r=t.y,i=W2t({x:a,y:r},e),o=i.radius,s=i.angle,c=e.innerRadius,l=e.outerRadius;if(o<c||o>l)return!1;if(o===0)return!0;var u=K2t(e),h=u.startAngle,f=u.endAngle,y=s,w;if(h<=f){for(;y>f;)y-=360;for(;y<h;)y+=360;w=y>=h&&y<=f}else{for(;y>h;)y-=360;for(;y<f;)y+=360;w=y>=f&&y<=h}return w?$$($$({},e),{},{radius:o,angle:X2t(y,e)}):null};function Rx(n){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(n)}var Y2t=["offset"];function Q2t(n){return egt(n)||tgt(n)||Z2t(n)||J2t()}function J2t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2t(n,t){if(n){if(typeof n=="string")return xD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return xD(n,t)}}function tgt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function egt(n){if(Array.isArray(n))return xD(n)}function xD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function ngt(n,t){if(n==null)return{};var e=agt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function agt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function U$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function jn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(e),!0).forEach(function(a){rgt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):U$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function rgt(n,t,e){return t=igt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function igt(n){var t=ogt(n,"string");return Rx(t)=="symbol"?t:t+""}function ogt(n,t){if(Rx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Rx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Mx.apply(this,arguments)}var sgt=function(t){var e=t.value,a=t.formatter,r=ie(t.children)?e:t.children;return Qt(a)?a(r):r},cgt=function(t,e){var a=mo(e-t),r=Math.min(Math.abs(e-t),360);return a*r},lgt=function(t,e,a){var r=t.position,i=t.viewBox,o=t.offset,s=t.className,c=i,l=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,y=c.startAngle,w=c.endAngle,v=c.clockWise,b=(h+f)/2,S=cgt(y,w),_=S>=0?1:-1,P,E;r==="insideStart"?(P=y+_*o,E=v):r==="insideEnd"?(P=w-_*o,E=!v):r==="end"&&(P=w+_*o,E=v),E=S<=0?E:!E;var C=xa(l,u,b,P),T=xa(l,u,b,P+(E?1:-1)*359),B="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),L=ie(t.id)?h2("recharts-radial-line-"):t.id;return Y.createElement("text",Mx({},a,{dominantBaseline:"central",className:ce("recharts-radial-bar-label",s)}),Y.createElement("defs",null,Y.createElement("path",{id:L,d:B})),Y.createElement("textPath",{xlinkHref:"#".concat(L)},e))},dgt=function(t){var e=t.viewBox,a=t.offset,r=t.position,i=e,o=i.cx,s=i.cy,c=i.innerRadius,l=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(r==="outside"){var y=xa(o,s,l+a,f),w=y.x,v=y.y;return{x:w,y:v,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(c+l)/2,S=xa(o,s,b,f),_=S.x,P=S.y;return{x:_,y:P,textAnchor:"middle",verticalAnchor:"middle"}},ugt=function(t){var e=t.viewBox,a=t.parentViewBox,r=t.offset,i=t.position,o=e,s=o.x,c=o.y,l=o.width,u=o.height,h=u>=0?1:-1,f=h*r,y=h>0?"end":"start",w=h>0?"start":"end",v=l>=0?1:-1,b=v*r,S=v>0?"end":"start",_=v>0?"start":"end";if(i==="top"){var P={x:s+l/2,y:c-h*r,textAnchor:"middle",verticalAnchor:y};return jn(jn({},P),a?{height:Math.max(c-a.y,0),width:l}:{})}if(i==="bottom"){var E={x:s+l/2,y:c+u+f,textAnchor:"middle",verticalAnchor:w};return jn(jn({},E),a?{height:Math.max(a.y+a.height-(c+u),0),width:l}:{})}if(i==="left"){var C={x:s-b,y:c+u/2,textAnchor:S,verticalAnchor:"middle"};return jn(jn({},C),a?{width:Math.max(C.x-a.x,0),height:u}:{})}if(i==="right"){var T={x:s+l+b,y:c+u/2,textAnchor:_,verticalAnchor:"middle"};return jn(jn({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:u}:{})}var B=a?{width:l,height:u}:{};return i==="insideLeft"?jn({x:s+b,y:c+u/2,textAnchor:_,verticalAnchor:"middle"},B):i==="insideRight"?jn({x:s+l-b,y:c+u/2,textAnchor:S,verticalAnchor:"middle"},B):i==="insideTop"?jn({x:s+l/2,y:c+f,textAnchor:"middle",verticalAnchor:w},B):i==="insideBottom"?jn({x:s+l/2,y:c+u-f,textAnchor:"middle",verticalAnchor:y},B):i==="insideTopLeft"?jn({x:s+b,y:c+f,textAnchor:_,verticalAnchor:w},B):i==="insideTopRight"?jn({x:s+l-b,y:c+f,textAnchor:S,verticalAnchor:w},B):i==="insideBottomLeft"?jn({x:s+b,y:c+u-f,textAnchor:_,verticalAnchor:y},B):i==="insideBottomRight"?jn({x:s+l-b,y:c+u-f,textAnchor:S,verticalAnchor:y},B):u2(i)&&(xt(i.x)||au(i.x))&&(xt(i.y)||au(i.y))?jn({x:s+km(i.x,l),y:c+km(i.y,u),textAnchor:"end",verticalAnchor:"end"},B):jn({x:s+l/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},B)},mgt=function(t){return"cx"in t&&xt(t.cx)};function ja(n){var t=n.offset,e=t===void 0?5:t,a=ngt(n,Y2t),r=jn({offset:e},a),i=r.viewBox,o=r.position,s=r.value,c=r.children,l=r.content,u=r.className,h=u===void 0?"":u,f=r.textBreakAll;if(!i||ie(s)&&ie(c)&&!I.isValidElement(l)&&!Qt(l))return null;if(I.isValidElement(l))return I.cloneElement(l,r);var y;if(Qt(l)){if(y=I.createElement(l,r),I.isValidElement(y))return y}else y=sgt(r);var w=mgt(i),v=Jt(r,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lgt(r,y,v);var b=w?dgt(r):ugt(r);return Y.createElement(xA,Mx({className:ce("recharts-label",h)},v,b,{breakAll:f}),y)}ja.displayName="Label";var SV=function(t){var e=t.cx,a=t.cy,r=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,l=t.innerRadius,u=t.outerRadius,h=t.x,f=t.y,y=t.top,w=t.left,v=t.width,b=t.height,S=t.clockWise,_=t.labelViewBox;if(_)return _;if(xt(v)&&xt(b)){if(xt(h)&&xt(f))return{x:h,y:f,width:v,height:b};if(xt(y)&&xt(w))return{x:y,y:w,width:v,height:b}}return xt(h)&&xt(f)?{x:h,y:f,width:0,height:0}:xt(e)&&xt(a)?{cx:e,cy:a,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||c||s||0,clockWise:S}:t.viewBox?t.viewBox:{}},hgt=function(t,e){return t?t===!0?Y.createElement(ja,{key:"label-implicit",viewBox:e}):$n(t)?Y.createElement(ja,{key:"label-implicit",viewBox:e,value:t}):I.isValidElement(t)?t.type===ja?I.cloneElement(t,{key:"label-implicit",viewBox:e}):Y.createElement(ja,{key:"label-implicit",content:t,viewBox:e}):Qt(t)?Y.createElement(ja,{key:"label-implicit",content:t,viewBox:e}):u2(t)?Y.createElement(ja,Mx({viewBox:e},t,{key:"label-implicit"})):null:null},pgt=function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var r=t.children,i=SV(t),o=Ei(r,ja).map(function(c,l){return I.cloneElement(c,{viewBox:e||i,key:"label-".concat(l)})});if(!a)return o;var s=hgt(t.label,e||i);return[s].concat(Q2t(o))};ja.parseViewBox=SV;ja.renderCallByParent=pgt;var pE,z$;function fgt(){if(z$)return pE;z$=1;function n(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return pE=n,pE}var ggt=fgt();const xgt=Ee(ggt);function Fx(n){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(n)}var ygt=["valueAccessor"],vgt=["data","dataKey","clockWise","id","textBreakAll"];function bgt(n){return _gt(n)||Sgt(n)||Agt(n)||wgt()}function wgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Agt(n,t){if(n){if(typeof n=="string")return yD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return yD(n,t)}}function Sgt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _gt(n){if(Array.isArray(n))return yD(n)}function yD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function OA(){return OA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},OA.apply(this,arguments)}function q$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function H$(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(e),!0).forEach(function(a){Pgt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):q$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Pgt(n,t,e){return t=kgt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function kgt(n){var t=Cgt(n,"string");return Fx(t)=="symbol"?t:t+""}function Cgt(n,t){if(Fx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Fx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function V$(n,t){if(n==null)return{};var e=Egt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Egt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}var Tgt=function(t){return Array.isArray(t.value)?xgt(t.value):t.value};function vc(n){var t=n.valueAccessor,e=t===void 0?Tgt:t,a=V$(n,ygt),r=a.data,i=a.dataKey,o=a.clockWise,s=a.id,c=a.textBreakAll,l=V$(a,vgt);return!r||!r.length?null:Y.createElement(Me,{className:"recharts-label-list"},r.map(function(u,h){var f=ie(i)?e(u,h):Qa(u&&u.payload,i),y=ie(s)?{}:{id:"".concat(s,"-").concat(h)};return Y.createElement(ja,OA({},Jt(u,!0),l,y,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:ja.parseViewBox(ie(o)?u:H$(H$({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}vc.displayName="LabelList";function Dgt(n,t){return n?n===!0?Y.createElement(vc,{key:"labelList-implicit",data:t}):Y.isValidElement(n)||Qt(n)?Y.createElement(vc,{key:"labelList-implicit",data:t,content:n}):u2(n)?Y.createElement(vc,OA({data:t},n,{key:"labelList-implicit"})):null:null}function Ngt(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&e&&!n.label)return null;var a=n.children,r=Ei(a,vc).map(function(o,s){return I.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!e)return r;var i=Dgt(n.label,t);return[i].concat(bgt(r))}vc.renderCallByParent=Ngt;function $x(n){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(n)}function vD(){return vD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},vD.apply(this,arguments)}function W$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function K$(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(e),!0).forEach(function(a){Bgt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):W$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Bgt(n,t,e){return t=jgt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jgt(n){var t=Ogt(n,"string");return $x(t)=="symbol"?t:t+""}function Ogt(n,t){if($x(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if($x(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Lgt=function(t,e){var a=mo(e-t),r=Math.min(Math.abs(e-t),359.999);return a*r},zb=function(t){var e=t.cx,a=t.cy,r=t.radius,i=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,l=t.cornerIsExternal,u=c*(s?1:-1)+r,h=Math.asin(c/u)/jA,f=l?i:i+o*h,y=xa(e,a,u,f),w=xa(e,a,r,f),v=l?i-o*h:i,b=xa(e,a,u*Math.cos(h*jA),v);return{center:y,circleTangency:w,lineTangency:b,theta:h}},_V=function(t){var e=t.cx,a=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,c=Lgt(o,s),l=o+c,u=xa(e,a,i,o),h=xa(e,a,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>l),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=xa(e,a,r,o),w=xa(e,a,r,l);f+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=l),`,
            `).concat(y.x,",").concat(y.y," Z")}else f+="L ".concat(e,",").concat(a," Z");return f},Igt=function(t){var e=t.cx,a=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,h=mo(u-l),f=zb({cx:e,cy:a,radius:i,angle:l,sign:h,cornerRadius:o,cornerIsExternal:c}),y=f.circleTangency,w=f.lineTangency,v=f.theta,b=zb({cx:e,cy:a,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),S=b.circleTangency,_=b.lineTangency,P=b.theta,E=c?Math.abs(l-u):Math.abs(l-u)-v-P;if(E<0)return s?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_V({cx:e,cy:a,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var T=zb({cx:e,cy:a,radius:r,angle:l,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=T.circleTangency,L=T.lineTangency,M=T.theta,U=zb({cx:e,cy:a,radius:r,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=U.circleTangency,G=U.lineTangency,$=U.theta,H=c?Math.abs(l-u):Math.abs(l-u)-M-$;if(H<0&&o===0)return"".concat(C,"L").concat(e,",").concat(a,"Z");C+="L".concat(G.x,",").concat(G.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(a,"Z");return C},Rgt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PV=function(t){var e=K$(K$({},Rgt),t),a=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,c=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,f=e.className;if(o<i||u===h)return null;var y=ce("recharts-sector",f),w=o-i,v=km(s,w,0,!0),b;return v>0&&Math.abs(u-h)<360?b=Igt({cx:a,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,w/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:h}):b=_V({cx:a,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),Y.createElement("path",vD({},Jt(e,!0),{className:y,d:b,role:"img"}))};function Gx(n){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(n)}function bD(){return bD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},bD.apply(this,arguments)}function X$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Y$(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(e),!0).forEach(function(a){Mgt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X$(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Mgt(n,t,e){return t=Fgt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Fgt(n){var t=$gt(n,"string");return Gx(t)=="symbol"?t:t+""}function $gt(n,t){if(Gx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Gx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Q$={curveBasisClosed:olt,curveBasisOpen:slt,curveBasis:ilt,curveBumpX:Hct,curveBumpY:Vct,curveLinearClosed:clt,curveLinear:Y1,curveMonotoneX:llt,curveMonotoneY:dlt,curveNatural:ult,curveStep:mlt,curveStepAfter:plt,curveStepBefore:hlt},qb=function(t){return t.x===+t.x&&t.y===+t.y},mg=function(t){return t.x},hg=function(t){return t.y},Ggt=function(t,e){if(Qt(t))return t;var a="curve".concat(K1(t));return(a==="curveMonotone"||a==="curveBump")&&e?Q$["".concat(a).concat(e==="vertical"?"Y":"X")]:Q$[a]||Y1},Ugt=function(t){var e=t.type,a=e===void 0?"linear":e,r=t.points,i=r===void 0?[]:r,o=t.baseLine,s=t.layout,c=t.connectNulls,l=c===void 0?!1:c,u=Ggt(a,s),h=l?i.filter(function(v){return qb(v)}):i,f;if(Array.isArray(o)){var y=l?o.filter(function(v){return qb(v)}):o,w=h.map(function(v,b){return Y$(Y$({},v),{},{base:y[b]})});return s==="vertical"?f=Lb().y(hg).x1(mg).x0(function(v){return v.base.x}):f=Lb().x(mg).y1(hg).y0(function(v){return v.base.y}),f.defined(qb).curve(u),f(w)}return s==="vertical"&&xt(o)?f=Lb().y(hg).x1(mg).x0(o):xt(o)?f=Lb().x(mg).y1(hg).y0(o):f=T9().x(mg).y(hg),f.defined(qb).curve(u),f(h)},Zh=function(t){var e=t.className,a=t.points,r=t.path,i=t.pathRef;if((!a||!a.length)&&!r)return null;var o=a&&a.length?Ugt(t):r;return Y.createElement("path",bD({},Jt(t,!1),iA(t),{className:ce("recharts-curve",e),d:o,ref:i}))},fE={exports:{}},gE,J$;function zgt(){if(J$)return gE;J$=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gE=n,gE}var xE,Z$;function qgt(){if(Z$)return xE;Z$=1;var n=zgt();function t(){}function e(){}return e.resetWarningCache=t,xE=function(){function a(o,s,c,l,u,h){if(h!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function r(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return i.PropTypes=i,i},xE}var t8;function Hgt(){return t8||(t8=1,fE.exports=qgt()()),fE.exports}var Vgt=Hgt();const xe=Ee(Vgt);var Wgt=Object.getOwnPropertyNames,Kgt=Object.getOwnPropertySymbols,Xgt=Object.prototype.hasOwnProperty;function e8(n,t){return function(a,r,i){return n(a,r,i)&&t(a,r,i)}}function Hb(n){return function(e,a,r){if(!e||!a||typeof e!="object"||typeof a!="object")return n(e,a,r);var i=r.cache,o=i.get(e),s=i.get(a);if(o&&s)return o===a&&s===e;i.set(e,a),i.set(a,e);var c=n(e,a,r);return i.delete(e),i.delete(a),c}}function n8(n){return Wgt(n).concat(Kgt(n))}var Ygt=Object.hasOwn||function(n,t){return Xgt.call(n,t)};function Fm(n,t){return n===t||!n&&!t&&n!==n&&t!==t}var Qgt="__v",Jgt="__o",Zgt="_owner",a8=Object.getOwnPropertyDescriptor,r8=Object.keys;function txt(n,t,e){var a=n.length;if(t.length!==a)return!1;for(;a-- >0;)if(!e.equals(n[a],t[a],a,a,n,t,e))return!1;return!0}function ext(n,t){return Fm(n.getTime(),t.getTime())}function nxt(n,t){return n.name===t.name&&n.message===t.message&&n.cause===t.cause&&n.stack===t.stack}function axt(n,t){return n===t}function i8(n,t,e){var a=n.size;if(a!==t.size)return!1;if(!a)return!0;for(var r=new Array(a),i=n.entries(),o,s,c=0;(o=i.next())&&!o.done;){for(var l=t.entries(),u=!1,h=0;(s=l.next())&&!s.done;){if(r[h]){h++;continue}var f=o.value,y=s.value;if(e.equals(f[0],y[0],c,h,n,t,e)&&e.equals(f[1],y[1],f[0],y[0],n,t,e)){u=r[h]=!0;break}h++}if(!u)return!1;c++}return!0}var rxt=Fm;function ixt(n,t,e){var a=r8(n),r=a.length;if(r8(t).length!==r)return!1;for(;r-- >0;)if(!kV(n,t,e,a[r]))return!1;return!0}function pg(n,t,e){var a=n8(n),r=a.length;if(n8(t).length!==r)return!1;for(var i,o,s;r-- >0;)if(i=a[r],!kV(n,t,e,i)||(o=a8(n,i),s=a8(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function oxt(n,t){return Fm(n.valueOf(),t.valueOf())}function sxt(n,t){return n.source===t.source&&n.flags===t.flags}function o8(n,t,e){var a=n.size;if(a!==t.size)return!1;if(!a)return!0;for(var r=new Array(a),i=n.values(),o,s;(o=i.next())&&!o.done;){for(var c=t.values(),l=!1,u=0;(s=c.next())&&!s.done;){if(!r[u]&&e.equals(o.value,s.value,o.value,s.value,n,t,e)){l=r[u]=!0;break}u++}if(!l)return!1}return!0}function cxt(n,t){var e=n.length;if(t.length!==e)return!1;for(;e-- >0;)if(n[e]!==t[e])return!1;return!0}function lxt(n,t){return n.hostname===t.hostname&&n.pathname===t.pathname&&n.protocol===t.protocol&&n.port===t.port&&n.hash===t.hash&&n.username===t.username&&n.password===t.password}function kV(n,t,e,a){return(a===Zgt||a===Jgt||a===Qgt)&&(n.$$typeof||t.$$typeof)?!0:Ygt(t,a)&&e.equals(n[a],t[a],a,a,n,t,e)}var dxt="[object Arguments]",uxt="[object Boolean]",mxt="[object Date]",hxt="[object Error]",pxt="[object Map]",fxt="[object Number]",gxt="[object Object]",xxt="[object RegExp]",yxt="[object Set]",vxt="[object String]",bxt="[object URL]",wxt=Array.isArray,s8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,c8=Object.assign,Axt=Object.prototype.toString.call.bind(Object.prototype.toString);function Sxt(n){var t=n.areArraysEqual,e=n.areDatesEqual,a=n.areErrorsEqual,r=n.areFunctionsEqual,i=n.areMapsEqual,o=n.areNumbersEqual,s=n.areObjectsEqual,c=n.arePrimitiveWrappersEqual,l=n.areRegExpsEqual,u=n.areSetsEqual,h=n.areTypedArraysEqual,f=n.areUrlsEqual;return function(w,v,b){if(w===v)return!0;if(w==null||v==null)return!1;var S=typeof w;if(S!==typeof v)return!1;if(S!=="object")return S==="number"?o(w,v,b):S==="function"?r(w,v,b):!1;var _=w.constructor;if(_!==v.constructor)return!1;if(_===Object)return s(w,v,b);if(wxt(w))return t(w,v,b);if(s8!=null&&s8(w))return h(w,v,b);if(_===Date)return e(w,v,b);if(_===RegExp)return l(w,v,b);if(_===Map)return i(w,v,b);if(_===Set)return u(w,v,b);var P=Axt(w);return P===mxt?e(w,v,b):P===xxt?l(w,v,b):P===pxt?i(w,v,b):P===yxt?u(w,v,b):P===gxt?typeof w.then!="function"&&typeof v.then!="function"&&s(w,v,b):P===bxt?f(w,v,b):P===hxt?a(w,v,b):P===dxt?s(w,v,b):P===uxt||P===fxt||P===vxt?c(w,v,b):!1}}function _xt(n){var t=n.circular,e=n.createCustomConfig,a=n.strict,r={areArraysEqual:a?pg:txt,areDatesEqual:ext,areErrorsEqual:nxt,areFunctionsEqual:axt,areMapsEqual:a?e8(i8,pg):i8,areNumbersEqual:rxt,areObjectsEqual:a?pg:ixt,arePrimitiveWrappersEqual:oxt,areRegExpsEqual:sxt,areSetsEqual:a?e8(o8,pg):o8,areTypedArraysEqual:a?pg:cxt,areUrlsEqual:lxt};if(e&&(r=c8({},r,e(r))),t){var i=Hb(r.areArraysEqual),o=Hb(r.areMapsEqual),s=Hb(r.areObjectsEqual),c=Hb(r.areSetsEqual);r=c8({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return r}function Pxt(n){return function(t,e,a,r,i,o,s){return n(t,e,s)}}function kxt(n){var t=n.circular,e=n.comparator,a=n.createState,r=n.equals,i=n.strict;if(a)return function(c,l){var u=a(),h=u.cache,f=h===void 0?t?new WeakMap:void 0:h,y=u.meta;return e(c,l,{cache:f,equals:r,meta:y,strict:i})};if(t)return function(c,l){return e(c,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};var o={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,l){return e(c,l,o)}}var Cxt=Sd();Sd({strict:!0});Sd({circular:!0});Sd({circular:!0,strict:!0});Sd({createInternalComparator:function(){return Fm}});Sd({strict:!0,createInternalComparator:function(){return Fm}});Sd({circular:!0,createInternalComparator:function(){return Fm}});Sd({circular:!0,createInternalComparator:function(){return Fm},strict:!0});function Sd(n){n===void 0&&(n={});var t=n.circular,e=t===void 0?!1:t,a=n.createInternalComparator,r=n.createState,i=n.strict,o=i===void 0?!1:i,s=_xt(n),c=Sxt(s),l=a?a(c):Pxt(c);return kxt({circular:e,comparator:c,createState:r,equals:l,strict:o})}function Ext(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function l8(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=-1,a=function r(i){e<0&&(e=i),i-e>t?(n(i),e=-1):Ext(r)};requestAnimationFrame(a)}function wD(n){"@babel/helpers - typeof";return wD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wD(n)}function Txt(n){return jxt(n)||Bxt(n)||Nxt(n)||Dxt()}function Dxt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nxt(n,t){if(n){if(typeof n=="string")return d8(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d8(n,t)}}function d8(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function Bxt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jxt(n){if(Array.isArray(n))return n}function Oxt(){var n={},t=function(){return null},e=!1,a=function r(i){if(!e){if(Array.isArray(i)){if(!i.length)return;var o=i,s=Txt(o),c=s[0],l=s.slice(1);if(typeof c=="number"){l8(r.bind(null,l),c);return}r(c),l8(r.bind(null,l));return}wD(i)==="object"&&(n=i,t(n)),typeof i=="function"&&i()}};return{stop:function(){e=!0},start:function(i){e=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ux(n){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(n)}function u8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function m8(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(e),!0).forEach(function(a){CV(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):u8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function CV(n,t,e){return t=Lxt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lxt(n){var t=Ixt(n,"string");return Ux(t)==="symbol"?t:String(t)}function Ixt(n,t){if(Ux(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Ux(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Rxt=function(t,e){return[Object.keys(t),Object.keys(e)].reduce(function(a,r){return a.filter(function(i){return r.includes(i)})})},Mxt=function(t){return t},Fxt=function(t){return t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})},ix=function(t,e){return Object.keys(e).reduce(function(a,r){return m8(m8({},a),{},CV({},r,t(r,e[r])))},{})},h8=function(t,e,a){return t.map(function(r){return"".concat(Fxt(r)," ").concat(e,"ms ").concat(a)}).join(",")};function $xt(n,t){return zxt(n)||Uxt(n,t)||EV(n,t)||Gxt()}function Gxt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function zxt(n){if(Array.isArray(n))return n}function qxt(n){return Wxt(n)||Vxt(n)||EV(n)||Hxt()}function Hxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(n,t){if(n){if(typeof n=="string")return AD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return AD(n,t)}}function Vxt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Wxt(n){if(Array.isArray(n))return AD(n)}function AD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}var LA=1e-4,TV=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},DV=function(t,e){return t.map(function(a,r){return a*Math.pow(e,r)}).reduce(function(a,r){return a+r})},p8=function(t,e){return function(a){var r=TV(t,e);return DV(r,a)}},Kxt=function(t,e){return function(a){var r=TV(t,e),i=[].concat(qxt(r.map(function(o,s){return o*s}).slice(1)),[0]);return DV(i,a)}},f8=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var r=e[0],i=e[1],o=e[2],s=e[3];if(e.length===1)switch(e[0]){case"linear":r=0,i=0,o=1,s=1;break;case"ease":r=.25,i=.1,o=.25,s=1;break;case"ease-in":r=.42,i=0,o=1,s=1;break;case"ease-out":r=.42,i=0,o=.58,s=1;break;case"ease-in-out":r=0,i=0,o=.58,s=1;break;default:{var c=e[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=$xt(l,4);r=u[0],i=u[1],o=u[2],s=u[3]}}}var h=p8(r,o),f=p8(i,s),y=Kxt(r,o),w=function(S){return S>1?1:S<0?0:S},v=function(S){for(var _=S>1?1:S,P=_,E=0;E<8;++E){var C=h(P)-_,T=y(P);if(Math.abs(C-_)<LA||T<LA)return f(P);P=w(P-C/T)}return f(P)};return v.isStepper=!1,v},Xxt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.stiff,a=e===void 0?100:e,r=t.damping,i=r===void 0?8:r,o=t.dt,s=o===void 0?17:o,c=function(u,h,f){var y=-(u-h)*a,w=f*i,v=f+(y-w)*s/1e3,b=f*s/1e3+u;return Math.abs(b-h)<LA&&Math.abs(v)<LA?[h,0]:[b,v]};return c.isStepper=!0,c.dt=s,c},Yxt=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var r=e[0];if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f8(r);case"spring":return Xxt();default:if(r.split("(")[0]==="cubic-bezier")return f8(r)}return typeof r=="function"?r:null};function zx(n){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(n)}function g8(n){return Zxt(n)||Jxt(n)||NV(n)||Qxt()}function Qxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Zxt(n){if(Array.isArray(n))return _D(n)}function x8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function ua(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(e),!0).forEach(function(a){SD(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):x8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function SD(n,t,e){return t=t0t(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function t0t(n){var t=e0t(n,"string");return zx(t)==="symbol"?t:String(t)}function e0t(n,t){if(zx(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(zx(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function n0t(n,t){return i0t(n)||r0t(n,t)||NV(n,t)||a0t()}function a0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NV(n,t){if(n){if(typeof n=="string")return _D(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _D(n,t)}}function _D(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function r0t(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function i0t(n){if(Array.isArray(n))return n}var IA=function(t,e,a){return t+(e-t)*a},PD=function(t){var e=t.from,a=t.to;return e!==a},o0t=function n(t,e,a){var r=ix(function(i,o){if(PD(o)){var s=t(o.from,o.to,o.velocity),c=n0t(s,2),l=c[0],u=c[1];return ua(ua({},o),{},{from:l,velocity:u})}return o},e);return a<1?ix(function(i,o){return PD(o)?ua(ua({},o),{},{velocity:IA(o.velocity,r[i].velocity,a),from:IA(o.from,r[i].from,a)}):o},e):n(t,r,a-1)};const s0t=function(n,t,e,a,r){var i=Rxt(n,t),o=i.reduce(function(b,S){return ua(ua({},b),{},SD({},S,[n[S],t[S]]))},{}),s=i.reduce(function(b,S){return ua(ua({},b),{},SD({},S,{from:n[S],velocity:0,to:t[S]}))},{}),c=-1,l,u,h=function(){return null},f=function(){return ix(function(S,_){return _.from},s)},y=function(){return!Object.values(s).filter(PD).length},w=function(S){l||(l=S);var _=S-l,P=_/e.dt;s=o0t(e,s,P),r(ua(ua(ua({},n),t),f())),l=S,y()||(c=requestAnimationFrame(h))},v=function(S){u||(u=S);var _=(S-u)/a,P=ix(function(C,T){return IA.apply(void 0,g8(T).concat([e(_)]))},o);if(r(ua(ua(ua({},n),t),P)),_<1)c=requestAnimationFrame(h);else{var E=ix(function(C,T){return IA.apply(void 0,g8(T).concat([e(1)]))},o);r(ua(ua(ua({},n),t),E))}};return h=e.isStepper?w:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Gf(n){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(n)}var c0t=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function l0t(n,t){if(n==null)return{};var e=d0t(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function d0t(n,t){if(n==null)return{};var e={},a=Object.keys(n),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function yE(n){return p0t(n)||h0t(n)||m0t(n)||u0t()}function u0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0t(n,t){if(n){if(typeof n=="string")return kD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return kD(n,t)}}function h0t(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function p0t(n){if(Array.isArray(n))return kD(n)}function kD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function y8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function zi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(e),!0).forEach(function(a){Pg(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):y8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Pg(n,t,e){return t=BV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function f0t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function g0t(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,BV(a.key),a)}}function x0t(n,t,e){return t&&g0t(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function BV(n){var t=y0t(n,"string");return Gf(t)==="symbol"?t:String(t)}function y0t(n,t){if(Gf(n)!=="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Gf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function v0t(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&CD(n,t)}function CD(n,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},CD(n,t)}function b0t(n){var t=w0t();return function(){var a=RA(n),r;if(t){var i=RA(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return ED(this,r)}}function ED(n,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TD(n)}function TD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function w0t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RA(n){return RA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RA(n)}var ds=function(n){v0t(e,n);var t=b0t(e);function e(a,r){var i;f0t(this,e),i=t.call(this,a,r);var o=i.props,s=o.isActive,c=o.attributeName,l=o.from,u=o.to,h=o.steps,f=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(TD(i)),i.changeStyle=i.changeStyle.bind(TD(i)),!s||y<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),ED(i);if(h&&h.length)i.state={style:h[0].style};else if(l){if(typeof f=="function")return i.state={style:l},ED(i);i.state={style:c?Pg({},c,l):l}}else i.state={style:{}};return i}return x0t(e,[{key:"componentDidMount",value:function(){var r=this.props,i=r.isActive,o=r.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(r){var i=this.props,o=i.isActive,s=i.canBegin,c=i.attributeName,l=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(s){if(!o){var y={style:c?Pg({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(y);return}if(!(Cxt(r.to,u)&&r.canBegin&&r.isActive)){var w=!r.canBegin||!r.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=w||l?h:r.to;if(this.state&&f){var b={style:c?Pg({},c,v):v};(c&&f[c]!==v||!c&&f!==v)&&this.setState(b)}this.runAnimation(zi(zi({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}},{key:"handleStyleChange",value:function(r){this.changeStyle(r)}},{key:"changeStyle",value:function(r){this.mounted&&this.setState({style:r})}},{key:"runJSAnimation",value:function(r){var i=this,o=r.from,s=r.to,c=r.duration,l=r.easing,u=r.begin,h=r.onAnimationEnd,f=r.onAnimationStart,y=s0t(o,s,Yxt(l),c,this.changeStyle),w=function(){i.stopJSAnimation=y()};this.manager.start([f,u,w,c,h])}},{key:"runStepAnimation",value:function(r){var i=this,o=r.steps,s=r.begin,c=r.onAnimationStart,l=o[0],u=l.style,h=l.duration,f=h===void 0?0:h,y=function(v,b,S){if(S===0)return v;var _=b.duration,P=b.easing,E=P===void 0?"ease":P,C=b.style,T=b.properties,B=b.onAnimationEnd,L=S>0?o[S-1]:b,M=T||Object.keys(C);if(typeof E=="function"||E==="spring")return[].concat(yE(v),[i.runJSAnimation.bind(i,{from:L.style,to:C,duration:_,easing:E}),_]);var U=h8(M,_,E),F=zi(zi(zi({},L.style),C),{},{transition:U});return[].concat(yE(v),[F,_,B]).filter(Mxt)};return this.manager.start([c].concat(yE(o.reduce(y,[u,Math.max(f,s)])),[r.onAnimationEnd]))}},{key:"runAnimation",value:function(r){this.manager||(this.manager=Oxt());var i=r.begin,o=r.duration,s=r.attributeName,c=r.to,l=r.easing,u=r.onAnimationStart,h=r.onAnimationEnd,f=r.steps,y=r.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof l=="function"||typeof y=="function"||l==="spring"){this.runJSAnimation(r);return}if(f.length>1){this.runStepAnimation(r);return}var v=s?Pg({},s,c):c,b=h8(Object.keys(v),o,l);w.start([u,i,zi(zi({},v),{},{transition:b}),o,h])}},{key:"render",value:function(){var r=this.props,i=r.children;r.begin;var o=r.duration;r.attributeName,r.easing;var s=r.isActive;r.steps,r.from,r.to,r.canBegin,r.onAnimationEnd,r.shouldReAnimate,r.onAnimationReStart;var c=l0t(r,c0t),l=I.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!s||l===0||o<=0)return i;var h=function(y){var w=y.props,v=w.style,b=v===void 0?{}:v,S=w.className,_=I.cloneElement(y,zi(zi({},c),{},{style:zi(zi({},b),u),className:S}));return _};return l===1?h(I.Children.only(i)):Y.createElement("div",null,I.Children.map(i,function(f){return h(f)}))}}]),e}(I.PureComponent);ds.displayName="Animate";ds.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ds.propTypes={from:xe.oneOfType([xe.object,xe.string]),to:xe.oneOfType([xe.object,xe.string]),attributeName:xe.string,duration:xe.number,begin:xe.number,easing:xe.oneOfType([xe.string,xe.func]),steps:xe.arrayOf(xe.shape({duration:xe.number.isRequired,style:xe.object.isRequired,easing:xe.oneOfType([xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xe.func]),properties:xe.arrayOf("string"),onAnimationEnd:xe.func})),children:xe.oneOfType([xe.node,xe.func]),isActive:xe.bool,canBegin:xe.bool,onAnimationEnd:xe.func,shouldReAnimate:xe.bool,onAnimationStart:xe.func,onAnimationReStart:xe.func};function qx(n){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(n)}function MA(){return MA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},MA.apply(this,arguments)}function A0t(n,t){return k0t(n)||P0t(n,t)||_0t(n,t)||S0t()}function S0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0t(n,t){if(n){if(typeof n=="string")return v8(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return v8(n,t)}}function v8(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function P0t(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function k0t(n){if(Array.isArray(n))return n}function b8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function w8(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(e),!0).forEach(function(a){C0t(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):b8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function C0t(n,t,e){return t=E0t(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function E0t(n){var t=T0t(n,"string");return qx(t)=="symbol"?t:t+""}function T0t(n,t){if(qx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(qx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var A8=function(t,e,a,r,i){var o=Math.min(Math.abs(a)/2,Math.abs(r)/2),s=r>=0?1:-1,c=a>=0?1:-1,l=r>=0&&a>=0||r<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,y=4;f<y;f++)h[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(l,",").concat(t+c*h[0],",").concat(e)),u+="L ".concat(t+a-c*h[1],",").concat(e),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(l,`,
        `).concat(t+a,",").concat(e+s*h[1])),u+="L ".concat(t+a,",").concat(e+r-s*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(l,`,
        `).concat(t+a-c*h[2],",").concat(e+r)),u+="L ".concat(t+c*h[3],",").concat(e+r),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);u="M ".concat(t,",").concat(e+s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(l,",").concat(t+c*w,",").concat(e,`
            L `).concat(t+a-c*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(l,",").concat(t+a,",").concat(e+s*w,`
            L `).concat(t+a,",").concat(e+r-s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(l,",").concat(t+a-c*w,",").concat(e+r,`
            L `).concat(t+c*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*w," Z")}else u="M ".concat(t,",").concat(e," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return u},D0t=function(t,e){if(!t||!e)return!1;var a=t.x,r=t.y,i=e.x,o=e.y,s=e.width,c=e.height;if(Math.abs(s)>0&&Math.abs(c)>0){var l=Math.min(i,i+s),u=Math.max(i,i+s),h=Math.min(o,o+c),f=Math.max(o,o+c);return a>=l&&a<=u&&r>=h&&r<=f}return!1},N0t={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gO=function(t){var e=w8(w8({},N0t),t),a=I.useRef(),r=I.useState(-1),i=A0t(r,2),o=i[0],s=i[1];I.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var E=a.current.getTotalLength();E&&s(E)}catch{}},[]);var c=e.x,l=e.y,u=e.width,h=e.height,f=e.radius,y=e.className,w=e.animationEasing,v=e.animationDuration,b=e.animationBegin,S=e.isAnimationActive,_=e.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var P=ce("recharts-rectangle",y);return _?Y.createElement(ds,{canBegin:o>0,from:{width:u,height:h,x:c,y:l},to:{width:u,height:h,x:c,y:l},duration:v,animationEasing:w,isActive:_},function(E){var C=E.width,T=E.height,B=E.x,L=E.y;return Y.createElement(ds,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:S,easing:w},Y.createElement("path",MA({},Jt(e,!0),{className:P,d:A8(B,L,C,T,f),ref:a})))}):Y.createElement("path",MA({},Jt(e,!0),{className:P,d:A8(c,l,u,h,f)}))};function DD(){return DD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},DD.apply(this,arguments)}var dS=function(t){var e=t.cx,a=t.cy,r=t.r,i=t.className,o=ce("recharts-dot",i);return e===+e&&a===+a&&r===+r?Y.createElement("circle",DD({},Jt(t,!1),iA(t),{className:o,cx:e,cy:a,r})):null};function Hx(n){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(n)}var B0t=["x","y","top","left","width","height","className"];function ND(){return ND=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ND.apply(this,arguments)}function S8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function j0t(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(e),!0).forEach(function(a){O0t(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):S8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function O0t(n,t,e){return t=L0t(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function L0t(n){var t=I0t(n,"string");return Hx(t)=="symbol"?t:t+""}function I0t(n,t){if(Hx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Hx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function R0t(n,t){if(n==null)return{};var e=M0t(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function M0t(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}var F0t=function(t,e,a,r,i,o){return"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(a)},$0t=function(t){var e=t.x,a=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.top,s=o===void 0?0:o,c=t.left,l=c===void 0?0:c,u=t.width,h=u===void 0?0:u,f=t.height,y=f===void 0?0:f,w=t.className,v=R0t(t,B0t),b=j0t({x:a,y:i,top:s,left:l,width:h,height:y},v);return!xt(a)||!xt(i)||!xt(h)||!xt(y)||!xt(s)||!xt(l)?null:Y.createElement("path",ND({},Jt(b,!0),{className:ce("recharts-cross",w),d:F0t(a,i,h,y,s,l)}))},vE,_8;function G0t(){if(_8)return vE;_8=1;var n=J9(),t=n(Object.getPrototypeOf,Object);return vE=t,vE}var bE,P8;function U0t(){if(P8)return bE;P8=1;var n=Bc(),t=G0t(),e=jc(),a="[object Object]",r=Function.prototype,i=Object.prototype,o=r.toString,s=i.hasOwnProperty,c=o.call(Object);function l(u){if(!e(u)||n(u)!=a)return!1;var h=t(u);if(h===null)return!0;var f=s.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==c}return bE=l,bE}var z0t=U0t();const q0t=Ee(z0t);var wE,k8;function H0t(){if(k8)return wE;k8=1;var n=Bc(),t=jc(),e="[object Boolean]";function a(r){return r===!0||r===!1||t(r)&&n(r)==e}return wE=a,wE}var V0t=H0t();const W0t=Ee(V0t);function Vx(n){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(n)}function FA(){return FA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},FA.apply(this,arguments)}function K0t(n,t){return J0t(n)||Q0t(n,t)||Y0t(n,t)||X0t()}function X0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y0t(n,t){if(n){if(typeof n=="string")return C8(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C8(n,t)}}function C8(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function Q0t(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function J0t(n){if(Array.isArray(n))return n}function E8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function T8(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(e),!0).forEach(function(a){Z0t(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):E8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Z0t(n,t,e){return t=tyt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tyt(n){var t=eyt(n,"string");return Vx(t)=="symbol"?t:t+""}function eyt(n,t){if(Vx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Vx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var D8=function(t,e,a,r,i){var o=a-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+a,",").concat(e),s+="L ".concat(t+a-o/2,",").concat(e+i),s+="L ".concat(t+a-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},nyt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ayt=function(t){var e=T8(T8({},nyt),t),a=I.useRef(),r=I.useState(-1),i=K0t(r,2),o=i[0],s=i[1];I.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var P=a.current.getTotalLength();P&&s(P)}catch{}},[]);var c=e.x,l=e.y,u=e.upperWidth,h=e.lowerWidth,f=e.height,y=e.className,w=e.animationEasing,v=e.animationDuration,b=e.animationBegin,S=e.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var _=ce("recharts-trapezoid",y);return S?Y.createElement(ds,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:l},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:l},duration:v,animationEasing:w,isActive:S},function(P){var E=P.upperWidth,C=P.lowerWidth,T=P.height,B=P.x,L=P.y;return Y.createElement(ds,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:w},Y.createElement("path",FA({},Jt(e,!0),{className:_,d:D8(B,L,E,C,T),ref:a})))}):Y.createElement("g",null,Y.createElement("path",FA({},Jt(e,!0),{className:_,d:D8(c,l,u,h,f)})))},ryt=["option","shapeType","propTransformer","activeClassName","isActive"];function Wx(n){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(n)}function iyt(n,t){if(n==null)return{};var e=oyt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function oyt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function N8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function $A(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(e),!0).forEach(function(a){syt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function syt(n,t,e){return t=cyt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cyt(n){var t=lyt(n,"string");return Wx(t)=="symbol"?t:t+""}function lyt(n,t){if(Wx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Wx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function dyt(n,t){return $A($A({},t),n)}function uyt(n,t){return n==="symbols"}function B8(n){var t=n.shapeType,e=n.elementProps;switch(t){case"rectangle":return Y.createElement(gO,e);case"trapezoid":return Y.createElement(ayt,e);case"sector":return Y.createElement(PV,e);case"symbols":if(uyt(t))return Y.createElement(Lj,e);break;default:return null}}function myt(n){return I.isValidElement(n)?n.props:n}function hyt(n){var t=n.option,e=n.shapeType,a=n.propTransformer,r=a===void 0?dyt:a,i=n.activeClassName,o=i===void 0?"recharts-active-shape":i,s=n.isActive,c=iyt(n,ryt),l;if(I.isValidElement(t))l=I.cloneElement(t,$A($A({},c),myt(t)));else if(Qt(t))l=t(c);else if(q0t(t)&&!W0t(t)){var u=r(t,c);l=Y.createElement(B8,{shapeType:e,elementProps:u})}else{var h=c;l=Y.createElement(B8,{shapeType:e,elementProps:h})}return s?Y.createElement(Me,{className:o},l):l}function uS(n,t){return t!=null&&"trapezoids"in n.props}function mS(n,t){return t!=null&&"sectors"in n.props}function Kx(n,t){return t!=null&&"points"in n.props}function pyt(n,t){var e,a,r=n.x===(t==null||(e=t.labelViewBox)===null||e===void 0?void 0:e.x)||n.x===t.x,i=n.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||n.y===t.y;return r&&i}function fyt(n,t){var e=n.endAngle===t.endAngle,a=n.startAngle===t.startAngle;return e&&a}function gyt(n,t){var e=n.x===t.x,a=n.y===t.y,r=n.z===t.z;return e&&a&&r}function xyt(n,t){var e;return uS(n,t)?e=pyt:mS(n,t)?e=fyt:Kx(n,t)&&(e=gyt),e}function yyt(n,t){var e;return uS(n,t)?e="trapezoids":mS(n,t)?e="sectors":Kx(n,t)&&(e="points"),e}function vyt(n,t){if(uS(n,t)){var e;return(e=t.tooltipPayload)===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.payload)===null||e===void 0?void 0:e.payload}if(mS(n,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Kx(n,t)?t.payload:{}}function byt(n){var t=n.activeTooltipItem,e=n.graphicalItem,a=n.itemData,r=yyt(e,t),i=vyt(e,t),o=a.filter(function(c,l){var u=Ff(i,c),h=e.props[r].filter(function(w){var v=xyt(e,t);return v(w,t)}),f=e.props[r].indexOf(h[h.length-1]),y=l===f;return u&&y}),s=a.indexOf(o[o.length-1]);return s}var AE,j8;function wyt(){if(j8)return AE;j8=1;var n=Math.ceil,t=Math.max;function e(a,r,i,o){for(var s=-1,c=t(n((r-a)/(i||1)),0),l=Array(c);c--;)l[o?c:++s]=a,a+=i;return l}return AE=e,AE}var SE,O8;function jV(){if(O8)return SE;O8=1;var n=pH(),t=1/0,e=17976931348623157e292;function a(r){if(!r)return r===0?r:0;if(r=n(r),r===t||r===-1/0){var i=r<0?-1:1;return i*e}return r===r?r:0}return SE=a,SE}var _E,L8;function Ayt(){if(L8)return _E;L8=1;var n=wyt(),t=tS(),e=jV();function a(r){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=e(i),o===void 0?(o=i,i=0):o=e(o),s=s===void 0?i<o?1:-1:e(s),n(i,o,s,r)}}return _E=a,_E}var PE,I8;function Syt(){if(I8)return PE;I8=1;var n=Ayt(),t=n();return PE=t,PE}var _yt=Syt();const GA=Ee(_yt);function Xx(n){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(n)}function R8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function M8(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(e),!0).forEach(function(a){OV(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):R8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function OV(n,t,e){return t=Pyt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Pyt(n){var t=kyt(n,"string");return Xx(t)=="symbol"?t:t+""}function kyt(n,t){if(Xx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Xx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Cyt=["Webkit","Moz","O","ms"],Eyt=function(t,e){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),r=Cyt.reduce(function(i,o){return M8(M8({},i),{},OV({},o+a,e))},{});return r[t]=e,r};function Uf(n){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(n)}function UA(){return UA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},UA.apply(this,arguments)}function F8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function kE(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(e),!0).forEach(function(a){Er(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):F8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Tyt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function $8(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,IV(a.key),a)}}function Dyt(n,t,e){return t&&$8(n.prototype,t),e&&$8(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Nyt(n,t,e){return t=zA(t),Byt(n,LV()?Reflect.construct(t,e||[],zA(n).constructor):t.apply(n,e))}function Byt(n,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jyt(n)}function jyt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LV(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!n})()}function zA(n){return zA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zA(n)}function Oyt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&BD(n,t)}function BD(n,t){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},BD(n,t)}function Er(n,t,e){return t=IV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function IV(n){var t=Lyt(n,"string");return Uf(t)=="symbol"?t:t+""}function Lyt(n,t){if(Uf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Uf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Iyt=function(t){var e=t.data,a=t.startIndex,r=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!e||!e.length)return{};var c=e.length,l=ax().domain(GA(0,c)).range([i,i+o-s]),u=l.domain().map(function(h){return l(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(a),endX:l(r),scale:l,scaleValues:u}},G8=function(t){return t.changedTouches&&!!t.changedTouches.length},zf=function(n){function t(e){var a;return Tyt(this,t),a=Nyt(this,t,[e]),Er(a,"handleDrag",function(r){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(r):a.state.isSlideMoving&&a.handleSlideDrag(r)}),Er(a,"handleTouchMove",function(r){r.changedTouches!=null&&r.changedTouches.length>0&&a.handleDrag(r.changedTouches[0])}),Er(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var r=a.props,i=r.endIndex,o=r.onDragEnd,s=r.startIndex;o==null||o({endIndex:i,startIndex:s})}),a.detachDragEndListener()}),Er(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Er(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Er(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Er(a,"handleSlideDragStart",function(r){var i=G8(r)?r.changedTouches[0]:r;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Oyt(t,n),Dyt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var r=a.startX,i=a.endX,o=this.state.scaleValues,s=this.props,c=s.gap,l=s.data,u=l.length-1,h=Math.min(r,i),f=Math.max(r,i),y=t.getIndexInRange(o,h),w=t.getIndexInRange(o,f);return{startIndex:y-y%c,endIndex:w===u?u:w-w%c}}},{key:"getTextOfTick",value:function(a){var r=this.props,i=r.data,o=r.tickFormatter,s=r.dataKey,c=Qa(i[a],s,a);return Qt(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var r=this.state,i=r.slideMoveStartX,o=r.startX,s=r.endX,c=this.props,l=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,y=c.endIndex,w=c.onChange,v=a.pageX-i;v>0?v=Math.min(v,l+u-h-s,l+u-h-o):v<0&&(v=Math.max(v,l-o,l-s));var b=this.getIndex({startX:o+v,endX:s+v});(b.startIndex!==f||b.endIndex!==y)&&w&&w(b),this.setState({startX:o+v,endX:s+v,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,r){var i=G8(r)?r.changedTouches[0]:r;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var r=this.state,i=r.brushMoveStartX,o=r.movingTravellerId,s=r.endX,c=r.startX,l=this.state[o],u=this.props,h=u.x,f=u.width,y=u.travellerWidth,w=u.onChange,v=u.gap,b=u.data,S={startX:this.state.startX,endX:this.state.endX},_=a.pageX-i;_>0?_=Math.min(_,h+f-y-l):_<0&&(_=Math.max(_,h-l)),S[o]=l+_;var P=this.getIndex(S),E=P.startIndex,C=P.endIndex,T=function(){var L=b.length-1;return o==="startX"&&(s>c?E%v===0:C%v===0)||s<c&&C===L||o==="endX"&&(s>c?C%v===0:E%v===0)||s>c&&C===L};this.setState(Er(Er({},o,l+_),"brushMoveStartX",a.pageX),function(){w&&T()&&w(P)})}},{key:"handleTravellerMoveKeyboard",value:function(a,r){var i=this,o=this.state,s=o.scaleValues,c=o.startX,l=o.endX,u=this.state[r],h=s.indexOf(u);if(h!==-1){var f=h+a;if(!(f===-1||f>=s.length)){var y=s[f];r==="startX"&&y>=l||r==="endX"&&y<=c||this.setState(Er({},r,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,r=a.x,i=a.y,o=a.width,s=a.height,c=a.fill,l=a.stroke;return Y.createElement("rect",{stroke:l,fill:c,x:r,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var a=this.props,r=a.x,i=a.y,o=a.width,s=a.height,c=a.data,l=a.children,u=a.padding,h=I.Children.only(l);return h?Y.cloneElement(h,{x:r,y:i,width:o,height:s,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,r){var i,o,s=this,c=this.props,l=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,y=c.ariaLabel,w=c.data,v=c.startIndex,b=c.endIndex,S=Math.max(a,this.props.x),_=kE(kE({},Jt(this.props,!1)),{},{x:S,y:l,width:u,height:h}),P=y||"Min value: ".concat((i=w[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[b])===null||o===void 0?void 0:o.name);return Y.createElement(Me,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,r))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,_))}},{key:"renderSlide",value:function(a,r){var i=this.props,o=i.y,s=i.height,c=i.stroke,l=i.travellerWidth,u=Math.min(a,r)+l,h=Math.max(Math.abs(r-a)-l,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:s})}},{key:"renderText",value:function(){var a=this.props,r=a.startIndex,i=a.endIndex,o=a.y,s=a.height,c=a.travellerWidth,l=a.stroke,u=this.state,h=u.startX,f=u.endX,y=5,w={pointerEvents:"none",fill:l};return Y.createElement(Me,{className:"recharts-brush-texts"},Y.createElement(xA,UA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-y,y:o+s/2},w),this.getTextOfTick(r)),Y.createElement(xA,UA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+y,y:o+s/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,r=a.data,i=a.className,o=a.children,s=a.x,c=a.y,l=a.width,u=a.height,h=a.alwaysShowText,f=this.state,y=f.startX,w=f.endX,v=f.isTextActive,b=f.isSlideMoving,S=f.isTravellerMoving,_=f.isTravellerFocused;if(!r||!r.length||!xt(s)||!xt(c)||!xt(l)||!xt(u)||l<=0||u<=0)return null;var P=ce("recharts-brush",i),E=Y.Children.count(o)===1,C=Eyt("userSelect","none");return Y.createElement(Me,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(v||b||S||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var r=a.x,i=a.y,o=a.width,s=a.height,c=a.stroke,l=Math.floor(i+s/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:r,y:i,width:o,height:s,fill:c,stroke:"none"}),Y.createElement("line",{x1:r+1,y1:l,x2:r+o-1,y2:l,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:r+1,y1:l+2,x2:r+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,r){var i;return Y.isValidElement(a)?i=Y.cloneElement(a,r):Qt(a)?i=a(r):i=t.renderDefaultTraveller(r),i}},{key:"getDerivedStateFromProps",value:function(a,r){var i=a.data,o=a.width,s=a.x,c=a.travellerWidth,l=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==r.prevData||l!==r.prevUpdateId)return kE({prevData:i,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o},i&&i.length?Iyt({data:i,width:o,x:s,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(r.scale&&(o!==r.prevWidth||s!==r.prevX||c!==r.prevTravellerWidth)){r.scale.range([s,s+o-c]);var f=r.scale.domain().map(function(y){return r.scale(y)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o,startX:r.scale(a.startIndex),endX:r.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,r){for(var i=a.length,o=0,s=i-1;s-o>1;){var c=Math.floor((o+s)/2);a[c]>r?s=c:o=c}return r>=a[s]?s:o}}])}(I.PureComponent);Er(zf,"displayName","Brush");Er(zf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CE,U8;function Ryt(){if(U8)return CE;U8=1;var n=Uj();function t(e,a){var r;return n(e,function(i,o,s){return r=a(i,o,s),!r}),!!r}return CE=t,CE}var EE,z8;function Myt(){if(z8)return EE;z8=1;var n=H9(),t=bd(),e=Ryt(),a=br(),r=tS();function i(o,s,c){var l=a(o)?n:e;return c&&r(o,s,c)&&(s=void 0),l(o,t(s,3))}return EE=i,EE}var Fyt=Myt();const $yt=Ee(Fyt);var cs=function(t,e){var a=t.alwaysShow,r=t.ifOverflow;return a&&(r="extendDomain"),r===e},TE,q8;function Gyt(){if(q8)return TE;q8=1;var n=lH();function t(e,a,r){a=="__proto__"&&n?n(e,a,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[a]=r}return TE=t,TE}var DE,H8;function Uyt(){if(H8)return DE;H8=1;var n=Gyt(),t=sH(),e=bd();function a(r,i){var o={};return i=e(i,3),t(r,function(s,c,l){n(o,c,i(s,c,l))}),o}return DE=a,DE}var zyt=Uyt();const qyt=Ee(zyt);var NE,V8;function Hyt(){if(V8)return NE;V8=1;function n(t,e){for(var a=-1,r=t==null?0:t.length;++a<r;)if(!e(t[a],a,t))return!1;return!0}return NE=n,NE}var BE,W8;function Vyt(){if(W8)return BE;W8=1;var n=Uj();function t(e,a){var r=!0;return n(e,function(i,o,s){return r=!!a(i,o,s),r}),r}return BE=t,BE}var jE,K8;function Wyt(){if(K8)return jE;K8=1;var n=Hyt(),t=Vyt(),e=bd(),a=br(),r=tS();function i(o,s,c){var l=a(o)?n:t;return c&&r(o,s,c)&&(s=void 0),l(o,e(s,3))}return jE=i,jE}var Kyt=Wyt();const RV=Ee(Kyt);var Xyt=["x","y"];function Yx(n){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yx(n)}function jD(){return jD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},jD.apply(this,arguments)}function X8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function fg(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?X8(Object(e),!0).forEach(function(a){Yyt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Yyt(n,t,e){return t=Qyt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Qyt(n){var t=Jyt(n,"string");return Yx(t)=="symbol"?t:t+""}function Jyt(n,t){if(Yx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Yx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Zyt(n,t){if(n==null)return{};var e=tvt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function tvt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function evt(n,t){var e=n.x,a=n.y,r=Zyt(n,Xyt),i="".concat(e),o=parseInt(i,10),s="".concat(a),c=parseInt(s,10),l="".concat(t.height||r.height),u=parseInt(l,10),h="".concat(t.width||r.width),f=parseInt(h,10);return fg(fg(fg(fg(fg({},t),r),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Y8(n){return Y.createElement(hyt,jD({shapeType:"rectangle",propTransformer:evt,activeClassName:"recharts-active-bar"},n))}var nvt=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,r){if(typeof t=="number")return t;var i=typeof a=="number";return i?t(a,r):(i||Em(),e)}},avt=["value","background"],MV;function qf(n){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(n)}function rvt(n,t){if(n==null)return{};var e=ivt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function ivt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function qA(){return qA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},qA.apply(this,arguments)}function Q8(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function _n(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(e),!0).forEach(function(a){od(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Q8(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function ovt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function J8(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,$V(a.key),a)}}function svt(n,t,e){return t&&J8(n.prototype,t),e&&J8(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function cvt(n,t,e){return t=HA(t),lvt(n,FV()?Reflect.construct(t,e||[],HA(n).constructor):t.apply(n,e))}function lvt(n,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dvt(n)}function dvt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function FV(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!n})()}function HA(n){return HA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HA(n)}function uvt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&OD(n,t)}function OD(n,t){return OD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},OD(n,t)}function od(n,t,e){return t=$V(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $V(n){var t=mvt(n,"string");return qf(t)=="symbol"?t:t+""}function mvt(n,t){if(qf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(qf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var dd=function(n){function t(){var e;ovt(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=cvt(this,t,[].concat(r)),od(e,"state",{isAnimationFinished:!1}),od(e,"id",h2("recharts-bar-")),od(e,"handleAnimationEnd",function(){var o=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),o&&o()}),od(e,"handleAnimationStart",function(){var o=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),o&&o()}),e}return uvt(t,n),svt(t,[{key:"renderRectanglesStatically",value:function(a){var r=this,i=this.props,o=i.shape,s=i.dataKey,c=i.activeIndex,l=i.activeBar,u=Jt(this.props,!1);return a&&a.map(function(h,f){var y=f===c,w=y?l:o,v=_n(_n(_n({},u),h),{},{isActive:y,option:w,index:f,dataKey:s,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return Y.createElement(Me,qA({className:"recharts-bar-rectangle"},oA(r.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),Y.createElement(Y8,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,r=this.props,i=r.data,o=r.layout,s=r.isAnimationActive,c=r.animationBegin,l=r.animationDuration,u=r.animationEasing,h=r.animationId,f=this.state.prevData;return Y.createElement(ds,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,v=i.map(function(b,S){var _=f&&f[S];if(_){var P=fa(_.x,b.x),E=fa(_.y,b.y),C=fa(_.width,b.width),T=fa(_.height,b.height);return _n(_n({},b),{},{x:P(w),y:E(w),width:C(w),height:T(w)})}if(o==="horizontal"){var B=fa(0,b.height),L=B(w);return _n(_n({},b),{},{y:b.y+b.height-L,height:L})}var M=fa(0,b.width),U=M(w);return _n(_n({},b),{},{width:U})});return Y.createElement(Me,null,a.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var a=this.props,r=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&r&&r.length&&(!o||!Ff(o,r))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(r)}},{key:"renderBackground",value:function(){var a=this,r=this.props,i=r.data,o=r.dataKey,s=r.activeIndex,c=Jt(this.props.background,!1);return i.map(function(l,u){l.value;var h=l.background,f=rvt(l,avt);if(!h)return null;var y=_n(_n(_n(_n(_n({},f),{},{fill:"#eee"},h),c),oA(a.props,l,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Y.createElement(Y8,qA({key:"background-bar-".concat(u),option:a.props.background,isActive:u===s},y))})}},{key:"renderErrorBar",value:function(a,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,c=i.yAxis,l=i.layout,u=i.children,h=Ei(u,nv);if(!h)return null;var f=l==="vertical"?o[0].height/2:o[0].width/2,y=function(b,S){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:Qa(b,S)}},w={clipPath:a?"url(#clipPath-".concat(r,")"):null};return Y.createElement(Me,w,h.map(function(v){return Y.cloneElement(v,{key:"error-bar-".concat(r,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,offset:f,dataPointFormatter:y})}))}},{key:"render",value:function(){var a=this.props,r=a.hide,i=a.data,o=a.className,s=a.xAxis,c=a.yAxis,l=a.left,u=a.top,h=a.width,f=a.height,y=a.isAnimationActive,w=a.background,v=a.id;if(r||!i||!i.length)return null;var b=this.state.isAnimationFinished,S=ce("recharts-bar",o),_=s&&s.allowDataOverflow,P=c&&c.allowDataOverflow,E=_||P,C=ie(v)?this.id:v;return Y.createElement(Me,{className:S},_||P?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:_?l:l-h/2,y:P?u:u-f/2,width:_?h:h*2,height:P?f:f*2}))):null,Y.createElement(Me,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(C,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,C),(!y||b)&&vc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:r.curData}:a.data!==r.curData?{curData:a.data}:null}}])}(I.PureComponent);MV=dd;od(dd,"displayName","Bar");od(dd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Im.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});od(dd,"getComposedData",function(n){var t=n.props,e=n.item,a=n.barPosition,r=n.bandSize,i=n.xAxis,o=n.yAxis,s=n.xAxisTicks,c=n.yAxisTicks,l=n.stackedData,u=n.dataStartIndex,h=n.displayedData,f=n.offset,y=N2t(a,e);if(!y)return null;var w=t.layout,v=e.type.defaultProps,b=v!==void 0?_n(_n({},v),e.props):e.props,S=b.dataKey,_=b.children,P=b.minPointSize,E=w==="horizontal"?o:i,C=l?E.scale.domain():null,T=F2t({numericAxis:E}),B=Ei(_,gH),L=h.map(function(M,U){var F,G,$,H,X,Q;l?F=B2t(l[u+U],C):(F=Qa(M,S),Array.isArray(F)||(F=[T,F]));var W=nvt(P,MV.defaultProps.minPointSize)(F[1],U);if(w==="horizontal"){var V,tt=[o.scale(F[0]),o.scale(F[1])],nt=tt[0],z=tt[1];G=L$({axis:i,ticks:s,bandSize:r,offset:y.offset,entry:M,index:U}),$=(V=z??nt)!==null&&V!==void 0?V:void 0,H=y.size;var K=nt-z;if(X=Number.isNaN(K)?0:K,Q={x:G,y:o.y,width:H,height:o.height},Math.abs(W)>0&&Math.abs(X)<Math.abs(W)){var it=mo(X||W)*(Math.abs(W)-Math.abs(X));$-=it,X+=it}}else{var ft=[i.scale(F[0]),i.scale(F[1])],ct=ft[0],yt=ft[1];if(G=ct,$=L$({axis:o,ticks:c,bandSize:r,offset:y.offset,entry:M,index:U}),H=yt-ct,X=y.size,Q={x:i.x,y:$,width:i.width,height:X},Math.abs(W)>0&&Math.abs(H)<Math.abs(W)){var bt=mo(H||W)*(Math.abs(W)-Math.abs(H));H+=bt}}return _n(_n(_n({},M),{},{x:G,y:$,width:H,height:X,value:l?F:F[1],payload:M,background:Q},B&&B[U]&&B[U].props),{},{tooltipPayload:[AV(e,M)],tooltipPosition:{x:G+H/2,y:$+X/2}})});return _n({data:L,layout:w},f)});function Qx(n){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(n)}function hvt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,GV(a.key),a)}}function pvt(n,t,e){return t&&Z8(n.prototype,t),e&&Z8(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function tG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function co(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tG(Object(e),!0).forEach(function(a){hS(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function hS(n,t,e){return t=GV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function GV(n){var t=fvt(n,"string");return Qx(t)=="symbol"?t:t+""}function fvt(n,t){if(Qx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Qx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var xO=function(t,e,a,r,i){var o=t.width,s=t.height,c=t.layout,l=t.children,u=Object.keys(e),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:s-a.bottom,bottomMirror:s-a.bottom},f=!!Wr(l,dd);return u.reduce(function(y,w){var v=e[w],b=v.orientation,S=v.domain,_=v.padding,P=_===void 0?{}:_,E=v.mirror,C=v.reversed,T="".concat(b).concat(E?"Mirror":""),B,L,M,U,F;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var G=S[1]-S[0],$=1/0,H=v.categoricalDomain.sort();if(H.forEach(function(ft,ct){ct>0&&($=Math.min((ft||0)-(H[ct-1]||0),$))}),Number.isFinite($)){var X=$/G,Q=v.layout==="vertical"?a.height:a.width;if(v.padding==="gap"&&(B=X*Q/2),v.padding==="no-gap"){var W=km(t.barCategoryGap,X*Q),V=X*Q/2;B=V-W-(V-W)/Q*W}}}r==="xAxis"?L=[a.left+(P.left||0)+(B||0),a.left+a.width-(P.right||0)-(B||0)]:r==="yAxis"?L=c==="horizontal"?[a.top+a.height-(P.bottom||0),a.top+(P.top||0)]:[a.top+(P.top||0)+(B||0),a.top+a.height-(P.bottom||0)-(B||0)]:L=v.range,C&&(L=[L[1],L[0]]);var tt=T2t(v,i,f),nt=tt.scale,z=tt.realScaleType;nt.domain(S).range(L),D2t(nt);var K=M2t(nt,co(co({},v),{},{realScaleType:z}));r==="xAxis"?(F=b==="top"&&!E||b==="bottom"&&E,M=a.left,U=h[T]-F*v.height):r==="yAxis"&&(F=b==="left"&&!E||b==="right"&&E,M=h[T]-F*v.width,U=a.top);var it=co(co(co({},v),K),{},{realScaleType:z,x:M,y:U,scale:nt,width:r==="xAxis"?a.width:v.width,height:r==="yAxis"?a.height:v.height});return it.bandSize=BA(it,K),!v.hide&&r==="xAxis"?h[T]+=(F?-1:1)*it.height:v.hide||(h[T]+=(F?-1:1)*it.width),co(co({},y),{},hS({},w,it))},{})},UV=function(t,e){var a=t.x,r=t.y,i=e.x,o=e.y;return{x:Math.min(a,i),y:Math.min(r,o),width:Math.abs(i-a),height:Math.abs(o-r)}},gvt=function(t){var e=t.x1,a=t.y1,r=t.x2,i=t.y2;return UV({x:e,y:a},{x:r,y:i})},zV=function(){function n(t){hvt(this,n),this.scale=t}return pvt(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.bandAware,i=a.position;if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}},{key:"isInRange",value:function(e){var a=this.range(),r=a[0],i=a[a.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}],[{key:"create",value:function(e){return new n(e)}}])}();hS(zV,"EPS",1e-4);var yO=function(t){var e=Object.keys(t).reduce(function(a,r){return co(co({},a),{},hS({},r,zV.create(t[r])))},{});return co(co({},e),{},{apply:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return qyt(r,function(c,l){return e[l].apply(c,{bandAware:o,position:s})})},isInRange:function(r){return RV(r,function(i,o){return e[o].isInRange(i)})}})};function xvt(n){return(n%180+180)%180}var yvt=function(t){var e=t.width,a=t.height,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=xvt(r),o=i*Math.PI/180,s=Math.atan(a/e),c=o>s&&o<Math.PI-s?a/Math.sin(o):e/Math.cos(o);return Math.abs(c)},OE,eG;function vvt(){if(eG)return OE;eG=1;var n=bd(),t=Qy(),e=J1();function a(r){return function(i,o,s){var c=Object(i);if(!t(i)){var l=n(o,3);i=e(i),o=function(h){return l(c[h],h,c)}}var u=r(i,o,s);return u>-1?c[l?i[u]:u]:void 0}}return OE=a,OE}var LE,nG;function bvt(){if(nG)return LE;nG=1;var n=jV();function t(e){var a=n(e),r=a%1;return a===a?r?a-r:a:0}return LE=t,LE}var IE,aG;function wvt(){if(aG)return IE;aG=1;var n=nH(),t=bd(),e=bvt(),a=Math.max;function r(i,o,s){var c=i==null?0:i.length;if(!c)return-1;var l=s==null?0:e(s);return l<0&&(l=a(c+l,0)),n(i,t(o,3),l)}return IE=r,IE}var RE,rG;function Avt(){if(rG)return RE;rG=1;var n=vvt(),t=wvt(),e=n(t);return RE=e,RE}var Svt=Avt();const _vt=Ee(Svt);var Pvt=x9();const kvt=Ee(Pvt);var Cvt=kvt(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),vO=I.createContext(void 0),bO=I.createContext(void 0),qV=I.createContext(void 0),HV=I.createContext({}),VV=I.createContext(void 0),WV=I.createContext(0),KV=I.createContext(0),iG=function(t){var e=t.state,a=e.xAxisMap,r=e.yAxisMap,i=e.offset,o=t.clipPathId,s=t.children,c=t.width,l=t.height,u=Cvt(i);return Y.createElement(vO.Provider,{value:a},Y.createElement(bO.Provider,{value:r},Y.createElement(HV.Provider,{value:i},Y.createElement(qV.Provider,{value:u},Y.createElement(VV.Provider,{value:o},Y.createElement(WV.Provider,{value:l},Y.createElement(KV.Provider,{value:c},s)))))))},Evt=function(){return I.useContext(VV)},XV=function(t){var e=I.useContext(vO);e==null&&Em();var a=e[t];return a==null&&Em(),a},Tvt=function(){var t=I.useContext(vO);return cl(t)},Dvt=function(){var t=I.useContext(bO),e=_vt(t,function(a){return RV(a.domain,Number.isFinite)});return e||cl(t)},YV=function(t){var e=I.useContext(bO);e==null&&Em();var a=e[t];return a==null&&Em(),a},Nvt=function(){var t=I.useContext(qV);return t},Bvt=function(){return I.useContext(HV)},wO=function(){return I.useContext(KV)},AO=function(){return I.useContext(WV)};function Hf(n){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(n)}function jvt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ovt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,JV(a.key),a)}}function Lvt(n,t,e){return t&&Ovt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ivt(n,t,e){return t=VA(t),Rvt(n,QV()?Reflect.construct(t,e||[],VA(n).constructor):t.apply(n,e))}function Rvt(n,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mvt(n)}function Mvt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QV(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!n})()}function VA(n){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VA(n)}function Fvt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&LD(n,t)}function LD(n,t){return LD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},LD(n,t)}function oG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function sG(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oG(Object(e),!0).forEach(function(a){SO(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function SO(n,t,e){return t=JV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function JV(n){var t=$vt(n,"string");return Hf(t)=="symbol"?t:t+""}function $vt(n,t){if(Hf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Hf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Gvt(n,t){return Hvt(n)||qvt(n,t)||zvt(n,t)||Uvt()}function Uvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zvt(n,t){if(n){if(typeof n=="string")return cG(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return cG(n,t)}}function cG(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function qvt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function Hvt(n){if(Array.isArray(n))return n}function ID(){return ID=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ID.apply(this,arguments)}var Vvt=function(t,e){var a;return Y.isValidElement(t)?a=Y.cloneElement(t,e):Qt(t)?a=t(e):a=Y.createElement("line",ID({},e,{className:"recharts-reference-line-line"})),a},Wvt=function(t,e,a,r,i,o,s,c,l){var u=i.x,h=i.y,f=i.width,y=i.height;if(a){var w=l.y,v=t.y.apply(w,{position:o});if(cs(l,"discard")&&!t.y.isInRange(v))return null;var b=[{x:u+f,y:v},{x:u,y:v}];return c==="left"?b.reverse():b}if(e){var S=l.x,_=t.x.apply(S,{position:o});if(cs(l,"discard")&&!t.x.isInRange(_))return null;var P=[{x:_,y:h+y},{x:_,y:h}];return s==="top"?P.reverse():P}if(r){var E=l.segment,C=E.map(function(T){return t.apply(T,{position:o})});return cs(l,"discard")&&$yt(C,function(T){return!t.isInRange(T)})?null:C}return null};function Kvt(n){var t=n.x,e=n.y,a=n.segment,r=n.xAxisId,i=n.yAxisId,o=n.shape,s=n.className,c=n.alwaysShow,l=Evt(),u=XV(r),h=YV(i),f=Nvt();if(!l||!f)return null;xc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=yO({x:u.scale,y:h.scale}),w=$n(t),v=$n(e),b=a&&a.length===2,S=Wvt(y,w,v,b,f,n.position,u.orientation,h.orientation,n);if(!S)return null;var _=Gvt(S,2),P=_[0],E=P.x,C=P.y,T=_[1],B=T.x,L=T.y,M=cs(n,"hidden")?"url(#".concat(l,")"):void 0,U=sG(sG({clipPath:M},Jt(n,!0)),{},{x1:E,y1:C,x2:B,y2:L});return Y.createElement(Me,{className:ce("recharts-reference-line",s)},Vvt(o,U),ja.renderCallByParent(n,gvt({x1:E,y1:C,x2:B,y2:L})))}var _O=function(n){function t(){return jvt(this,t),Ivt(this,t,arguments)}return Fvt(t,n),Lvt(t,[{key:"render",value:function(){return Y.createElement(Kvt,this.props)}}])}(Y.Component);SO(_O,"displayName","ReferenceLine");SO(_O,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function RD(){return RD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},RD.apply(this,arguments)}function Vf(n){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(n)}function lG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function dG(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lG(Object(e),!0).forEach(function(a){pS(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Xvt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Yvt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,tW(a.key),a)}}function Qvt(n,t,e){return t&&Yvt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Jvt(n,t,e){return t=WA(t),Zvt(n,ZV()?Reflect.construct(t,e||[],WA(n).constructor):t.apply(n,e))}function Zvt(n,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tbt(n)}function tbt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZV(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!n})()}function WA(n){return WA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WA(n)}function ebt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&MD(n,t)}function MD(n,t){return MD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},MD(n,t)}function pS(n,t,e){return t=tW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tW(n){var t=nbt(n,"string");return Vf(t)=="symbol"?t:t+""}function nbt(n,t){if(Vf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Vf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var abt=function(t){var e=t.x,a=t.y,r=t.xAxis,i=t.yAxis,o=yO({x:r.scale,y:i.scale}),s=o.apply({x:e,y:a},{bandAware:!0});return cs(t,"discard")&&!o.isInRange(s)?null:s},fS=function(n){function t(){return Xvt(this,t),Jvt(this,t,arguments)}return ebt(t,n),Qvt(t,[{key:"render",value:function(){var a=this.props,r=a.x,i=a.y,o=a.r,s=a.alwaysShow,c=a.clipPathId,l=$n(r),u=$n(i);if(xc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var h=abt(this.props);if(!h)return null;var f=h.x,y=h.y,w=this.props,v=w.shape,b=w.className,S=cs(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=dG(dG({clipPath:S},Jt(this.props,!0)),{},{cx:f,cy:y});return Y.createElement(Me,{className:ce("recharts-reference-dot",b)},t.renderDot(v,_),ja.renderCallByParent(this.props,{x:f-o,y:y-o,width:2*o,height:2*o}))}}])}(Y.Component);pS(fS,"displayName","ReferenceDot");pS(fS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});pS(fS,"renderDot",function(n,t){var e;return Y.isValidElement(n)?e=Y.cloneElement(n,t):Qt(n)?e=n(t):e=Y.createElement(dS,RD({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),e});function FD(){return FD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},FD.apply(this,arguments)}function Wf(n){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(n)}function uG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function mG(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uG(Object(e),!0).forEach(function(a){gS(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):uG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function rbt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ibt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,nW(a.key),a)}}function obt(n,t,e){return t&&ibt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function sbt(n,t,e){return t=KA(t),cbt(n,eW()?Reflect.construct(t,e||[],KA(n).constructor):t.apply(n,e))}function cbt(n,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lbt(n)}function lbt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eW=function(){return!!n})()}function KA(n){return KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KA(n)}function dbt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&$D(n,t)}function $D(n,t){return $D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},$D(n,t)}function gS(n,t,e){return t=nW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nW(n){var t=ubt(n,"string");return Wf(t)=="symbol"?t:t+""}function ubt(n,t){if(Wf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Wf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var mbt=function(t,e,a,r,i){var o=i.x1,s=i.x2,c=i.y1,l=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=yO({x:u.scale,y:h.scale}),y={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(c,{position:"start"}):f.y.rangeMin},w={x:e?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:r?f.y.apply(l,{position:"end"}):f.y.rangeMax};return cs(i,"discard")&&(!f.isInRange(y)||!f.isInRange(w))?null:UV(y,w)},xS=function(n){function t(){return rbt(this,t),sbt(this,t,arguments)}return dbt(t,n),obt(t,[{key:"render",value:function(){var a=this.props,r=a.x1,i=a.x2,o=a.y1,s=a.y2,c=a.className,l=a.alwaysShow,u=a.clipPathId;xc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=$n(r),f=$n(i),y=$n(o),w=$n(s),v=this.props.shape;if(!h&&!f&&!y&&!w&&!v)return null;var b=mbt(h,f,y,w,this.props);if(!b&&!v)return null;var S=cs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Y.createElement(Me,{className:ce("recharts-reference-area",c)},t.renderRect(v,mG(mG({clipPath:S},Jt(this.props,!0)),b)),ja.renderCallByParent(this.props,b))}}])}(Y.Component);gS(xS,"displayName","ReferenceArea");gS(xS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gS(xS,"renderRect",function(n,t){var e;return Y.isValidElement(n)?e=Y.cloneElement(n,t):Qt(n)?e=n(t):e=Y.createElement(gO,FD({},t,{className:"recharts-reference-area-rect"})),e});function aW(n,t,e){if(t<1)return[];if(t===1&&e===void 0)return n;for(var a=[],r=0;r<n.length;r+=t)a.push(n[r]);return a}function hbt(n,t,e){var a={width:n.width+t.width,height:n.height+t.height};return yvt(a,e)}function pbt(n,t,e){var a=e==="width",r=n.x,i=n.y,o=n.width,s=n.height;return t===1?{start:a?r:i,end:a?r+o:i+s}:{start:a?r+o:i+s,end:a?r:i}}function XA(n,t,e,a,r){if(n*t<n*a||n*t>n*r)return!1;var i=e();return n*(t-n*i/2-a)>=0&&n*(t+n*i/2-r)<=0}function fbt(n,t){return aW(n,t+1)}function gbt(n,t,e,a,r){for(var i=(a||[]).slice(),o=t.start,s=t.end,c=0,l=1,u=o,h=function(){var w=a==null?void 0:a[c];if(w===void 0)return{v:aW(a,l)};var v=c,b,S=function(){return b===void 0&&(b=e(w,v)),b},_=w.coordinate,P=c===0||XA(n,_,S,u,s);P||(c=0,u=o,l+=1),P&&(u=_+n*(S()/2+r),c+=l)},f;l<=i.length;)if(f=h(),f)return f.v;return[]}function Jx(n){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(n)}function hG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Ba(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hG(Object(e),!0).forEach(function(a){xbt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function xbt(n,t,e){return t=ybt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ybt(n){var t=vbt(n,"string");return Jx(t)=="symbol"?t:t+""}function vbt(n,t){if(Jx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Jx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bbt(n,t,e,a,r){for(var i=(a||[]).slice(),o=i.length,s=t.start,c=t.end,l=function(f){var y=i[f],w,v=function(){return w===void 0&&(w=e(y,f)),w};if(f===o-1){var b=n*(y.coordinate+n*v()/2-c);i[f]=y=Ba(Ba({},y),{},{tickCoord:b>0?y.coordinate-b*n:y.coordinate})}else i[f]=y=Ba(Ba({},y),{},{tickCoord:y.coordinate});var S=XA(n,y.tickCoord,v,s,c);S&&(c=y.tickCoord-n*(v()/2+r),i[f]=Ba(Ba({},y),{},{isShow:!0}))},u=o-1;u>=0;u--)l(u);return i}function wbt(n,t,e,a,r,i){var o=(a||[]).slice(),s=o.length,c=t.start,l=t.end;if(i){var u=a[s-1],h=e(u,s-1),f=n*(u.coordinate+n*h/2-l);o[s-1]=u=Ba(Ba({},u),{},{tickCoord:f>0?u.coordinate-f*n:u.coordinate});var y=XA(n,u.tickCoord,function(){return h},c,l);y&&(l=u.tickCoord-n*(h/2+r),o[s-1]=Ba(Ba({},u),{},{isShow:!0}))}for(var w=i?s-1:s,v=function(_){var P=o[_],E,C=function(){return E===void 0&&(E=e(P,_)),E};if(_===0){var T=n*(P.coordinate-n*C()/2-c);o[_]=P=Ba(Ba({},P),{},{tickCoord:T<0?P.coordinate-T*n:P.coordinate})}else o[_]=P=Ba(Ba({},P),{},{tickCoord:P.coordinate});var B=XA(n,P.tickCoord,C,c,l);B&&(c=P.tickCoord+n*(C()/2+r),o[_]=Ba(Ba({},P),{},{isShow:!0}))},b=0;b<w;b++)v(b);return o}function PO(n,t,e){var a=n.tick,r=n.ticks,i=n.viewBox,o=n.minTickGap,s=n.orientation,c=n.interval,l=n.tickFormatter,u=n.unit,h=n.angle;if(!r||!r.length||!a)return[];if(xt(c)||Im.isSsr)return fbt(r,typeof c=="number"&&xt(c)?c:0);var f=[],y=s==="top"||s==="bottom"?"width":"height",w=u&&y==="width"?nx(u,{fontSize:t,letterSpacing:e}):{width:0,height:0},v=function(P,E){var C=Qt(l)?l(P.value,E):P.value;return y==="width"?hbt(nx(C,{fontSize:t,letterSpacing:e}),w,h):nx(C,{fontSize:t,letterSpacing:e})[y]},b=r.length>=2?mo(r[1].coordinate-r[0].coordinate):1,S=pbt(i,b,y);return c==="equidistantPreserveStart"?gbt(b,S,v,r,o):(c==="preserveStart"||c==="preserveStartEnd"?f=wbt(b,S,v,r,o,c==="preserveStartEnd"):f=bbt(b,S,v,r,o),f.filter(function(_){return _.isShow}))}var Abt=["viewBox"],Sbt=["viewBox"],_bt=["ticks"];function Kf(n){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(n)}function $h(){return $h=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},$h.apply(this,arguments)}function pG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Fa(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pG(Object(e),!0).forEach(function(a){kO(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function ME(n,t){if(n==null)return{};var e=Pbt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Pbt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function kbt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function fG(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,iW(a.key),a)}}function Cbt(n,t,e){return t&&fG(n.prototype,t),e&&fG(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ebt(n,t,e){return t=YA(t),Tbt(n,rW()?Reflect.construct(t,e||[],YA(n).constructor):t.apply(n,e))}function Tbt(n,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbt(n)}function Dbt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rW=function(){return!!n})()}function YA(n){return YA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YA(n)}function Nbt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&GD(n,t)}function GD(n,t){return GD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},GD(n,t)}function kO(n,t,e){return t=iW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function iW(n){var t=Bbt(n,"string");return Kf(t)=="symbol"?t:t+""}function Bbt(n,t){if(Kf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Kf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var y2=function(n){function t(e){var a;return kbt(this,t),a=Ebt(this,t,[e]),a.state={fontSize:"",letterSpacing:""},a}return Nbt(t,n),Cbt(t,[{key:"shouldComponentUpdate",value:function(a,r){var i=a.viewBox,o=ME(a,Abt),s=this.props,c=s.viewBox,l=ME(s,Sbt);return!Yh(i,c)||!Yh(o,l)||!Yh(r,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var r=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];r&&this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var r=this.props,i=r.x,o=r.y,s=r.width,c=r.height,l=r.orientation,u=r.tickSize,h=r.mirror,f=r.tickMargin,y,w,v,b,S,_,P=h?-1:1,E=a.tickSize||u,C=xt(a.tickCoord)?a.tickCoord:a.coordinate;switch(l){case"top":y=w=a.coordinate,b=o+ +!h*c,v=b-P*E,_=v-P*f,S=C;break;case"left":v=b=a.coordinate,w=i+ +!h*s,y=w-P*E,S=y-P*f,_=C;break;case"right":v=b=a.coordinate,w=i+ +h*s,y=w+P*E,S=y+P*f,_=C;break;default:y=w=a.coordinate,b=o+ +h*c,v=b+P*E,_=v+P*f,S=C;break}return{line:{x1:y,y1:v,x2:w,y2:b},tick:{x:S,y:_}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,r=a.orientation,i=a.mirror,o;switch(r){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,r=a.orientation,i=a.mirror,o="end";switch(r){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,r=a.x,i=a.y,o=a.width,s=a.height,c=a.orientation,l=a.mirror,u=a.axisLine,h=Fa(Fa(Fa({},Jt(this.props,!1)),Jt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!l||c==="bottom"&&l);h=Fa(Fa({},h),{},{x1:r,y1:i+f*s,x2:r+o,y2:i+f*s})}else{var y=+(c==="left"&&!l||c==="right"&&l);h=Fa(Fa({},h),{},{x1:r+y*o,y1:i,x2:r+y*o,y2:i+s})}return Y.createElement("line",$h({},h,{className:ce("recharts-cartesian-axis-line",Ci(u,"className"))}))}},{key:"renderTicks",value:function(a,r,i){var o=this,s=this.props,c=s.tickLine,l=s.stroke,u=s.tick,h=s.tickFormatter,f=s.unit,y=PO(Fa(Fa({},this.props),{},{ticks:a}),r,i),w=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Jt(this.props,!1),S=Jt(u,!1),_=Fa(Fa({},b),{},{fill:"none"},Jt(c,!1)),P=y.map(function(E,C){var T=o.getTickLineCoord(E),B=T.line,L=T.tick,M=Fa(Fa(Fa(Fa({textAnchor:w,verticalAnchor:v},b),{},{stroke:"none",fill:l},S),L),{},{index:C,payload:E,visibleTicksCount:y.length,tickFormatter:h});return Y.createElement(Me,$h({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},oA(o.props,E,C)),c&&Y.createElement("line",$h({},_,B,{className:ce("recharts-cartesian-axis-tick-line",Ci(c,"className"))})),u&&t.renderTickItem(u,M,"".concat(Qt(h)?h(E.value,C):E.value).concat(f||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var a=this,r=this.props,i=r.axisLine,o=r.width,s=r.height,c=r.ticksGenerator,l=r.className,u=r.hide;if(u)return null;var h=this.props,f=h.ticks,y=ME(h,_bt),w=f;return Qt(c)&&(w=f&&f.length>0?c(this.props):c(y)),o<=0||s<=0||!w||!w.length?null:Y.createElement(Me,{className:ce("recharts-cartesian-axis",l),ref:function(b){a.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),ja.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,r,i){var o;return Y.isValidElement(a)?o=Y.cloneElement(a,r):Qt(a)?o=a(r):o=Y.createElement(xA,$h({},r,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(I.Component);kO(y2,"displayName","CartesianAxis");kO(y2,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jbt=["x1","y1","x2","y2","key"],Obt=["offset"];function Tm(n){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(n)}function gG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Oa(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gG(Object(e),!0).forEach(function(a){Lbt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):gG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Lbt(n,t,e){return t=Ibt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ibt(n){var t=Rbt(n,"string");return Tm(t)=="symbol"?t:t+""}function Rbt(n,t){if(Tm(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ou(){return ou=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ou.apply(this,arguments)}function xG(n,t){if(n==null)return{};var e=Mbt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Mbt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}var Fbt=function(t){var e=t.fill;if(!e||e==="none")return null;var a=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,c=t.ry;return Y.createElement("rect",{x:r,y:i,ry:c,width:o,height:s,stroke:"none",fill:e,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function oW(n,t){var e;if(Y.isValidElement(n))e=Y.cloneElement(n,t);else if(Qt(n))e=n(t);else{var a=t.x1,r=t.y1,i=t.x2,o=t.y2,s=t.key,c=xG(t,jbt),l=Jt(c,!1);l.offset;var u=xG(l,Obt);e=Y.createElement("line",ou({},u,{x1:a,y1:r,x2:i,y2:o,fill:"none",key:s}))}return e}function $bt(n){var t=n.x,e=n.width,a=n.horizontal,r=a===void 0?!0:a,i=n.horizontalPoints;if(!r||!i||!i.length)return null;var o=i.map(function(s,c){var l=Oa(Oa({},n),{},{x1:t,y1:s,x2:t+e,y2:s,key:"line-".concat(c),index:c});return oW(r,l)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Gbt(n){var t=n.y,e=n.height,a=n.vertical,r=a===void 0?!0:a,i=n.verticalPoints;if(!r||!i||!i.length)return null;var o=i.map(function(s,c){var l=Oa(Oa({},n),{},{x1:s,y1:t,x2:s,y2:t+e,key:"line-".concat(c),index:c});return oW(r,l)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ubt(n){var t=n.horizontalFill,e=n.fillOpacity,a=n.x,r=n.y,i=n.width,o=n.height,s=n.horizontalPoints,c=n.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var u=s.map(function(f){return Math.round(f+r-r)}).sort(function(f,y){return f-y});r!==u[0]&&u.unshift(0);var h=u.map(function(f,y){var w=!u[y+1],v=w?r+o-f:u[y+1]-f;if(v<=0)return null;var b=y%t.length;return Y.createElement("rect",{key:"react-".concat(y),y:f,x:a,height:v,width:i,stroke:"none",fill:t[b],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function zbt(n){var t=n.vertical,e=t===void 0?!0:t,a=n.verticalFill,r=n.fillOpacity,i=n.x,o=n.y,s=n.width,c=n.height,l=n.verticalPoints;if(!e||!a||!a.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,y){return f-y});i!==u[0]&&u.unshift(0);var h=u.map(function(f,y){var w=!u[y+1],v=w?i+s-f:u[y+1]-f;if(v<=0)return null;var b=y%a.length;return Y.createElement("rect",{key:"react-".concat(y),x:f,y:o,width:v,height:c,stroke:"none",fill:a[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var qbt=function(t,e){var a=t.xAxis,r=t.width,i=t.height,o=t.offset;return bV(PO(Oa(Oa(Oa({},y2.defaultProps),a),{},{ticks:fc(a,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Hbt=function(t,e){var a=t.yAxis,r=t.width,i=t.height,o=t.offset;return bV(PO(Oa(Oa(Oa({},y2.defaultProps),a),{},{ticks:fc(a,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},wh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gh(n){var t,e,a,r,i,o,s=wO(),c=AO(),l=Bvt(),u=Oa(Oa({},n),{},{stroke:(t=n.stroke)!==null&&t!==void 0?t:wh.stroke,fill:(e=n.fill)!==null&&e!==void 0?e:wh.fill,horizontal:(a=n.horizontal)!==null&&a!==void 0?a:wh.horizontal,horizontalFill:(r=n.horizontalFill)!==null&&r!==void 0?r:wh.horizontalFill,vertical:(i=n.vertical)!==null&&i!==void 0?i:wh.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:wh.verticalFill,x:xt(n.x)?n.x:l.left,y:xt(n.y)?n.y:l.top,width:xt(n.width)?n.width:l.width,height:xt(n.height)?n.height:l.height}),h=u.x,f=u.y,y=u.width,w=u.height,v=u.syncWithTicks,b=u.horizontalValues,S=u.verticalValues,_=Tvt(),P=Dvt();if(!xt(y)||y<=0||!xt(w)||w<=0||!xt(h)||h!==+h||!xt(f)||f!==+f)return null;var E=u.verticalCoordinatesGenerator||qbt,C=u.horizontalCoordinatesGenerator||Hbt,T=u.horizontalPoints,B=u.verticalPoints;if((!T||!T.length)&&Qt(C)){var L=b&&b.length,M=C({yAxis:P?Oa(Oa({},P),{},{ticks:L?b:P.ticks}):void 0,width:s,height:c,offset:l},L?!0:v);xc(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tm(M),"]")),Array.isArray(M)&&(T=M)}if((!B||!B.length)&&Qt(E)){var U=S&&S.length,F=E({xAxis:_?Oa(Oa({},_),{},{ticks:U?S:_.ticks}):void 0,width:s,height:c,offset:l},U?!0:v);xc(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tm(F),"]")),Array.isArray(F)&&(B=F)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(Fbt,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Y.createElement($bt,ou({},u,{offset:l,horizontalPoints:T,xAxis:_,yAxis:P})),Y.createElement(Gbt,ou({},u,{offset:l,verticalPoints:B,xAxis:_,yAxis:P})),Y.createElement(Ubt,ou({},u,{horizontalPoints:T})),Y.createElement(zbt,ou({},u,{verticalPoints:B})))}Gh.displayName="CartesianGrid";var Vbt=["type","layout","connectNulls","ref"],Wbt=["key"];function Xf(n){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(n)}function yG(n,t){if(n==null)return{};var e=Kbt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Kbt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function ox(){return ox=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ox.apply(this,arguments)}function vG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Pr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(e),!0).forEach(function(a){lo(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Ah(n){return Jbt(n)||Qbt(n)||Ybt(n)||Xbt()}function Xbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybt(n,t){if(n){if(typeof n=="string")return UD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return UD(n,t)}}function Qbt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Jbt(n){if(Array.isArray(n))return UD(n)}function UD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function Zbt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function bG(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,cW(a.key),a)}}function twt(n,t,e){return t&&bG(n.prototype,t),e&&bG(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ewt(n,t,e){return t=QA(t),nwt(n,sW()?Reflect.construct(t,e||[],QA(n).constructor):t.apply(n,e))}function nwt(n,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awt(n)}function awt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function sW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sW=function(){return!!n})()}function QA(n){return QA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QA(n)}function rwt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&zD(n,t)}function zD(n,t){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},zD(n,t)}function lo(n,t,e){return t=cW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cW(n){var t=iwt(n,"string");return Xf(t)=="symbol"?t:t+""}function iwt(n,t){if(Xf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Xf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Yf=function(n){function t(){var e;Zbt(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=ewt(this,t,[].concat(r)),lo(e,"state",{isAnimationFinished:!0,totalLength:0}),lo(e,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),lo(e,"getStrokeDasharray",function(o,s,c){var l=c.reduce(function(S,_){return S+_});if(!l)return e.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/l),h=o%l,f=s-o,y=[],w=0,v=0;w<c.length;v+=c[w],++w)if(v+c[w]>h){y=[].concat(Ah(c.slice(0,w)),[h-v]);break}var b=y.length%2===0?[0,f]:[f];return[].concat(Ah(t.repeat(c,u)),Ah(y),b).map(function(S){return"".concat(S,"px")}).join(", ")}),lo(e,"id",h2("recharts-line-")),lo(e,"pathRef",function(o){e.mainCurve=o}),lo(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),lo(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return rwt(t,n),twt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,c=i.yAxis,l=i.layout,u=i.children,h=Ei(u,nv);if(!h)return null;var f=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Qa(v.payload,b)}},y={clipPath:a?"url(#clipPath-".concat(r,")"):null};return Y.createElement(Me,y,h.map(function(w){return Y.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,r,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,l=s.points,u=s.dataKey,h=Jt(this.props,!1),f=Jt(c,!0),y=l.map(function(v,b){var S=Pr(Pr(Pr({key:"dot-".concat(b),r:3},h),f),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:l});return t.renderDotItem(c,S)}),w={clipPath:a?"url(#clipPath-".concat(r?"":"dots-").concat(i,")"):null};return Y.createElement(Me,ox({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(a,r,i,o){var s=this.props,c=s.type,l=s.layout,u=s.connectNulls;s.ref;var h=yG(s,Vbt),f=Pr(Pr(Pr({},Jt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:c,layout:l,connectNulls:u});return Y.createElement(Zh,ox({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,r){var i=this,o=this.props,s=o.points,c=o.strokeDasharray,l=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,y=o.animationId,w=o.animateNewValues,v=o.width,b=o.height,S=this.state,_=S.prevPoints,P=S.totalLength;return Y.createElement(ds,{begin:u,duration:h,isActive:l,easing:f,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var C=E.t;if(_){var T=_.length/s.length,B=s.map(function(G,$){var H=Math.floor($*T);if(_[H]){var X=_[H],Q=fa(X.x,G.x),W=fa(X.y,G.y);return Pr(Pr({},G),{},{x:Q(C),y:W(C)})}if(w){var V=fa(v*2,G.x),tt=fa(b/2,G.y);return Pr(Pr({},G),{},{x:V(C),y:tt(C)})}return Pr(Pr({},G),{},{x:G.x,y:G.y})});return i.renderCurveStatically(B,a,r)}var L=fa(0,P),M=L(C),U;if(c){var F="".concat(c).split(/[,\s]+/gim).map(function(G){return parseFloat(G)});U=i.getStrokeDasharray(M,P,F)}else U=i.generateSimpleStrokeDasharray(P,M);return i.renderCurveStatically(s,a,r,{strokeDasharray:U})})}},{key:"renderCurve",value:function(a,r){var i=this.props,o=i.points,s=i.isAnimationActive,c=this.state,l=c.prevPoints,u=c.totalLength;return s&&o&&o.length&&(!l&&u>0||!Ff(l,o))?this.renderCurveWithAnimation(a,r):this.renderCurveStatically(o,a,r)}},{key:"render",value:function(){var a,r=this.props,i=r.hide,o=r.dot,s=r.points,c=r.className,l=r.xAxis,u=r.yAxis,h=r.top,f=r.left,y=r.width,w=r.height,v=r.isAnimationActive,b=r.id;if(i||!s||!s.length)return null;var S=this.state.isAnimationFinished,_=s.length===1,P=ce("recharts-line",c),E=l&&l.allowDataOverflow,C=u&&u.allowDataOverflow,T=E||C,B=ie(b)?this.id:b,L=(a=Jt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},M=L.r,U=M===void 0?3:M,F=L.strokeWidth,G=F===void 0?2:F,$=A9(o)?o:{},H=$.clipDot,X=H===void 0?!0:H,Q=U*2+G;return Y.createElement(Me,{className:P},E||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(B)},Y.createElement("rect",{x:E?f:f-y/2,y:C?h:h-w/2,width:E?y:y*2,height:C?w:w*2})),!X&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(B)},Y.createElement("rect",{x:f-Q/2,y:h-Q/2,width:y+Q,height:w+Q}))):null,!_&&this.renderCurve(T,B),this.renderErrorBar(T,B),(_||o)&&this.renderDots(T,X,B),(!v||S)&&vc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:r.curPoints}:a.points!==r.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,r){for(var i=a.length%2!==0?[].concat(Ah(a),[0]):a,o=[],s=0;s<r;++s)o=[].concat(Ah(o),Ah(i));return o}},{key:"renderDotItem",value:function(a,r){var i;if(Y.isValidElement(a))i=Y.cloneElement(a,r);else if(Qt(a))i=a(r);else{var o=r.key,s=yG(r,Wbt),c=ce("recharts-line-dot",typeof a!="boolean"?a.className:"");i=Y.createElement(dS,ox({key:o},s,{className:c}))}return i}}])}(I.PureComponent);lo(Yf,"displayName","Line");lo(Yf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Im.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});lo(Yf,"getComposedData",function(n){var t=n.props,e=n.xAxis,a=n.yAxis,r=n.xAxisTicks,i=n.yAxisTicks,o=n.dataKey,s=n.bandSize,c=n.displayedData,l=n.offset,u=t.layout,h=c.map(function(f,y){var w=Qa(f,o);return u==="horizontal"?{x:NA({axis:e,ticks:r,bandSize:s,entry:f,index:y}),y:ie(w)?null:a.scale(w),value:w,payload:f}:{x:ie(w)?null:e.scale(w),y:NA({axis:a,ticks:i,bandSize:s,entry:f,index:y}),value:w,payload:f}});return Pr({points:h,layout:u},l)});var owt=["layout","type","stroke","connectNulls","isRange","ref"],swt=["key"],lW;function Qf(n){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(n)}function dW(n,t){if(n==null)return{};var e=cwt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function cwt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function su(){return su=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},su.apply(this,arguments)}function wG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function al(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wG(Object(e),!0).forEach(function(a){ns(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function lwt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function AG(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,mW(a.key),a)}}function dwt(n,t,e){return t&&AG(n.prototype,t),e&&AG(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function uwt(n,t,e){return t=JA(t),mwt(n,uW()?Reflect.construct(t,e||[],JA(n).constructor):t.apply(n,e))}function mwt(n,t){if(t&&(Qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hwt(n)}function hwt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!n})()}function JA(n){return JA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JA(n)}function pwt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&qD(n,t)}function qD(n,t){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},qD(n,t)}function ns(n,t,e){return t=mW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function mW(n){var t=fwt(n,"string");return Qf(t)=="symbol"?t:t+""}function fwt(n,t){if(Qf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Qf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var _d=function(n){function t(){var e;lwt(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=uwt(this,t,[].concat(r)),ns(e,"state",{isAnimationFinished:!0}),ns(e,"id",h2("recharts-area-")),ns(e,"handleAnimationEnd",function(){var o=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),Qt(o)&&o()}),ns(e,"handleAnimationStart",function(){var o=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),Qt(o)&&o()}),e}return pwt(t,n),dwt(t,[{key:"renderDots",value:function(a,r,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,l=c.dot,u=c.points,h=c.dataKey,f=Jt(this.props,!1),y=Jt(l,!0),w=u.map(function(b,S){var _=al(al(al({key:"dot-".concat(S),r:3},f),y),{},{index:S,cx:b.x,cy:b.y,dataKey:h,value:b.value,payload:b.payload,points:u});return t.renderDotItem(l,_)}),v={clipPath:a?"url(#clipPath-".concat(r?"":"dots-").concat(i,")"):null};return Y.createElement(Me,su({className:"recharts-area-dots"},v),w)}},{key:"renderHorizontalRect",value:function(a){var r=this.props,i=r.baseLine,o=r.points,s=r.strokeWidth,c=o[0].x,l=o[o.length-1].x,u=a*Math.abs(c-l),h=id(o.map(function(f){return f.y||0}));return xt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(id(i.map(function(f){return f.y||0})),h)),xt(h)?Y.createElement("rect",{x:c<l?c:c-u,y:0,width:u,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var r=this.props,i=r.baseLine,o=r.points,s=r.strokeWidth,c=o[0].y,l=o[o.length-1].y,u=a*Math.abs(c-l),h=id(o.map(function(f){return f.x||0}));return xt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(id(i.map(function(f){return f.x||0})),h)),xt(h)?Y.createElement("rect",{x:0,y:c<l?c:c-u,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var r=this.props.layout;return r==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,r,i,o){var s=this.props,c=s.layout,l=s.type,u=s.stroke,h=s.connectNulls,f=s.isRange;s.ref;var y=dW(s,owt);return Y.createElement(Me,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Y.createElement(Zh,su({},Jt(y,!0),{points:a,connectNulls:h,type:l,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Y.createElement(Zh,su({},Jt(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:h,fill:"none",points:a})),u!=="none"&&f&&Y.createElement(Zh,su({},Jt(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:h,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(a,r){var i=this,o=this.props,s=o.points,c=o.baseLine,l=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,y=o.animationId,w=this.state,v=w.prevPoints,b=w.prevBaseLine;return Y.createElement(ds,{begin:u,duration:h,isActive:l,easing:f,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var _=S.t;if(v){var P=v.length/s.length,E=s.map(function(L,M){var U=Math.floor(M*P);if(v[U]){var F=v[U],G=fa(F.x,L.x),$=fa(F.y,L.y);return al(al({},L),{},{x:G(_),y:$(_)})}return L}),C;if(xt(c)&&typeof c=="number"){var T=fa(b,c);C=T(_)}else if(ie(c)||m2(c)){var B=fa(b,0);C=B(_)}else C=c.map(function(L,M){var U=Math.floor(M*P);if(b[U]){var F=b[U],G=fa(F.x,L.x),$=fa(F.y,L.y);return al(al({},L),{},{x:G(_),y:$(_)})}return L});return i.renderAreaStatically(E,C,a,r)}return Y.createElement(Me,null,Y.createElement("defs",null,Y.createElement("clipPath",{id:"animationClipPath-".concat(r)},i.renderClipRect(_))),Y.createElement(Me,{clipPath:"url(#animationClipPath-".concat(r,")")},i.renderAreaStatically(s,c,a,r)))})}},{key:"renderArea",value:function(a,r){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,l=this.state,u=l.prevPoints,h=l.prevBaseLine,f=l.totalLength;return c&&o&&o.length&&(!u&&f>0||!Ff(u,o)||!Ff(h,s))?this.renderAreaWithAnimation(a,r):this.renderAreaStatically(o,s,a,r)}},{key:"render",value:function(){var a,r=this.props,i=r.hide,o=r.dot,s=r.points,c=r.className,l=r.top,u=r.left,h=r.xAxis,f=r.yAxis,y=r.width,w=r.height,v=r.isAnimationActive,b=r.id;if(i||!s||!s.length)return null;var S=this.state.isAnimationFinished,_=s.length===1,P=ce("recharts-area",c),E=h&&h.allowDataOverflow,C=f&&f.allowDataOverflow,T=E||C,B=ie(b)?this.id:b,L=(a=Jt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},M=L.r,U=M===void 0?3:M,F=L.strokeWidth,G=F===void 0?2:F,$=A9(o)?o:{},H=$.clipDot,X=H===void 0?!0:H,Q=U*2+G;return Y.createElement(Me,{className:P},E||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(B)},Y.createElement("rect",{x:E?u:u-y/2,y:C?l:l-w/2,width:E?y:y*2,height:C?w:w*2})),!X&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(B)},Y.createElement("rect",{x:u-Q/2,y:l-Q/2,width:y+Q,height:w+Q}))):null,_?null:this.renderArea(T,B),(o||_)&&this.renderDots(T,X,B),(!v||S)&&vc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:r.curPoints,prevBaseLine:r.curBaseLine}:a.points!==r.curPoints||a.baseLine!==r.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(I.PureComponent);lW=_d;ns(_d,"displayName","Area");ns(_d,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Im.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ns(_d,"getBaseValue",function(n,t,e,a){var r=n.layout,i=n.baseValue,o=t.props.baseValue,s=o??i;if(xt(s)&&typeof s=="number")return s;var c=r==="horizontal"?a:e,l=c.scale.domain();if(c.type==="number"){var u=Math.max(l[0],l[1]),h=Math.min(l[0],l[1]);return s==="dataMin"?h:s==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]});ns(_d,"getComposedData",function(n){var t=n.props,e=n.item,a=n.xAxis,r=n.yAxis,i=n.xAxisTicks,o=n.yAxisTicks,s=n.bandSize,c=n.dataKey,l=n.stackedData,u=n.dataStartIndex,h=n.displayedData,f=n.offset,y=t.layout,w=l&&l.length,v=lW.getBaseValue(t,e,a,r),b=y==="horizontal",S=!1,_=h.map(function(E,C){var T;w?T=l[u+C]:(T=Qa(E,c),Array.isArray(T)?S=!0:T=[v,T]);var B=T[1]==null||w&&Qa(E,c)==null;return b?{x:NA({axis:a,ticks:i,bandSize:s,entry:E,index:C}),y:B?null:r.scale(T[1]),value:T,payload:E}:{x:B?null:a.scale(T[1]),y:NA({axis:r,ticks:o,bandSize:s,entry:E,index:C}),value:T,payload:E}}),P;return w||S?P=_.map(function(E){var C=Array.isArray(E.value)?E.value[0]:null;return b?{x:E.x,y:C!=null&&E.y!=null?r.scale(C):null}:{x:C!=null?a.scale(C):null,y:E.y}}):P=b?r.scale(v):a.scale(v),al({points:_,baseLine:P,layout:y,isRange:S},f)});ns(_d,"renderDotItem",function(n,t){var e;if(Y.isValidElement(n))e=Y.cloneElement(n,t);else if(Qt(n))e=n(t);else{var a=ce("recharts-area-dot",typeof n!="boolean"?n.className:""),r=t.key,i=dW(t,swt);e=Y.createElement(dS,su({},i,{key:r,className:a}))}return e});function Jf(n){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(n)}function gwt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function xwt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,fW(a.key),a)}}function ywt(n,t,e){return t&&xwt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function vwt(n,t,e){return t=ZA(t),bwt(n,hW()?Reflect.construct(t,e||[],ZA(n).constructor):t.apply(n,e))}function bwt(n,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wwt(n)}function wwt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hW=function(){return!!n})()}function ZA(n){return ZA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZA(n)}function Awt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&HD(n,t)}function HD(n,t){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},HD(n,t)}function pW(n,t,e){return t=fW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fW(n){var t=Swt(n,"string");return Jf(t)=="symbol"?t:t+""}function Swt(n,t){if(Jf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Jf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function VD(){return VD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},VD.apply(this,arguments)}function _wt(n){var t=n.xAxisId,e=wO(),a=AO(),r=XV(t);return r==null?null:Y.createElement(y2,VD({},r,{className:ce("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:e,height:a},ticksGenerator:function(o){return fc(o,!0)}}))}var as=function(n){function t(){return gwt(this,t),vwt(this,t,arguments)}return Awt(t,n),ywt(t,[{key:"render",value:function(){return Y.createElement(_wt,this.props)}}])}(Y.Component);pW(as,"displayName","XAxis");pW(as,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Zf(n){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(n)}function Pwt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function kwt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,yW(a.key),a)}}function Cwt(n,t,e){return t&&kwt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ewt(n,t,e){return t=t1(t),Twt(n,gW()?Reflect.construct(t,e||[],t1(n).constructor):t.apply(n,e))}function Twt(n,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dwt(n)}function Dwt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!n})()}function t1(n){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t1(n)}function Nwt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&WD(n,t)}function WD(n,t){return WD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},WD(n,t)}function xW(n,t,e){return t=yW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function yW(n){var t=Bwt(n,"string");return Zf(t)=="symbol"?t:t+""}function Bwt(n,t){if(Zf(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Zf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function KD(){return KD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},KD.apply(this,arguments)}var jwt=function(t){var e=t.yAxisId,a=wO(),r=AO(),i=YV(e);return i==null?null:Y.createElement(y2,KD({},i,{className:ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:r},ticksGenerator:function(s){return fc(s,!0)}}))},rs=function(n){function t(){return Pwt(this,t),Ewt(this,t,arguments)}return Nwt(t,n),Cwt(t,[{key:"render",value:function(){return Y.createElement(jwt,this.props)}}])}(Y.Component);xW(rs,"displayName","YAxis");xW(rs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SG(n){return Rwt(n)||Iwt(n)||Lwt(n)||Owt()}function Owt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lwt(n,t){if(n){if(typeof n=="string")return XD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return XD(n,t)}}function Iwt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rwt(n){if(Array.isArray(n))return XD(n)}function XD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}var YD=function(t,e,a,r,i){var o=Ei(t,_O),s=Ei(t,fS),c=[].concat(SG(o),SG(s)),l=Ei(t,xS),u="".concat(r,"Id"),h=r[0],f=e;if(c.length&&(f=c.reduce(function(v,b){if(b.props[u]===a&&cs(b.props,"extendDomain")&&xt(b.props[h])){var S=b.props[h];return[Math.min(v[0],S),Math.max(v[1],S)]}return v},f)),l.length){var y="".concat(h,"1"),w="".concat(h,"2");f=l.reduce(function(v,b){if(b.props[u]===a&&cs(b.props,"extendDomain")&&xt(b.props[y])&&xt(b.props[w])){var S=b.props[y],_=b.props[w];return[Math.min(v[0],S,_),Math.max(v[1],S,_)]}return v},f)}return i&&i.length&&(f=i.reduce(function(v,b){return xt(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},f)),f},FE={exports:{}},_G;function Mwt(){return _G||(_G=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(e=!1));function r(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var y=new r(u,h||c,f),w=e?e+l:l;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new a:delete c._events[l]}function s(){this._events=new a,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)t.call(u,h)&&l.push(e?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=e?e+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,y=h.length,w=new Array(y);f<y;f++)w[f]=h[f].fn;return w},s.prototype.listenerCount=function(l){var u=e?e+l:l,h=this._events[u];return h?h.fn?1:h.length:0},s.prototype.emit=function(l,u,h,f,y,w){var v=e?e+l:l;if(!this._events[v])return!1;var b=this._events[v],S=arguments.length,_,P;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,h),!0;case 4:return b.fn.call(b.context,u,h,f),!0;case 5:return b.fn.call(b.context,u,h,f,y),!0;case 6:return b.fn.call(b.context,u,h,f,y,w),!0}for(P=1,_=new Array(S-1);P<S;P++)_[P-1]=arguments[P];b.fn.apply(b.context,_)}else{var E=b.length,C;for(P=0;P<E;P++)switch(b[P].once&&this.removeListener(l,b[P].fn,void 0,!0),S){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,u);break;case 3:b[P].fn.call(b[P].context,u,h);break;case 4:b[P].fn.call(b[P].context,u,h,f);break;default:if(!_)for(C=1,_=new Array(S-1);C<S;C++)_[C-1]=arguments[C];b[P].fn.apply(b[P].context,_)}}return!0},s.prototype.on=function(l,u,h){return i(this,l,u,h,!1)},s.prototype.once=function(l,u,h){return i(this,l,u,h,!0)},s.prototype.removeListener=function(l,u,h,f){var y=e?e+l:l;if(!this._events[y])return this;if(!u)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===u&&(!f||w.once)&&(!h||w.context===h)&&o(this,y);else{for(var v=0,b=[],S=w.length;v<S;v++)(w[v].fn!==u||f&&!w[v].once||h&&w[v].context!==h)&&b.push(w[v]);b.length?this._events[y]=b.length===1?b[0]:b:o(this,y)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=e?e+l:l,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=e,s.EventEmitter=s,n.exports=s}(FE)),FE.exports}var Fwt=Mwt();const $wt=Ee(Fwt);var $E=new $wt,GE="recharts.syncMouseEvents";function Zx(n){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(n)}function Gwt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Uwt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,vW(a.key),a)}}function zwt(n,t,e){return t&&Uwt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function UE(n,t,e){return t=vW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vW(n){var t=qwt(n,"string");return Zx(t)=="symbol"?t:t+""}function qwt(n,t){if(Zx(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(Zx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Hwt=function(){function n(){Gwt(this,n),UE(this,"activeIndex",0),UE(this,"coordinateList",[]),UE(this,"layout","horizontal")}return zwt(n,[{key:"setDetails",value:function(e){var a,r=e.coordinateList,i=r===void 0?null:r,o=e.container,s=o===void 0?null:o,c=e.layout,l=c===void 0?null:c,u=e.offset,h=u===void 0?null:u,f=e.mouseHandlerCallback,y=f===void 0?null:f;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(this.coordinateList.length!==0)switch(e.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),i=r.x,o=r.y,s=r.height,c=this.coordinateList[this.activeIndex].coordinate,l=((e=window)===null||e===void 0?void 0:e.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+c+l,f=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Vwt(n,t,e){if(e==="number"&&t===!0&&Array.isArray(n)){var a=n==null?void 0:n[0],r=n==null?void 0:n[1];if(a&&r&&xt(a)&&xt(r))return!0}return!1}function Wwt(n,t,e,a){var r=a/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-r:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-r,width:n==="horizontal"?a:e.width-1,height:n==="horizontal"?e.height-1:a}}function bW(n){var t=n.cx,e=n.cy,a=n.radius,r=n.startAngle,i=n.endAngle,o=xa(t,e,a,r),s=xa(t,e,a,i);return{points:[o,s],cx:t,cy:e,radius:a,startAngle:r,endAngle:i}}function Kwt(n,t,e){var a,r,i,o;if(n==="horizontal")a=t.x,i=a,r=e.top,o=e.top+e.height;else if(n==="vertical")r=t.y,o=r,a=e.left,i=e.left+e.width;else if(t.cx!=null&&t.cy!=null)if(n==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,h=t.angle,f=xa(s,c,l,h),y=xa(s,c,u,h);a=f.x,r=f.y,i=y.x,o=y.y}else return bW(t);return[{x:a,y:r},{x:i,y:o}]}function t0(n){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(n)}function PG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function Vb(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?PG(Object(e),!0).forEach(function(a){Xwt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):PG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Xwt(n,t,e){return t=Ywt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ywt(n){var t=Qwt(n,"string");return t0(t)=="symbol"?t:t+""}function Qwt(n,t){if(t0(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(t0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Jwt(n){var t,e,a=n.element,r=n.tooltipEventType,i=n.isActive,o=n.activeCoordinate,s=n.activePayload,c=n.offset,l=n.activeTooltipIndex,u=n.tooltipAxisBandSize,h=n.layout,f=n.chartName,y=(t=a.props.cursor)!==null&&t!==void 0?t:(e=a.type.defaultProps)===null||e===void 0?void 0:e.cursor;if(!a||!y||!i||!o||f!=="ScatterChart"&&r!=="axis")return null;var w,v=Zh;if(f==="ScatterChart")w=o,v=$0t;else if(f==="BarChart")w=Wwt(h,o,c,u),v=gO;else if(h==="radial"){var b=bW(o),S=b.cx,_=b.cy,P=b.radius,E=b.startAngle,C=b.endAngle;w={cx:S,cy:_,startAngle:E,endAngle:C,innerRadius:P,outerRadius:P},v=PV}else w={points:Kwt(h,o,c)},v=Zh;var T=Vb(Vb(Vb(Vb({stroke:"#ccc",pointerEvents:"none"},c),w),Jt(y,!1)),{},{payload:s,payloadIndex:l,className:ce("recharts-tooltip-cursor",y.className)});return I.isValidElement(y)?I.cloneElement(y,T):I.createElement(v,T)}var Zwt=["item"],tAt=["children","className","width","height","style","compact","title","desc"];function t2(n){"@babel/helpers - typeof";return t2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t2(n)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Uh.apply(this,arguments)}function kG(n,t){return aAt(n)||nAt(n,t)||AW(n,t)||eAt()}function eAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nAt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a,r,i,o,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(c=(a=i.call(e)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}function aAt(n){if(Array.isArray(n))return n}function CG(n,t){if(n==null)return{};var e=rAt(n,t),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function rAt(n,t){if(n==null)return{};var e={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;e[a]=n[a]}return e}function iAt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function oAt(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,SW(a.key),a)}}function sAt(n,t,e){return t&&oAt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function cAt(n,t,e){return t=e1(t),lAt(n,wW()?Reflect.construct(t,e||[],e1(n).constructor):t.apply(n,e))}function lAt(n,t){if(t&&(t2(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAt(n)}function dAt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!n})()}function e1(n){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e1(n)}function uAt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&QD(n,t)}function QD(n,t){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},QD(n,t)}function e2(n){return pAt(n)||hAt(n)||AW(n)||mAt()}function mAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(n,t){if(n){if(typeof n=="string")return JD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return JD(n,t)}}function hAt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pAt(n){if(Array.isArray(n))return JD(n)}function JD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function EG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,a)}return e}function ot(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?EG(Object(e),!0).forEach(function(a){zt(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):EG(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function zt(n,t,e){return t=SW(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function SW(n){var t=fAt(n,"string");return t2(t)=="symbol"?t:t+""}function fAt(n,t){if(t2(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var a=e.call(n,t);if(t2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gAt={xAxis:["bottom","top"],yAxis:["left","right"]},xAt={width:"100%",height:"100%"},_W={x:0,y:0};function Wb(n){return n}var yAt=function(t,e){return e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius},vAt=function(t,e,a,r){var i=e.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=r.radius;return ot(ot(ot({},r),xa(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var c=i.coordinate,l=r.angle;return ot(ot(ot({},r),xa(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}return _W},yS=function(t,e){var a=e.graphicalItems,r=e.dataStartIndex,i=e.dataEndIndex,o=(a??[]).reduce(function(s,c){var l=c.props.data;return l&&l.length?[].concat(e2(s),e2(l)):s},[]);return o.length>0?o:t&&t.length&&xt(r)&&xt(i)?t.slice(r,i+1):[]};function PW(n){return n==="number"?[0,"auto"]:void 0}var ZD=function(t,e,a,r){var i=t.graphicalItems,o=t.tooltipAxis,s=yS(e,t);return a<0||!i||!i.length||a>=s.length?null:i.reduce(function(c,l){var u,h=(u=l.props.data)!==null&&u!==void 0?u:e;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var y=h===void 0?s:h;f=rA(y,o.dataKey,r)}else f=h&&h[a]||s[a];return f?[].concat(e2(c),[AV(l,f)]):c},[])},TG=function(t,e,a,r){var i=r||{x:t.chartX,y:t.chartY},o=yAt(i,a),s=t.orderedTooltipTicks,c=t.tooltipAxis,l=t.tooltipTicks,u=S2t(o,s,l,c);if(u>=0&&l){var h=l[u]&&l[u].value,f=ZD(t,e,u,h),y=vAt(a,s,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:y}}return null},bAt=function(t,e){var a=e.axes,r=e.graphicalItems,i=e.axisType,o=e.axisIdKey,s=e.stackGroups,c=e.dataStartIndex,l=e.dataEndIndex,u=t.layout,h=t.children,f=t.stackOffset,y=vV(u,i);return a.reduce(function(w,v){var b,S=v.type.defaultProps!==void 0?ot(ot({},v.type.defaultProps),v.props):v.props,_=S.type,P=S.dataKey,E=S.allowDataOverflow,C=S.allowDuplicatedCategory,T=S.scale,B=S.ticks,L=S.includeHidden,M=S[o];if(w[M])return w;var U=yS(t.data,{graphicalItems:r.filter(function(K){var it,ft=o in K.props?K.props[o]:(it=K.type.defaultProps)===null||it===void 0?void 0:it[o];return ft===M}),dataStartIndex:c,dataEndIndex:l}),F=U.length,G,$,H;Vwt(S.domain,E,_)&&(G=gD(S.domain,null,E),y&&(_==="number"||T!=="auto")&&(H=rx(U,P,"category")));var X=PW(_);if(!G||G.length===0){var Q,W=(Q=S.domain)!==null&&Q!==void 0?Q:X;if(P){if(G=rx(U,P,_),_==="category"&&y){var V=gct(G);C&&V?($=G,G=GA(0,F)):C||(G=M$(W,G,v).reduce(function(K,it){return K.indexOf(it)>=0?K:[].concat(e2(K),[it])},[]))}else if(_==="category")C?G=G.filter(function(K){return K!==""&&!ie(K)}):G=M$(W,G,v).reduce(function(K,it){return K.indexOf(it)>=0||it===""||ie(it)?K:[].concat(e2(K),[it])},[]);else if(_==="number"){var tt=E2t(U,r.filter(function(K){var it,ft,ct=o in K.props?K.props[o]:(it=K.type.defaultProps)===null||it===void 0?void 0:it[o],yt="hide"in K.props?K.props.hide:(ft=K.type.defaultProps)===null||ft===void 0?void 0:ft.hide;return ct===M&&(L||!yt)}),P,i,u);tt&&(G=tt)}y&&(_==="number"||T!=="auto")&&(H=rx(U,P,"category"))}else y?G=GA(0,F):s&&s[M]&&s[M].hasStack&&_==="number"?G=f==="expand"?[0,1]:wV(s[M].stackGroups,c,l):G=yV(U,r.filter(function(K){var it=o in K.props?K.props[o]:K.type.defaultProps[o],ft="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return it===M&&(L||!ft)}),_,u,!0);if(_==="number")G=YD(h,G,M,i,B),W&&(G=gD(W,G,E));else if(_==="category"&&W){var nt=W,z=G.every(function(K){return nt.indexOf(K)>=0});z&&(G=nt)}}return ot(ot({},w),{},zt({},M,ot(ot({},S),{},{axisType:i,domain:G,categoricalDomain:H,duplicateDomain:$,originalDomain:(b=S.domain)!==null&&b!==void 0?b:X,isCategorical:y,layout:u})))},{})},wAt=function(t,e){var a=e.graphicalItems,r=e.Axis,i=e.axisType,o=e.axisIdKey,s=e.stackGroups,c=e.dataStartIndex,l=e.dataEndIndex,u=t.layout,h=t.children,f=yS(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:l}),y=f.length,w=vV(u,i),v=-1;return a.reduce(function(b,S){var _=S.type.defaultProps!==void 0?ot(ot({},S.type.defaultProps),S.props):S.props,P=_[o],E=PW("number");if(!b[P]){v++;var C;return w?C=GA(0,y):s&&s[P]&&s[P].hasStack?(C=wV(s[P].stackGroups,c,l),C=YD(h,C,P,i)):(C=gD(E,yV(f,a.filter(function(T){var B,L,M=o in T.props?T.props[o]:(B=T.type.defaultProps)===null||B===void 0?void 0:B[o],U="hide"in T.props?T.props.hide:(L=T.type.defaultProps)===null||L===void 0?void 0:L.hide;return M===P&&!U}),"number",u),r.defaultProps.allowDataOverflow),C=YD(h,C,P,i)),ot(ot({},b),{},zt({},P,ot(ot({axisType:i},r.defaultProps),{},{hide:!0,orientation:Ci(gAt,"".concat(i,".").concat(v%2),null),domain:C,originalDomain:E,isCategorical:w,layout:u})))}return b},{})},AAt=function(t,e){var a=e.axisType,r=a===void 0?"xAxis":a,i=e.AxisComp,o=e.graphicalItems,s=e.stackGroups,c=e.dataStartIndex,l=e.dataEndIndex,u=t.children,h="".concat(r,"Id"),f=Ei(u,i),y={};return f&&f.length?y=bAt(t,{axes:f,graphicalItems:o,axisType:r,axisIdKey:h,stackGroups:s,dataStartIndex:c,dataEndIndex:l}):o&&o.length&&(y=wAt(t,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:h,stackGroups:s,dataStartIndex:c,dataEndIndex:l})),y},SAt=function(t){var e=cl(t),a=fc(e,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:zj(a,function(r){return r.coordinate}),tooltipAxis:e,tooltipAxisBandSize:BA(e,a)}},DG=function(t){var e=t.children,a=t.defaultShowTooltip,r=Wr(e,zf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},_At=function(t){return!t||!t.length?!1:t.some(function(e){var a=gc(e&&e.type);return a&&a.indexOf("Bar")>=0})},NG=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PAt=function(t,e){var a=t.props,r=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,c=s===void 0?{}:s,l=a.width,u=a.height,h=a.children,f=a.margin||{},y=Wr(h,zf),w=Wr(h,ts),v=Object.keys(c).reduce(function(C,T){var B=c[T],L=B.orientation;return!B.mirror&&!B.hide?ot(ot({},C),{},zt({},L,C[L]+B.width)):C},{left:f.left||0,right:f.right||0}),b=Object.keys(o).reduce(function(C,T){var B=o[T],L=B.orientation;return!B.mirror&&!B.hide?ot(ot({},C),{},zt({},L,Ci(C,"".concat(L))+B.height)):C},{top:f.top||0,bottom:f.bottom||0}),S=ot(ot({},b),v),_=S.bottom;y&&(S.bottom+=y.props.height||zf.defaultProps.height),w&&e&&(S=k2t(S,r,a,e));var P=l-S.left-S.right,E=u-S.top-S.bottom;return ot(ot({brushBottom:_},S),{},{width:Math.max(P,0),height:Math.max(E,0)})},kAt=function(t,e){if(e==="xAxis")return t[e].width;if(e==="yAxis")return t[e].height},CO=function(t){var e=t.chartName,a=t.GraphicalChild,r=t.defaultTooltipEventType,i=r===void 0?"axis":r,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,l=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,f=function(S,_){var P=_.graphicalItems,E=_.stackGroups,C=_.offset,T=_.updateId,B=_.dataStartIndex,L=_.dataEndIndex,M=S.barSize,U=S.layout,F=S.barGap,G=S.barCategoryGap,$=S.maxBarSize,H=NG(U),X=H.numericAxisName,Q=H.cateAxisName,W=_At(P),V=[];return P.forEach(function(tt,nt){var z=yS(S.data,{graphicalItems:[tt],dataStartIndex:B,dataEndIndex:L}),K=tt.type.defaultProps!==void 0?ot(ot({},tt.type.defaultProps),tt.props):tt.props,it=K.dataKey,ft=K.maxBarSize,ct=K["".concat(X,"Id")],yt=K["".concat(Q,"Id")],bt={},Gt=c.reduce(function(Ja,Oi){var Um=_["".concat(Oi.axisType,"Map")],v2=K["".concat(Oi.axisType,"Id")];Um&&Um[v2]||Oi.axisType==="zAxis"||Em();var b2=Um[v2];return ot(ot({},Ja),{},zt(zt({},Oi.axisType,b2),"".concat(Oi.axisType,"Ticks"),fc(b2)))},bt),ut=Gt[Q],Et=Gt["".concat(Q,"Ticks")],Rt=E&&E[ct]&&E[ct].hasStack&&$2t(tt,E[ct].stackGroups),lt=gc(tt.type).indexOf("Bar")>=0,fe=BA(ut,Et),ne=[],rn=W&&_2t({barSize:M,stackGroups:E,totalSize:kAt(Gt,Q)});if(lt){var on,qn,ji=ie(ft)?$:ft,xo=(on=(qn=BA(ut,Et,!0))!==null&&qn!==void 0?qn:ji)!==null&&on!==void 0?on:0;ne=P2t({barGap:F,barCategoryGap:G,bandSize:xo!==fe?xo:fe,sizeList:rn[yt],maxBarSize:ji}),xo!==fe&&(ne=ne.map(function(Ja){return ot(ot({},Ja),{},{position:ot(ot({},Ja.position),{},{offset:Ja.position.offset-xo/2})})}))}var yo=tt&&tt.type&&tt.type.getComposedData;yo&&V.push({props:ot(ot({},yo(ot(ot({},Gt),{},{displayedData:z,props:S,dataKey:it,item:tt,bandSize:fe,barPosition:ne,offset:C,stackedData:Rt,layout:U,dataStartIndex:B,dataEndIndex:L}))),{},zt(zt(zt({key:tt.key||"item-".concat(nt)},X,Gt[X]),Q,Gt[Q]),"animationId",T)),childIndex:Cct(tt,S.children),item:tt})}),V},y=function(S,_){var P=S.props,E=S.dataStartIndex,C=S.dataEndIndex,T=S.updateId;if(!Z5({props:P}))return null;var B=P.children,L=P.layout,M=P.stackOffset,U=P.data,F=P.reverseStackOrder,G=NG(L),$=G.numericAxisName,H=G.cateAxisName,X=Ei(B,a),Q=R2t(U,X,"".concat($,"Id"),"".concat(H,"Id"),M,F),W=c.reduce(function(K,it){var ft="".concat(it.axisType,"Map");return ot(ot({},K),{},zt({},ft,AAt(P,ot(ot({},it),{},{graphicalItems:X,stackGroups:it.axisType===$&&Q,dataStartIndex:E,dataEndIndex:C}))))},{}),V=PAt(ot(ot({},W),{},{props:P,graphicalItems:X}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(K){W[K]=u(P,W[K],V,K.replace("Map",""),e)});var tt=W["".concat(H,"Map")],nt=SAt(tt),z=f(P,ot(ot({},W),{},{dataStartIndex:E,dataEndIndex:C,updateId:T,graphicalItems:X,stackGroups:Q,offset:V}));return ot(ot({formattedGraphicalItems:z,graphicalItems:X,offset:V,stackGroups:Q},nt),W)},w=function(b){function S(_){var P,E,C;return iAt(this,S),C=cAt(this,S,[_]),zt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zt(C,"accessibilityManager",new Hwt),zt(C,"handleLegendBBoxUpdate",function(T){if(T){var B=C.state,L=B.dataStartIndex,M=B.dataEndIndex,U=B.updateId;C.setState(ot({legendBBox:T},y({props:C.props,dataStartIndex:L,dataEndIndex:M,updateId:U},ot(ot({},C.state),{},{legendBBox:T}))))}}),zt(C,"handleReceiveSyncEvent",function(T,B,L){if(C.props.syncId===T){if(L===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(B)}}),zt(C,"handleBrushChange",function(T){var B=T.startIndex,L=T.endIndex;if(B!==C.state.dataStartIndex||L!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return ot({dataStartIndex:B,dataEndIndex:L},y({props:C.props,dataStartIndex:B,dataEndIndex:L,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:B,dataEndIndex:L})}}),zt(C,"handleMouseEnter",function(T){var B=C.getMouseInfo(T);if(B){var L=ot(ot({},B),{},{isTooltipActive:!0});C.setState(L),C.triggerSyncEvent(L);var M=C.props.onMouseEnter;Qt(M)&&M(L,T)}}),zt(C,"triggeredAfterMouseMove",function(T){var B=C.getMouseInfo(T),L=B?ot(ot({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(L),C.triggerSyncEvent(L);var M=C.props.onMouseMove;Qt(M)&&M(L,T)}),zt(C,"handleItemMouseEnter",function(T){C.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),zt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),zt(C,"handleMouseMove",function(T){T.persist(),C.throttleTriggeredAfterMouseMove(T)}),zt(C,"handleMouseLeave",function(T){C.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};C.setState(B),C.triggerSyncEvent(B);var L=C.props.onMouseLeave;Qt(L)&&L(B,T)}),zt(C,"handleOuterEvent",function(T){var B=kct(T),L=Ci(C.props,"".concat(B));if(B&&Qt(L)){var M,U;/.*touch.*/i.test(B)?U=C.getMouseInfo(T.changedTouches[0]):U=C.getMouseInfo(T),L((M=U)!==null&&M!==void 0?M:{},T)}}),zt(C,"handleClick",function(T){var B=C.getMouseInfo(T);if(B){var L=ot(ot({},B),{},{isTooltipActive:!0});C.setState(L),C.triggerSyncEvent(L);var M=C.props.onClick;Qt(M)&&M(L,T)}}),zt(C,"handleMouseDown",function(T){var B=C.props.onMouseDown;if(Qt(B)){var L=C.getMouseInfo(T);B(L,T)}}),zt(C,"handleMouseUp",function(T){var B=C.props.onMouseUp;if(Qt(B)){var L=C.getMouseInfo(T);B(L,T)}}),zt(C,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),zt(C,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.handleMouseDown(T.changedTouches[0])}),zt(C,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.handleMouseUp(T.changedTouches[0])}),zt(C,"handleDoubleClick",function(T){var B=C.props.onDoubleClick;if(Qt(B)){var L=C.getMouseInfo(T);B(L,T)}}),zt(C,"handleContextMenu",function(T){var B=C.props.onContextMenu;if(Qt(B)){var L=C.getMouseInfo(T);B(L,T)}}),zt(C,"triggerSyncEvent",function(T){C.props.syncId!==void 0&&$E.emit(GE,C.props.syncId,T,C.eventEmitterSymbol)}),zt(C,"applySyncEvent",function(T){var B=C.props,L=B.layout,M=B.syncMethod,U=C.state.updateId,F=T.dataStartIndex,G=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)C.setState(ot({dataStartIndex:F,dataEndIndex:G},y({props:C.props,dataStartIndex:F,dataEndIndex:G,updateId:U},C.state)));else if(T.activeTooltipIndex!==void 0){var $=T.chartX,H=T.chartY,X=T.activeTooltipIndex,Q=C.state,W=Q.offset,V=Q.tooltipTicks;if(!W)return;if(typeof M=="function")X=M(V,T);else if(M==="value"){X=-1;for(var tt=0;tt<V.length;tt++)if(V[tt].value===T.activeLabel){X=tt;break}}var nt=ot(ot({},W),{},{x:W.left,y:W.top}),z=Math.min($,nt.x+nt.width),K=Math.min(H,nt.y+nt.height),it=V[X]&&V[X].value,ft=ZD(C.state,C.props.data,X),ct=V[X]?{x:L==="horizontal"?V[X].coordinate:z,y:L==="horizontal"?K:V[X].coordinate}:_W;C.setState(ot(ot({},T),{},{activeLabel:it,activeCoordinate:ct,activePayload:ft,activeTooltipIndex:X}))}else C.setState(T)}),zt(C,"renderCursor",function(T){var B,L=C.state,M=L.isTooltipActive,U=L.activeCoordinate,F=L.activePayload,G=L.offset,$=L.activeTooltipIndex,H=L.tooltipAxisBandSize,X=C.getTooltipEventType(),Q=(B=T.props.active)!==null&&B!==void 0?B:M,W=C.props.layout,V=T.key||"_recharts-cursor";return Y.createElement(Jwt,{key:V,activeCoordinate:U,activePayload:F,activeTooltipIndex:$,chartName:e,element:T,isActive:Q,layout:W,offset:G,tooltipAxisBandSize:H,tooltipEventType:X})}),zt(C,"renderPolarAxis",function(T,B,L){var M=Ci(T,"type.axisType"),U=Ci(C.state,"".concat(M,"Map")),F=T.type.defaultProps,G=F!==void 0?ot(ot({},F),T.props):T.props,$=U&&U[G["".concat(M,"Id")]];return I.cloneElement(T,ot(ot({},$),{},{className:ce(M,$.className),key:T.key||"".concat(B,"-").concat(L),ticks:fc($,!0)}))}),zt(C,"renderPolarGrid",function(T){var B=T.props,L=B.radialLines,M=B.polarAngles,U=B.polarRadius,F=C.state,G=F.radiusAxisMap,$=F.angleAxisMap,H=cl(G),X=cl($),Q=X.cx,W=X.cy,V=X.innerRadius,tt=X.outerRadius;return I.cloneElement(T,{polarAngles:Array.isArray(M)?M:fc(X,!0).map(function(nt){return nt.coordinate}),polarRadius:Array.isArray(U)?U:fc(H,!0).map(function(nt){return nt.coordinate}),cx:Q,cy:W,innerRadius:V,outerRadius:tt,key:T.key||"polar-grid",radialLines:L})}),zt(C,"renderLegend",function(){var T=C.state.formattedGraphicalItems,B=C.props,L=B.children,M=B.width,U=B.height,F=C.props.margin||{},G=M-(F.left||0)-(F.right||0),$=gV({children:L,formattedGraphicalItems:T,legendWidth:G,legendContent:l});if(!$)return null;var H=$.item,X=CG($,Zwt);return I.cloneElement(H,ot(ot({},X),{},{chartWidth:M,chartHeight:U,margin:F,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),zt(C,"renderTooltip",function(){var T,B=C.props,L=B.children,M=B.accessibilityLayer,U=Wr(L,fr);if(!U)return null;var F=C.state,G=F.isTooltipActive,$=F.activeCoordinate,H=F.activePayload,X=F.activeLabel,Q=F.offset,W=(T=U.props.active)!==null&&T!==void 0?T:G;return I.cloneElement(U,{viewBox:ot(ot({},Q),{},{x:Q.left,y:Q.top}),active:W,label:X,payload:W?H:[],coordinate:$,accessibilityLayer:M})}),zt(C,"renderBrush",function(T){var B=C.props,L=B.margin,M=B.data,U=C.state,F=U.offset,G=U.dataStartIndex,$=U.dataEndIndex,H=U.updateId;return I.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Ub(C.handleBrushChange,T.props.onChange),data:M,x:xt(T.props.x)?T.props.x:F.left,y:xt(T.props.y)?T.props.y:F.top+F.height+F.brushBottom-(L.bottom||0),width:xt(T.props.width)?T.props.width:F.width,startIndex:G,endIndex:$,updateId:"brush-".concat(H)})}),zt(C,"renderReferenceElement",function(T,B,L){if(!T)return null;var M=C,U=M.clipPathId,F=C.state,G=F.xAxisMap,$=F.yAxisMap,H=F.offset,X=T.type.defaultProps||{},Q=T.props,W=Q.xAxisId,V=W===void 0?X.xAxisId:W,tt=Q.yAxisId,nt=tt===void 0?X.yAxisId:tt;return I.cloneElement(T,{key:T.key||"".concat(B,"-").concat(L),xAxis:G[V],yAxis:$[nt],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:U})}),zt(C,"renderActivePoints",function(T){var B=T.item,L=T.activePoint,M=T.basePoint,U=T.childIndex,F=T.isRange,G=[],$=B.props.key,H=B.item.type.defaultProps!==void 0?ot(ot({},B.item.type.defaultProps),B.item.props):B.item.props,X=H.activeDot,Q=H.dataKey,W=ot(ot({index:U,dataKey:Q,cx:L.x,cy:L.y,r:4,fill:fO(B.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Jt(X,!1)),iA(X));return G.push(S.renderActiveDot(X,W,"".concat($,"-activePoint-").concat(U))),M?G.push(S.renderActiveDot(X,ot(ot({},W),{},{cx:M.x,cy:M.y}),"".concat($,"-basePoint-").concat(U))):F&&G.push(null),G}),zt(C,"renderGraphicChild",function(T,B,L){var M=C.filterFormatItem(T,B,L);if(!M)return null;var U=C.getTooltipEventType(),F=C.state,G=F.isTooltipActive,$=F.tooltipAxis,H=F.activeTooltipIndex,X=F.activeLabel,Q=C.props.children,W=Wr(Q,fr),V=M.props,tt=V.points,nt=V.isRange,z=V.baseLine,K=M.item.type.defaultProps!==void 0?ot(ot({},M.item.type.defaultProps),M.item.props):M.item.props,it=K.activeDot,ft=K.hide,ct=K.activeBar,yt=K.activeShape,bt=!!(!ft&&G&&W&&(it||ct||yt)),Gt={};U!=="axis"&&W&&W.props.trigger==="click"?Gt={onClick:Ub(C.handleItemMouseEnter,T.props.onClick)}:U!=="axis"&&(Gt={onMouseLeave:Ub(C.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Ub(C.handleItemMouseEnter,T.props.onMouseEnter)});var ut=I.cloneElement(T,ot(ot({},M.props),Gt));function Et(Oi){return typeof $.dataKey=="function"?$.dataKey(Oi.payload):null}if(bt)if(H>=0){var Rt,lt;if($.dataKey&&!$.allowDuplicatedCategory){var fe=typeof $.dataKey=="function"?Et:"payload.".concat($.dataKey.toString());Rt=rA(tt,fe,X),lt=nt&&z&&rA(z,fe,X)}else Rt=tt==null?void 0:tt[H],lt=nt&&z&&z[H];if(yt||ct){var ne=T.props.activeIndex!==void 0?T.props.activeIndex:H;return[I.cloneElement(T,ot(ot(ot({},M.props),Gt),{},{activeIndex:ne})),null,null]}if(!ie(Rt))return[ut].concat(e2(C.renderActivePoints({item:M,activePoint:Rt,basePoint:lt,childIndex:H,isRange:nt})))}else{var rn,on=(rn=C.getItemByXY(C.state.activeCoordinate))!==null&&rn!==void 0?rn:{graphicalItem:ut},qn=on.graphicalItem,ji=qn.item,xo=ji===void 0?T:ji,yo=qn.childIndex,Ja=ot(ot(ot({},M.props),Gt),{},{activeIndex:yo});return[I.cloneElement(xo,Ja),null,null]}return nt?[ut,null,null]:[ut,null]}),zt(C,"renderCustomized",function(T,B,L){return I.cloneElement(T,ot(ot({key:"recharts-customized-".concat(L)},C.props),C.state))}),zt(C,"renderMap",{CartesianGrid:{handler:Wb,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Wb},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Wb},YAxis:{handler:Wb},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((P=_.id)!==null&&P!==void 0?P:h2("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=fH(C.triggeredAfterMouseMove,(E=_.throttleDelay)!==null&&E!==void 0?E:1e3/60),C.state={},C}return uAt(S,b),sAt(S,[{key:"componentDidMount",value:function(){var P,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,E=P.children,C=P.data,T=P.height,B=P.layout,L=Wr(E,fr);if(L){var M=L.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,F=ZD(this.state,C,M,U),G=this.state.tooltipTicks[M].coordinate,$=(this.state.offset.top+T)/2,H=B==="horizontal",X=H?{x:G,y:$}:{y:G,x:$},Q=this.state.formattedGraphicalItems.find(function(V){var tt=V.item;return tt.type.name==="Scatter"});Q&&(X=ot(ot({},X),Q.props.points[M].tooltipPosition),F=Q.props.points[M].tooltipPayload);var W={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:U,activePayload:F,activeCoordinate:X};this.setState(W),this.renderCursor(L),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var C,T;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(P){MT([Wr(P.children,fr)],[Wr(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Wr(this.props.children,fr);if(P&&typeof P.props.shared=="boolean"){var E=P.props.shared?"axis":"item";return s.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var E=this.container,C=E.getBoundingClientRect(),T=hmt(C),B={chartX:Math.round(P.pageX-T.left),chartY:Math.round(P.pageY-T.top)},L=C.width/E.offsetWidth||1,M=this.inRange(B.chartX,B.chartY,L);if(!M)return null;var U=this.state,F=U.xAxisMap,G=U.yAxisMap,$=this.getTooltipEventType(),H=TG(this.state,this.props.data,this.props.layout,M);if($!=="axis"&&F&&G){var X=cl(F).scale,Q=cl(G).scale,W=X&&X.invert?X.invert(B.chartX):null,V=Q&&Q.invert?Q.invert(B.chartY):null;return ot(ot({},B),{},{xValue:W,yValue:V},H)}return H?ot(ot({},B),H):null}},{key:"inRange",value:function(P,E){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,B=P/C,L=E/C;if(T==="horizontal"||T==="vertical"){var M=this.state.offset,U=B>=M.left&&B<=M.left+M.width&&L>=M.top&&L<=M.top+M.height;return U?{x:B,y:L}:null}var F=this.state,G=F.angleAxisMap,$=F.radiusAxisMap;if(G&&$){var H=cl(G);return G$({x:B,y:L},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,E=this.getTooltipEventType(),C=Wr(P,fr),T={};C&&E==="axis"&&(C.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=iA(this.props,this.handleOuterEvent);return ot(ot({},B),T)}},{key:"addListener",value:function(){$E.on(GE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$E.removeListener(GE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,E,C){for(var T=this.state.formattedGraphicalItems,B=0,L=T.length;B<L;B++){var M=T[B];if(M.item===P||M.props.key===P.key||E===gc(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,E=this.state.offset,C=E.left,T=E.top,B=E.height,L=E.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:P},Y.createElement("rect",{x:C,y:T,height:B,width:L})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(E,C){var T=kG(C,2),B=T[0],L=T[1];return ot(ot({},E),{},zt({},B,L.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(E,C){var T=kG(C,2),B=T[0],L=T[1];return ot(ot({},E),{},zt({},B,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[P])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(P){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[P])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(P){var E=this.state,C=E.formattedGraphicalItems,T=E.activeItem;if(C&&C.length)for(var B=0,L=C.length;B<L;B++){var M=C[B],U=M.props,F=M.item,G=F.type.defaultProps!==void 0?ot(ot({},F.type.defaultProps),F.props):F.props,$=gc(F.type);if($==="Bar"){var H=(U.data||[]).find(function(V){return D0t(P,V)});if(H)return{graphicalItem:M,payload:H}}else if($==="RadialBar"){var X=(U.data||[]).find(function(V){return G$(P,V)});if(X)return{graphicalItem:M,payload:X}}else if(uS(M,T)||mS(M,T)||Kx(M,T)){var Q=byt({graphicalItem:M,activeTooltipItem:T,itemData:G.data}),W=G.activeIndex===void 0?Q:G.activeIndex;return{graphicalItem:ot(ot({},M),{},{childIndex:W}),payload:Kx(M,T)?G.data[Q]:M.props.data[Q]}}}return null}},{key:"render",value:function(){var P=this;if(!Z5(this))return null;var E=this.props,C=E.children,T=E.className,B=E.width,L=E.height,M=E.style,U=E.compact,F=E.title,G=E.desc,$=CG(E,tAt),H=Jt($,!1);if(U)return Y.createElement(iG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement($T,Uh({},H,{width:B,height:L,title:F,desc:G}),this.renderClipPath(),e4(C,this.renderMap)));if(this.props.accessibilityLayer){var X,Q;H.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,H.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",H.onKeyDown=function(V){P.accessibilityManager.keyboardEvent(V)},H.onFocus=function(){P.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return Y.createElement(iG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",Uh({className:ce("recharts-wrapper",T),style:ot({position:"relative",cursor:"default",width:B,height:L},M)},W,{ref:function(tt){P.container=tt}}),Y.createElement($T,Uh({},H,{width:B,height:L,title:F,desc:G,style:xAt}),this.renderClipPath(),e4(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);zt(w,"displayName",e),zt(w,"defaultProps",ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),zt(w,"getDerivedStateFromProps",function(b,S){var _=b.dataKey,P=b.data,E=b.children,C=b.width,T=b.height,B=b.layout,L=b.stackOffset,M=b.margin,U=S.dataStartIndex,F=S.dataEndIndex;if(S.updateId===void 0){var G=DG(b);return ot(ot(ot({},G),{},{updateId:0},y(ot(ot({props:b},G),{},{updateId:0}),S)),{},{prevDataKey:_,prevData:P,prevWidth:C,prevHeight:T,prevLayout:B,prevStackOffset:L,prevMargin:M,prevChildren:E})}if(_!==S.prevDataKey||P!==S.prevData||C!==S.prevWidth||T!==S.prevHeight||B!==S.prevLayout||L!==S.prevStackOffset||!Yh(M,S.prevMargin)){var $=DG(b),H={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},X=ot(ot({},TG(S,P,B)),{},{updateId:S.updateId+1}),Q=ot(ot(ot({},$),H),X);return ot(ot(ot({},Q),y(ot({props:b},Q),S)),{},{prevDataKey:_,prevData:P,prevWidth:C,prevHeight:T,prevLayout:B,prevStackOffset:L,prevMargin:M,prevChildren:E})}if(!MT(E,S.prevChildren)){var W,V,tt,nt,z=Wr(E,zf),K=z&&(W=(V=z.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:U,it=z&&(tt=(nt=z.props)===null||nt===void 0?void 0:nt.endIndex)!==null&&tt!==void 0?tt:F,ft=K!==U||it!==F,ct=!ie(P),yt=ct&&!ft?S.updateId:S.updateId+1;return ot(ot({updateId:yt},y(ot(ot({props:b},S),{},{updateId:yt,dataStartIndex:K,dataEndIndex:it}),S)),{},{prevChildren:E,dataStartIndex:K,dataEndIndex:it})}return null}),zt(w,"renderActiveDot",function(b,S,_){var P;return I.isValidElement(b)?P=I.cloneElement(b,S):Qt(b)?P=b(S):P=Y.createElement(dS,S),Y.createElement(Me,{className:"recharts-active-dot",key:_},P)});var v=I.forwardRef(function(S,_){return Y.createElement(w,Uh({},S,{ref:_}))});return v.displayName=w.displayName,v},BG=CO({chartName:"LineChart",GraphicalChild:Yf,axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:rs}],formatAxisMap:xO}),jG=CO({chartName:"BarChart",GraphicalChild:dd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:rs}],formatAxisMap:xO}),CAt=CO({chartName:"AreaChart",GraphicalChild:_d,axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:rs}],formatAxisMap:xO});function EAt({data:n,title:t}){return x.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg","data-matrix-id":"src/components/LearningChart.tsx:10:4","data-matrix-name":"div","data-component-path":"src/components/LearningChart.tsx","data-component-line":"10","data-component-file":"LearningChart.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-6%20shadow-lg%22%7D",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground mb-4","data-matrix-id":"src/components/LearningChart.tsx:11:6","data-matrix-name":"h3","data-component-path":"src/components/LearningChart.tsx","data-component-line":"11","data-component-file":"LearningChart.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%22%7D",children:t}),x.jsx(_g,{width:"100%",height:200,"data-matrix-id":"src/components/LearningChart.tsx:12:6","data-matrix-name":"ResponsiveContainer","data-component-path":"src/components/LearningChart.tsx","data-component-line":"12","data-component-file":"LearningChart.tsx","data-component-name":"ResponsiveContainer","data-component-content":"%7B%22width%22%3A%22100%25%22%2C%22height%22%3A200%7D",children:x.jsxs(CAt,{data:n,"data-matrix-id":"src/components/LearningChart.tsx:14:8","data-matrix-name":"AreaChart","data-component-path":"src/components/LearningChart.tsx","data-component-line":"14","data-component-file":"LearningChart.tsx","data-component-name":"AreaChart","data-component-content":"%7B%22data%22%3A%22%5BIdentifier%5D%22%7D",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorMinutes",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),x.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),x.jsx(Gh,{strokeDasharray:"3 3",stroke:"#f0f0f0","data-matrix-id":"src/components/LearningChart.tsx:22:10","data-matrix-name":"CartesianGrid","data-component-path":"src/components/LearningChart.tsx","data-component-line":"22","data-component-file":"LearningChart.tsx","data-component-name":"CartesianGrid","data-component-content":"%7B%22strokeDasharray%22%3A%223%203%22%2C%22stroke%22%3A%22%23f0f0f0%22%7D"}),x.jsx(as,{dataKey:"day",stroke:"#9ca3af",style:{fontSize:"12px"},"data-matrix-id":"src/components/LearningChart.tsx:24:10","data-matrix-name":"XAxis","data-component-path":"src/components/LearningChart.tsx","data-component-line":"24","data-component-file":"LearningChart.tsx","data-component-name":"XAxis","data-component-content":"%7B%22dataKey%22%3A%22day%22%2C%22stroke%22%3A%22%239ca3af%22%2C%22style%22%3A%22%5BTSAsExpression%5D%22%7D"}),x.jsx(rs,{stroke:"#9ca3af",style:{fontSize:"12px"},"data-matrix-id":"src/components/LearningChart.tsx:30:10","data-matrix-name":"YAxis","data-component-path":"src/components/LearningChart.tsx","data-component-line":"30","data-component-file":"LearningChart.tsx","data-component-name":"YAxis","data-component-content":"%7B%22stroke%22%3A%22%239ca3af%22%2C%22style%22%3A%22%5BTSAsExpression%5D%22%7D"}),x.jsx(fr,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:e=>[`${e} min`,"Learning Time"],"data-matrix-id":"src/components/LearningChart.tsx:35:10","data-matrix-name":"Tooltip","data-component-path":"src/components/LearningChart.tsx","data-component-line":"35","data-component-file":"LearningChart.tsx","data-component-name":"Tooltip","data-component-content":"%7B%22contentStyle%22%3A%22%5BTSAsExpression%5D%22%2C%22formatter%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),x.jsx(_d,{type:"monotone",dataKey:"minutes",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorMinutes)","data-matrix-id":"src/components/LearningChart.tsx:45:10","data-matrix-name":"Area","data-component-path":"src/components/LearningChart.tsx","data-component-line":"45","data-component-file":"LearningChart.tsx","data-component-name":"Area","data-component-content":"%7B%22type%22%3A%22monotone%22%2C%22dataKey%22%3A%22minutes%22%2C%22stroke%22%3A%22%233b82f6%22%2C%22strokeWidth%22%3A2%2C%22fillOpacity%22%3A1%2C%22fill%22%3A%22url(%23colorMinutes)%22%7D"})]})})]})}function TAt({achievements:n}){const[t,e]=I.useState(null),a=n.filter(i=>i.earned).length,r=n.length;return x.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg","data-matrix-id":"src/components/AchievementGallery.tsx:27:4","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"27","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-6%20shadow-lg%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/components/AchievementGallery.tsx:29:6","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"29","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/AchievementGallery.tsx:30:8","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"30","data-component-file":"AchievementGallery.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground mb-1","data-matrix-id":"src/components/AchievementGallery.tsx:31:10","data-matrix-name":"h3","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"31","data-component-file":"AchievementGallery.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-1%22%7D",children:"Achievements"}),x.jsxs("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AchievementGallery.tsx:32:10","data-matrix-name":"p","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"32","data-component-file":"AchievementGallery.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:[a," of ",r," unlocked"]})]}),x.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/components/AchievementGallery.tsx:36:8","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"36","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[x.jsx(uc,{className:"w-5 h-5 text-yellow-500","data-matrix-id":"src/components/AchievementGallery.tsx:37:10","data-matrix-name":"Trophy","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"37","data-component-file":"AchievementGallery.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-yellow-500%22%7D"}),x.jsx("span",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/components/AchievementGallery.tsx:38:10","data-matrix-name":"span","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"38","data-component-file":"AchievementGallery.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:a})]})]}),x.jsx("div",{className:"mb-6","data-matrix-id":"src/components/AchievementGallery.tsx:43:6","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"43","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:x.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden","data-matrix-id":"src/components/AchievementGallery.tsx:44:8","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"44","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-2%20bg-muted%20rounded-full%20overflow-hidden%22%7D",children:x.jsx(st.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:`${a/r*100}%`},transition:{duration:1,ease:"easeOut"}})})}),x.jsx("div",{className:"grid grid-cols-3 gap-3","data-matrix-id":"src/components/AchievementGallery.tsx:55:6","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"55","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-3%22%7D",children:n.map((i,o)=>x.jsxs(st.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:o*.05},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(i),className:`aspect-square rounded-xl p-3 flex flex-col items-center justify-center gap-2 transition-all ${i.earned?"bg-primary shadow-md":"bg-muted"}`,children:[i.earned?x.jsx(st.div,{initial:{rotate:-180,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:o*.05+.2},children:x.jsx(uc,{className:"w-8 h-8 text-white","data-matrix-id":"src/components/AchievementGallery.tsx:77:16","data-matrix-name":"Trophy","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"77","data-component-file":"AchievementGallery.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-white%22%7D"})}):x.jsx(Hw,{className:"w-8 h-8 text-gray-400","data-matrix-id":"src/components/AchievementGallery.tsx:80:14","data-matrix-name":"Lock","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"80","data-component-file":"AchievementGallery.tsx","data-component-name":"Lock","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-gray-400%22%7D"}),i.progress!==void 0&&!i.earned&&x.jsx("div",{className:"w-full mt-1","data-matrix-id":"src/components/AchievementGallery.tsx:83:14","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"83","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20mt-1%22%7D",children:x.jsx("div",{className:"h-1 bg-gray-200 rounded-full overflow-hidden","data-matrix-id":"src/components/AchievementGallery.tsx:84:16","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"84","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-1%20bg-gray-200%20rounded-full%20overflow-hidden%22%7D",children:x.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${i.progress/(i.total||1)*100}%`},"data-matrix-id":"src/components/AchievementGallery.tsx:85:18","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"85","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-blue-500%20rounded-full%22%2C%22style%22%3A%7B%22width%22%3A%22%5BTemplateLiteral%5D%22%7D%7D"})})})]},i.id))}),n.length===0&&x.jsxs("div",{className:"text-center py-8","data-matrix-id":"src/components/AchievementGallery.tsx:98:8","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"98","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%22%7D",children:[x.jsx(uc,{className:"w-12 h-12 text-gray-300 mx-auto mb-3","data-matrix-id":"src/components/AchievementGallery.tsx:99:10","data-matrix-name":"Trophy","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"99","data-component-file":"AchievementGallery.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-gray-300%20mx-auto%20mb-3%22%7D"}),x.jsx("p",{className:"text-muted-foreground mb-2","data-matrix-id":"src/components/AchievementGallery.tsx:100:10","data-matrix-name":"p","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"100","data-component-file":"AchievementGallery.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-2%22%7D",children:"No achievements yet"}),x.jsx("p",{className:"text-sm text-gray-400","data-matrix-id":"src/components/AchievementGallery.tsx:101:10","data-matrix-name":"p","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"101","data-component-file":"AchievementGallery.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-400%22%7D",children:"Start learning to unlock achievements"})]}),t&&x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(null),className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:x.jsxs(st.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:i=>i.stopPropagation(),className:"bg-card rounded-3xl p-8 max-w-sm w-full text-center",children:[x.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center mb-4 ${t.earned?"bg-primary":"bg-muted"}`,"data-matrix-id":"src/components/AchievementGallery.tsx:123:12","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"123","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.earned?x.jsx(uc,{className:"w-12 h-12 text-white","data-matrix-id":"src/components/AchievementGallery.tsx:129:16","data-matrix-name":"Trophy","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"129","data-component-file":"AchievementGallery.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-white%22%7D"}):x.jsx(Hw,{className:"w-12 h-12 text-gray-400","data-matrix-id":"src/components/AchievementGallery.tsx:131:16","data-matrix-name":"Lock","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"131","data-component-file":"AchievementGallery.tsx","data-component-name":"Lock","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-gray-400%22%7D"})}),x.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/components/AchievementGallery.tsx:134:12","data-matrix-name":"h3","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"134","data-component-file":"AchievementGallery.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:t.title}),x.jsx("p",{className:"text-muted-foreground mb-4","data-matrix-id":"src/components/AchievementGallery.tsx:137:12","data-matrix-name":"p","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"137","data-component-file":"AchievementGallery.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-4%22%7D",children:t.description}),t.earned&&t.earnedAt&&x.jsxs("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AchievementGallery.tsx:141:14","data-matrix-name":"p","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"141","data-component-file":"AchievementGallery.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Unlocked on ",new Date(t.earnedAt).toLocaleDateString()]}),!t.earned&&t.progress!==void 0&&x.jsxs("div",{className:"mt-4","data-matrix-id":"src/components/AchievementGallery.tsx:146:14","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"146","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-4%22%7D",children:[x.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-2","data-matrix-id":"src/components/AchievementGallery.tsx:147:16","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"147","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-sm%20text-muted-foreground%20mb-2%22%7D",children:[x.jsx("span",{"data-matrix-id":"src/components/AchievementGallery.tsx:148:18","data-matrix-name":"span","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"148","data-component-file":"AchievementGallery.tsx","data-component-name":"span",children:"Progress"}),x.jsxs("span",{"data-matrix-id":"src/components/AchievementGallery.tsx:149:18","data-matrix-name":"span","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"149","data-component-file":"AchievementGallery.tsx","data-component-name":"span",children:[t.progress," / ",t.total]})]}),x.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden","data-matrix-id":"src/components/AchievementGallery.tsx:151:16","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"151","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-2%20bg-muted%20rounded-full%20overflow-hidden%22%7D",children:x.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${t.progress/(t.total||1)*100}%`},"data-matrix-id":"src/components/AchievementGallery.tsx:152:18","data-matrix-name":"div","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"152","data-component-file":"AchievementGallery.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-blue-500%20rounded-full%20transition-all%22%2C%22style%22%3A%7B%22width%22%3A%22%5BTemplateLiteral%5D%22%7D%7D"})})]}),x.jsx("button",{onClick:()=>e(null),className:"mt-6 px-6 py-2 bg-gray-900 text-white rounded-full font-medium hover:bg-gray-800 transition-colors","data-matrix-id":"src/components/AchievementGallery.tsx:159:12","data-matrix-name":"button","data-component-path":"src/components/AchievementGallery.tsx","data-component-line":"159","data-component-file":"AchievementGallery.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22mt-6%20px-6%20py-2%20bg-gray-900%20text-white%20rounded-full%20font-medium%20hover%3Abg-gray-800%20transition-colors%22%7D",children:"Close"})]})})]})}function DAt(){var U;const{profile:n,user:t,loadProfile:e,loadAchievements:a}=qe(),r=Ia(),[i,o]=I.useState([]),[s,c]=I.useState([]),[l,u]=I.useState([]),[h,f]=I.useState(0),[y,w]=I.useState(0),[v,b]=I.useState(null),[S,_]=I.useState(!0);I.useEffect(()=>{if(t!=null&&t.id){P(),e(),a();const F=kt.channel("profile-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},()=>{e(),P()}).subscribe();return()=>{kt.removeChannel(F)}}},[t==null?void 0:t.id,e,a]);const P=async()=>{if(t!=null&&t.id)try{_(!0);const[F,G,$,H,X]=await Promise.all([Ast(t.id),Sst(t.id),_st(t.id),Pst(t.id),kst(t.id)]);o(F),c(G),u($),f(H),w(X);const Q=E(H,X);b(Q)}catch(F){console.error("Error loading dashboard data:",F)}finally{_(!1)}},E=(F,G)=>F>0?{type:"review",title:`Review ${F} cards`,subtitle:"Keep your knowledge fresh",path:"/review",priority:1,badge:`${F} due`}:G>0?{type:"learn",title:"Continue Learning",subtitle:"You have active learning paths",path:"/learn",priority:2,badge:`${G} active`}:{type:"explore",title:"Explore New Topics",subtitle:"Discover something new to learn",path:"/library",priority:3},C=(n==null?void 0:n.total_xp)||0,T=((n==null?void 0:n.level)||1)*100,B=C%T/T*100,L=[{icon:DB,label:"Streak",value:(n==null?void 0:n.streak_count)||0,unit:"days",color:"#f97316",progress:Math.min(((n==null?void 0:n.streak_count)||0)/30*100,100)},{icon:NB,label:"XP",value:(n==null?void 0:n.total_xp)||0,unit:"",color:"#3b82f6",progress:B},{icon:jm,label:"Level",value:(n==null?void 0:n.level)||1,unit:"",color:"#10b981",progress:B}],M=[{icon:Ac,title:"Library",subtitle:"Your books & projects",path:"/library"},{icon:Un,title:"Learning",subtitle:"Continue your paths",path:"/learn"},{icon:Vw,title:"Focus Mode",subtitle:"Deep work session",path:"/focus"}];return x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/Home.tsx:200:4","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"200","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card border-b border-border px-4 sm:px-6 pt-8 sm:pt-12 pb-6 sm:pb-8 rounded-b-3xl shadow-lg",children:x.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6","data-matrix-id":"src/pages/Home.tsx:207:8","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"207","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%20sm%3Amb-6%22%7D",children:x.jsxs("div",{className:"flex items-center gap-3 sm:gap-4","data-matrix-id":"src/pages/Home.tsx:208:10","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"208","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20sm%3Agap-4%22%7D",children:[x.jsx(st.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/profile"),className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-secondary flex items-center justify-center overflow-hidden cursor-pointer",children:n!=null&&n.avatar_url?x.jsx("img",{src:n.avatar_url,alt:"Avatar",className:"w-full h-full object-cover","data-matrix-id":"src/pages/Home.tsx:216:16","data-matrix-name":"img","data-component-path":"src/pages/Home.tsx","data-component-line":"216","data-component-file":"Home.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22Avatar%22%2C%22className%22%3A%22w-full%20h-full%20object-cover%22%7D"}):x.jsx("div",{className:"text-primary text-lg sm:text-2xl font-bold","data-matrix-id":"src/pages/Home.tsx:218:16","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"218","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-primary%20text-lg%20sm%3Atext-2xl%20font-bold%22%7D",children:((U=n==null?void 0:n.full_name)==null?void 0:U.charAt(0))||"U"})}),x.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/Home.tsx:223:12","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"223","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[x.jsxs(st.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl sm:text-2xl font-bold text-foreground",children:["Welcome back, ",(n==null?void 0:n.full_name)||"Learner","!"]}),x.jsxs(st.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base text-muted-foreground",children:["Level ",(n==null?void 0:n.level)||1,"  ",(n==null?void 0:n.total_xp)||0," XP"]})]})]})})}),v&&x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"px-4 sm:px-6 -mt-3 mb-6",children:x.jsxs("div",{className:"bg-primary rounded-2xl p-4 sm:p-6 text-primary-foreground shadow-lg","data-matrix-id":"src/pages/Home.tsx:253:10","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"253","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-primary%20rounded-2xl%20p-4%20sm%3Ap-6%20text-primary-foreground%20shadow-lg%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3","data-matrix-id":"src/pages/Home.tsx:254:12","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"254","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-3%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/Home.tsx:255:14","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"255","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[x.jsx(cx,{className:"w-5 h-5","data-matrix-id":"src/pages/Home.tsx:256:16","data-matrix-name":"Zap","data-component-path":"src/pages/Home.tsx","data-component-line":"256","data-component-file":"Home.tsx","data-component-name":"Zap","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),x.jsx("span",{className:"font-semibold","data-matrix-id":"src/pages/Home.tsx:257:16","data-matrix-name":"span","data-component-path":"src/pages/Home.tsx","data-component-line":"257","data-component-file":"Home.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:"Up Next"})]}),v.badge&&x.jsx("span",{className:"bg-secondary px-3 py-1 rounded-full text-sm font-medium","data-matrix-id":"src/pages/Home.tsx:260:16","data-matrix-name":"span","data-component-path":"src/pages/Home.tsx","data-component-line":"260","data-component-file":"Home.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22bg-secondary%20px-3%20py-1%20rounded-full%20text-sm%20font-medium%22%7D",children:v.badge})]}),x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2","data-matrix-id":"src/pages/Home.tsx:265:12","data-matrix-name":"h2","data-component-path":"src/pages/Home.tsx","data-component-line":"265","data-component-file":"Home.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20mb-2%22%7D",children:v.title}),x.jsx("p",{className:"text-primary-foreground/90 mb-4","data-matrix-id":"src/pages/Home.tsx:266:12","data-matrix-name":"p","data-component-path":"src/pages/Home.tsx","data-component-line":"266","data-component-file":"Home.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-primary-foreground%2F90%20mb-4%22%7D",children:v.subtitle}),x.jsxs("div",{className:"flex gap-3","data-matrix-id":"src/pages/Home.tsx:267:12","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"267","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-3%22%7D",children:[x.jsxs(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(v.path),className:"flex-1 bg-card text-primary font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2",children:[v.type==="review"&&x.jsx(sx,{className:"w-4 h-4","data-matrix-id":"src/pages/Home.tsx:274:51","data-matrix-name":"RotateCcw","data-component-path":"src/pages/Home.tsx","data-component-line":"274","data-component-file":"Home.tsx","data-component-name":"RotateCcw","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),v.type==="learn"&&x.jsx(Un,{className:"w-4 h-4","data-matrix-id":"src/pages/Home.tsx:275:50","data-matrix-name":"Brain","data-component-path":"src/pages/Home.tsx","data-component-line":"275","data-component-file":"Home.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),v.type==="explore"&&x.jsx(Ac,{className:"w-4 h-4","data-matrix-id":"src/pages/Home.tsx:276:52","data-matrix-name":"BookOpen","data-component-path":"src/pages/Home.tsx","data-component-line":"276","data-component-file":"Home.tsx","data-component-name":"BookOpen","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Start Now"]}),x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/focus"),className:"px-4 py-3 bg-secondary rounded-xl flex items-center justify-center",children:x.jsx(Vw,{className:"w-5 h-5","data-matrix-id":"src/pages/Home.tsx:285:16","data-matrix-name":"Timer","data-component-path":"src/pages/Home.tsx","data-component-line":"285","data-component-file":"Home.tsx","data-component-name":"Timer","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]})]})}),x.jsxs("div",{className:"px-4 sm:px-6 mb-6","data-matrix-id":"src/pages/Home.tsx:293:6","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"293","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20mb-6%22%7D",children:[x.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground mb-3 sm:mb-4","data-matrix-id":"src/pages/Home.tsx:294:8","data-matrix-name":"h2","data-component-path":"src/pages/Home.tsx","data-component-line":"294","data-component-file":"Home.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%20mb-3%20sm%3Amb-4%22%7D",children:"Quick Actions"}),x.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3","data-matrix-id":"src/pages/Home.tsx:295:8","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"295","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-2%20sm%3Agap-3%22%7D",children:M.map((F,G)=>{const $=F.icon;return x.jsxs(st.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3+G*.05},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(F.path),className:"bg-card rounded-2xl p-3 sm:p-4 shadow-lg text-left hover:shadow-xl transition-all relative overflow-hidden",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-primary flex items-center justify-center mb-2 sm:mb-3","data-matrix-id":"src/pages/Home.tsx:309:16","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"309","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20rounded-xl%20bg-primary%20flex%20items-center%20justify-center%20mb-2%20sm%3Amb-3%22%7D",children:x.jsx($,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground","data-matrix-id":"src/pages/Home.tsx:310:18","data-matrix-name":"Icon","data-component-path":"src/pages/Home.tsx","data-component-line":"310","data-component-file":"Home.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary-foreground%22%7D"})}),x.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm sm:text-base","data-matrix-id":"src/pages/Home.tsx:312:16","data-matrix-name":"h3","data-component-path":"src/pages/Home.tsx","data-component-line":"312","data-component-file":"Home.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20mb-1%20text-sm%20sm%3Atext-base%22%7D",children:F.title}),x.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/Home.tsx:313:16","data-matrix-name":"p","data-component-path":"src/pages/Home.tsx","data-component-line":"313","data-component-file":"Home.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:F.subtitle})]},F.title)})})]}),x.jsx("div",{className:"px-4 sm:px-6 mb-6","data-matrix-id":"src/pages/Home.tsx:321:6","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"321","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20mb-6%22%7D",children:x.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3","data-matrix-id":"src/pages/Home.tsx:322:8","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"322","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-2%20sm%3Agap-3%22%7D",children:L.map((F,G)=>{const $=F.icon;return x.jsxs(st.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+G*.1},whileHover:{scale:1.05},className:"bg-card rounded-2xl p-3 sm:p-4 shadow-lg",children:[x.jsx(Cst,{progress:F.progress,size:80,strokeWidth:5,color:F.color,"data-matrix-id":"src/pages/Home.tsx:334:16","data-matrix-name":"ProgressRing","data-component-path":"src/pages/Home.tsx","data-component-line":"334","data-component-file":"Home.tsx","data-component-name":"ProgressRing","data-component-content":"%7B%22progress%22%3A%22%5BMemberExpression%5D%22%2C%22size%22%3A80%2C%22strokeWidth%22%3A5%2C%22color%22%3A%22%5BMemberExpression%5D%22%7D",children:x.jsxs("div",{className:"flex flex-col items-center","data-matrix-id":"src/pages/Home.tsx:340:18","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"340","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%22%7D",children:[x.jsx($,{className:"w-4 h-4 sm:w-5 sm:h-5 mb-1",style:{color:F.color},"data-matrix-id":"src/pages/Home.tsx:341:20","data-matrix-name":"Icon","data-component-path":"src/pages/Home.tsx","data-component-line":"341","data-component-file":"Home.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20mb-1%22%2C%22style%22%3A%7B%22color%22%3A%22%5BMemberExpression%5D%22%7D%7D"}),x.jsx("div",{className:"text-base sm:text-lg font-bold text-foreground","data-matrix-id":"src/pages/Home.tsx:342:20","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"342","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20font-bold%20text-foreground%22%7D",children:F.value}),F.unit&&x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/Home.tsx:346:22","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"346","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:F.unit})]})}),x.jsx("div",{className:"text-xs text-muted-foreground text-center mt-1 sm:mt-2","data-matrix-id":"src/pages/Home.tsx:350:16","data-matrix-name":"div","data-component-path":"src/pages/Home.tsx","data-component-line":"350","data-component-file":"Home.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20text-center%20mt-1%20sm%3Amt-2%22%7D",children:F.label})]},F.label)})})}),x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"px-4 sm:px-6 mb-4 sm:mb-6",children:x.jsx(Est,{streakCount:(n==null?void 0:n.streak_count)||0,recentActivity:s,"data-matrix-id":"src/pages/Home.tsx:366:8","data-matrix-name":"StreakCalendar","data-component-path":"src/pages/Home.tsx","data-component-line":"366","data-component-file":"Home.tsx","data-component-name":"StreakCalendar","data-component-content":"%7B%22streakCount%22%3A%22%5BLogicalExpression%5D%22%2C%22recentActivity%22%3A%22%5BIdentifier%5D%22%7D"})}),x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"px-4 sm:px-6 mb-4 sm:mb-6",children:x.jsx(EAt,{data:i,title:"This Week's Learning","data-matrix-id":"src/pages/Home.tsx:379:8","data-matrix-name":"LearningChart","data-component-path":"src/pages/Home.tsx","data-component-line":"379","data-component-file":"Home.tsx","data-component-name":"LearningChart","data-component-content":"%7B%22data%22%3A%22%5BIdentifier%5D%22%2C%22title%22%3A%22This%20Week's%20Learning%22%7D"})}),x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"px-4 sm:px-6 mb-4 sm:mb-6",children:x.jsx(TAt,{achievements:l,"data-matrix-id":"src/pages/Home.tsx:392:8","data-matrix-name":"AchievementGallery","data-component-path":"src/pages/Home.tsx","data-component-line":"392","data-component-file":"Home.tsx","data-component-name":"AchievementGallery","data-component-content":"%7B%22achievements%22%3A%22%5BIdentifier%5D%22%7D"})})]})}const NAt=()=>{const[n,t]=I.useState(!1);I.useEffect(()=>{const a=localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches;t(a),document.documentElement.classList.toggle("dark",a)},[]);const e=()=>{const a=!n;t(a),localStorage.setItem("theme",a?"dark":"light"),document.documentElement.classList.toggle("dark",a)};return x.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg","data-matrix-id":"src/components/DarkModeToggle.tsx:22:4","data-matrix-name":"div","data-component-path":"src/components/DarkModeToggle.tsx","data-component-line":"22","data-component-file":"DarkModeToggle.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20rounded-lg%22%7D",children:[x.jsx("span",{className:"font-medium text-foreground","data-matrix-id":"src/components/DarkModeToggle.tsx:23:6","data-matrix-name":"span","data-component-path":"src/components/DarkModeToggle.tsx","data-component-line":"23","data-component-file":"DarkModeToggle.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:"Dark Mode"}),x.jsx("button",{onClick:e,className:"p-2 rounded-full bg-secondary","data-matrix-id":"src/components/DarkModeToggle.tsx:24:6","data-matrix-name":"button","data-component-path":"src/components/DarkModeToggle.tsx","data-component-line":"24","data-component-file":"DarkModeToggle.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-2%20rounded-full%20bg-secondary%22%7D",children:n?x.jsx(xJ,{className:"w-5 h-5 text-foreground","data-matrix-id":"src/components/DarkModeToggle.tsx:28:22","data-matrix-name":"Sun","data-component-path":"src/components/DarkModeToggle.tsx","data-component-line":"28","data-component-file":"DarkModeToggle.tsx","data-component-name":"Sun","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-foreground%22%7D"}):x.jsx(hJ,{className:"w-5 h-5 text-foreground","data-matrix-id":"src/components/DarkModeToggle.tsx:28:68","data-matrix-name":"Moon","data-component-path":"src/components/DarkModeToggle.tsx","data-component-line":"28","data-component-file":"DarkModeToggle.tsx","data-component-name":"Moon","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-foreground%22%7D"})})]})};function BAt(){var _;const{user:n,profile:t,signOut:e,uploadAvatar:a,updateProfile:r}=qe(),i=Ia(),[o,s]=I.useState(!1),[c,l]=I.useState((t==null?void 0:t.full_name)||""),[u,h]=I.useState(!1),[f,y]=I.useState(!1),w=I.useRef(null),v=async()=>{await e(),i("/auth")},b=async P=>{var C;const E=(C=P.target.files)==null?void 0:C[0];if(E){if(E.size>5*1024*1024){Nt.error("Image must be less than 5MB");return}h(!0);try{await a(E),Nt.success("Profile picture updated!")}catch(T){Nt.error(T.message||"Failed to upload image")}finally{h(!1)}}},S=async()=>{if(!c.trim()){Nt.error("Name cannot be empty");return}y(!0);try{await r({full_name:c.trim()}),Nt.success("Profile updated!"),s(!1)}catch(P){Nt.error(P.message||"Failed to update profile")}finally{y(!1)}};return x.jsxs("div",{className:"min-h-screen","data-matrix-id":"src/pages/Profile.tsx:63:4","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"63","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%22%7D",children:[x.jsx("div",{className:"bg-card border-b border-border px-6 pt-12 pb-32 rounded-b-3xl shadow-lg","data-matrix-id":"src/pages/Profile.tsx:65:6","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"65","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border-b%20border-border%20px-6%20pt-12%20pb-32%20rounded-b-3xl%20shadow-lg%22%7D",children:x.jsxs("div",{className:"flex justify-between items-center mb-8","data-matrix-id":"src/pages/Profile.tsx:66:8","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"66","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20mb-8%22%7D",children:[x.jsx("h1",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Profile.tsx:67:10","data-matrix-name":"h1","data-component-path":"src/pages/Profile.tsx","data-component-line":"67","data-component-file":"Profile.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:"Profile"}),!o&&x.jsx("button",{onClick:()=>s(!0),className:"p-2 bg-secondary rounded-lg text-primary hover:bg-secondary/80 transition-colors","data-matrix-id":"src/pages/Profile.tsx:69:12","data-matrix-name":"button","data-component-path":"src/pages/Profile.tsx","data-component-line":"69","data-component-file":"Profile.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20bg-secondary%20rounded-lg%20text-primary%20hover%3Abg-secondary%2F80%20transition-colors%22%7D",children:x.jsx(fJ,{className:"w-5 h-5","data-matrix-id":"src/pages/Profile.tsx:73:14","data-matrix-name":"Edit2","data-component-path":"src/pages/Profile.tsx","data-component-line":"73","data-component-file":"Profile.tsx","data-component-name":"Edit2","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]})}),x.jsx("div",{className:"px-6 -mt-24 mb-6","data-matrix-id":"src/pages/Profile.tsx:80:6","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"80","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20-mt-24%20mb-6%22%7D",children:x.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-lg","data-matrix-id":"src/pages/Profile.tsx:81:8","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"81","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-6%20shadow-lg%22%7D",children:x.jsxs("div",{className:"flex flex-col items-center mb-6","data-matrix-id":"src/pages/Profile.tsx:82:10","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"82","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20mb-6%22%7D",children:[x.jsxs("div",{className:"relative mb-4","data-matrix-id":"src/pages/Profile.tsx:83:12","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"83","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20mb-4%22%7D",children:[x.jsx("div",{className:"w-32 h-32 rounded-full bg-primary flex items-center justify-center overflow-hidden","data-matrix-id":"src/pages/Profile.tsx:84:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"84","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-32%20h-32%20rounded-full%20bg-primary%20flex%20items-center%20justify-center%20overflow-hidden%22%7D",children:u?x.jsx(gr,{className:"w-12 h-12 text-primary-foreground animate-spin","data-matrix-id":"src/pages/Profile.tsx:86:18","data-matrix-name":"Loader2","data-component-path":"src/pages/Profile.tsx","data-component-line":"86","data-component-file":"Profile.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-primary-foreground%20animate-spin%22%7D"}):t!=null&&t.avatar_url?x.jsx("img",{src:t.avatar_url,alt:"Avatar",className:"w-full h-full object-cover","data-matrix-id":"src/pages/Profile.tsx:88:18","data-matrix-name":"img","data-component-path":"src/pages/Profile.tsx","data-component-line":"88","data-component-file":"Profile.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22Avatar%22%2C%22className%22%3A%22w-full%20h-full%20object-cover%22%7D"}):x.jsx("div",{className:"text-primary-foreground text-4xl font-bold","data-matrix-id":"src/pages/Profile.tsx:90:18","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"90","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-primary-foreground%20text-4xl%20font-bold%22%7D",children:((_=t==null?void 0:t.full_name)==null?void 0:_.charAt(0))||"U"})}),x.jsx("button",{onClick:()=>{var P;return(P=w.current)==null?void 0:P.click()},className:"absolute bottom-0 right-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors","data-matrix-id":"src/pages/Profile.tsx:95:14","data-matrix-name":"button","data-component-path":"src/pages/Profile.tsx","data-component-line":"95","data-component-file":"Profile.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22absolute%20bottom-0%20right-0%20w-10%20h-10%20bg-blue-600%20rounded-full%20flex%20items-center%20justify-center%20shadow-lg%20hover%3Abg-blue-700%20transition-colors%22%7D",children:x.jsx(JQ,{className:"w-5 h-5 text-white","data-matrix-id":"src/pages/Profile.tsx:99:16","data-matrix-name":"Camera","data-component-path":"src/pages/Profile.tsx","data-component-line":"99","data-component-file":"Profile.tsx","data-component-name":"Camera","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-white%22%7D"})}),x.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:b,className:"hidden","data-matrix-id":"src/pages/Profile.tsx:101:14","data-matrix-name":"input","data-component-path":"src/pages/Profile.tsx","data-component-line":"101","data-component-file":"Profile.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22file%22%2C%22accept%22%3A%22image%2F*%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22hidden%22%7D"})]}),o?x.jsxs("div",{className:"w-full space-y-3","data-matrix-id":"src/pages/Profile.tsx:111:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"111","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20space-y-3%22%7D",children:[x.jsx("input",{type:"text",value:c,onChange:P=>l(P.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Full Name","data-matrix-id":"src/pages/Profile.tsx:112:16","data-matrix-name":"input","data-component-path":"src/pages/Profile.tsx","data-component-line":"112","data-component-file":"Profile.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-4%20py-3%20bg-gray-50%20border%20border-gray-300%20rounded-xl%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%20outline-none%22%2C%22placeholder%22%3A%22Full%20Name%22%7D"}),x.jsxs("div",{className:"flex gap-2","data-matrix-id":"src/pages/Profile.tsx:119:16","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"119","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",children:[x.jsx("button",{onClick:()=>{s(!1),l((t==null?void 0:t.full_name)||"")},className:"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-300 transition-colors","data-matrix-id":"src/pages/Profile.tsx:120:18","data-matrix-name":"button","data-component-path":"src/pages/Profile.tsx","data-component-line":"120","data-component-file":"Profile.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-3%20bg-gray-200%20text-gray-700%20rounded-xl%20font-medium%20hover%3Abg-gray-300%20transition-colors%22%7D",children:"Cancel"}),x.jsx("button",{onClick:S,disabled:f,className:"flex-1 px-4 py-3 bg-primary text-primary-foreground rounded-xl font-medium shadow-lg hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2","data-matrix-id":"src/pages/Profile.tsx:129:18","data-matrix-name":"button","data-component-path":"src/pages/Profile.tsx","data-component-line":"129","data-component-file":"Profile.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-3%20bg-primary%20text-primary-foreground%20rounded-xl%20font-medium%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20disabled%3Aopacity-50%20flex%20items-center%20justify-center%20gap-2%22%7D",children:f?x.jsxs(x.Fragment,{children:[x.jsx(gr,{className:"w-4 h-4 animate-spin","data-matrix-id":"src/pages/Profile.tsx:136:24","data-matrix-name":"Loader2","data-component-path":"src/pages/Profile.tsx","data-component-line":"136","data-component-file":"Profile.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20animate-spin%22%7D"}),"Saving..."]}):"Save"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-1","data-matrix-id":"src/pages/Profile.tsx:147:16","data-matrix-name":"h2","data-component-path":"src/pages/Profile.tsx","data-component-line":"147","data-component-file":"Profile.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-1%22%7D",children:(t==null?void 0:t.full_name)||"User"}),x.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-matrix-id":"src/pages/Profile.tsx:150:16","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"150","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-muted-foreground%22%7D",children:[x.jsx(vU,{className:"w-4 h-4","data-matrix-id":"src/pages/Profile.tsx:151:18","data-matrix-name":"Mail","data-component-path":"src/pages/Profile.tsx","data-component-line":"151","data-component-file":"Profile.tsx","data-component-name":"Mail","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),x.jsx("span",{className:"text-sm","data-matrix-id":"src/pages/Profile.tsx:152:18","data-matrix-name":"span","data-component-path":"src/pages/Profile.tsx","data-component-line":"152","data-component-file":"Profile.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:n==null?void 0:n.email})]})]})]})})}),x.jsx("div",{className:"px-6 mb-6","data-matrix-id":"src/pages/Profile.tsx:163:6","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"163","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20mb-6%22%7D",children:x.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg","data-matrix-id":"src/pages/Profile.tsx:164:8","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"164","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-6%20shadow-lg%22%7D",children:[x.jsx("h2",{className:"text-xl font-bold text-foreground mb-4","data-matrix-id":"src/pages/Profile.tsx:165:10","data-matrix-name":"h2","data-component-path":"src/pages/Profile.tsx","data-component-line":"165","data-component-file":"Profile.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Your Stats"}),x.jsxs("div",{className:"grid grid-cols-3 gap-4","data-matrix-id":"src/pages/Profile.tsx:166:10","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"166","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-4%22%7D",children:[x.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/Profile.tsx:167:12","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"167","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[x.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-orange-500/10 rounded-full mx-auto mb-2","data-matrix-id":"src/pages/Profile.tsx:168:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"168","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20w-12%20h-12%20bg-orange-500%2F10%20rounded-full%20mx-auto%20mb-2%22%7D",children:x.jsx(DB,{className:"w-6 h-6 text-orange-500","data-matrix-id":"src/pages/Profile.tsx:169:16","data-matrix-name":"Flame","data-component-path":"src/pages/Profile.tsx","data-component-line":"169","data-component-file":"Profile.tsx","data-component-name":"Flame","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-orange-500%22%7D"})}),x.jsx("div",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Profile.tsx:171:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"171","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:(t==null?void 0:t.streak_count)||0}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Profile.tsx:172:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"172","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Day Streak"})]}),x.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/Profile.tsx:174:12","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"174","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[x.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-500/10 rounded-full mx-auto mb-2","data-matrix-id":"src/pages/Profile.tsx:175:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"175","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20w-12%20h-12%20bg-blue-500%2F10%20rounded-full%20mx-auto%20mb-2%22%7D",children:x.jsx(NB,{className:"w-6 h-6 text-blue-500","data-matrix-id":"src/pages/Profile.tsx:176:16","data-matrix-name":"Star","data-component-path":"src/pages/Profile.tsx","data-component-line":"176","data-component-file":"Profile.tsx","data-component-name":"Star","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-blue-500%22%7D"})}),x.jsx("div",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Profile.tsx:178:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"178","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:(t==null?void 0:t.total_xp)||0}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Profile.tsx:179:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"179","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Total XP"})]}),x.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/Profile.tsx:181:12","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"181","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[x.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-500/10 rounded-full mx-auto mb-2","data-matrix-id":"src/pages/Profile.tsx:182:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"182","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20w-12%20h-12%20bg-green-500%2F10%20rounded-full%20mx-auto%20mb-2%22%7D",children:x.jsx(jm,{className:"w-6 h-6 text-green-500","data-matrix-id":"src/pages/Profile.tsx:183:16","data-matrix-name":"TrendingUp","data-component-path":"src/pages/Profile.tsx","data-component-line":"183","data-component-file":"Profile.tsx","data-component-name":"TrendingUp","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-green-500%22%7D"})}),x.jsx("div",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Profile.tsx:185:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"185","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:(t==null?void 0:t.level)||1}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Profile.tsx:186:14","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"186","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Level"})]})]})]})}),x.jsx("div",{className:"px-6 mb-6","data-matrix-id":"src/pages/Profile.tsx:193:6","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"193","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20mb-6%22%7D",children:x.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg space-y-4","data-matrix-id":"src/pages/Profile.tsx:194:8","data-matrix-name":"div","data-component-path":"src/pages/Profile.tsx","data-component-line":"194","data-component-file":"Profile.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20p-6%20shadow-lg%20space-y-4%22%7D",children:[x.jsx("h2",{className:"text-xl font-bold text-foreground","data-matrix-id":"src/pages/Profile.tsx:195:10","data-matrix-name":"h2","data-component-path":"src/pages/Profile.tsx","data-component-line":"195","data-component-file":"Profile.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%22%7D",children:"Settings"}),x.jsx(NAt,{"data-matrix-id":"src/pages/Profile.tsx:196:10","data-matrix-name":"DarkModeToggle","data-component-path":"src/pages/Profile.tsx","data-component-line":"196","data-component-file":"Profile.tsx","data-component-name":"DarkModeToggle"}),x.jsxs("button",{onClick:v,className:"w-full text-left p-3 rounded-lg text-red-500 hover:bg-red-500/10 flex items-center gap-2","data-matrix-id":"src/pages/Profile.tsx:197:10","data-matrix-name":"button","data-component-path":"src/pages/Profile.tsx","data-component-line":"197","data-component-file":"Profile.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20text-left%20p-3%20rounded-lg%20text-red-500%20hover%3Abg-red-500%2F10%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(lJ,{className:"w-5 h-5","data-matrix-id":"src/pages/Profile.tsx:201:12","data-matrix-name":"LogOut","data-component-path":"src/pages/Profile.tsx","data-component-line":"201","data-component-file":"Profile.tsx","data-component-name":"LogOut","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Sign Out"]})]})})]})}function kW({fullscreen:n=!1}){const[t,e]=I.useState(""),[a,r]=I.useState(!0),i="Learnty";I.useEffect(()=>{let s=0,c;return(()=>{c=setInterval(()=>{a?s<=i.length?(e(i.slice(0,s)),s++):(setTimeout(()=>r(!1),1e3),clearInterval(c)):s>0?(s--,e(i.slice(0,s))):(setTimeout(()=>r(!0),500),clearInterval(c))},a?150:100)})(),()=>clearInterval(c)},[a]);const o=x.jsxs("div",{className:"flex flex-col items-center justify-center","data-matrix-id":"src/components/BookLoader.tsx:49:4","data-matrix-name":"div","data-component-path":"src/components/BookLoader.tsx","data-component-line":"49","data-component-file":"BookLoader.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%22%7D",children:[x.jsxs("div",{className:"flex items-center","data-matrix-id":"src/components/BookLoader.tsx:51:6","data-matrix-name":"div","data-component-path":"src/components/BookLoader.tsx","data-component-line":"51","data-component-file":"BookLoader.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[x.jsx("span",{className:"font-bold text-primary text-xl sm:text-2xl md:text-3xl","data-matrix-id":"src/components/BookLoader.tsx:52:8","data-matrix-name":"span","data-component-path":"src/components/BookLoader.tsx","data-component-line":"52","data-component-file":"BookLoader.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-bold%20text-primary%20text-xl%20sm%3Atext-2xl%20md%3Atext-3xl%22%7D",children:t}),x.jsx(st.span,{className:"text-xl sm:text-2xl md:text-3xl text-primary ml-0.5 sm:ml-1",animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0,ease:"linear"},children:"|"})]}),x.jsx("div",{className:"flex gap-1 sm:gap-1.5 mt-2 sm:mt-3","data-matrix-id":"src/components/BookLoader.tsx:71:6","data-matrix-name":"div","data-component-path":"src/components/BookLoader.tsx","data-component-line":"71","data-component-file":"BookLoader.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-1%20sm%3Agap-1.5%20mt-2%20sm%3Amt-3%22%7D",children:[0,1,2].map(s=>x.jsx(st.div,{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-primary",animate:{scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:s*.2,ease:"easeInOut"}},s))})]});return n?x.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50","data-matrix-id":"src/components/BookLoader.tsx:94:6","data-matrix-name":"div","data-component-path":"src/components/BookLoader.tsx","data-component-line":"94","data-component-file":"BookLoader.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-background%20flex%20items-center%20justify-center%20z-50%22%7D",children:o}):o}if(typeof document<"u"){const n=document.createElement("style");n.textContent=`
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  `,document.head.appendChild(n)}const Ha=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),tN=[.001,0,0,.001,0,0],zE=1.35,Vr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ll={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e0="pdfjs_internal_editor_",Xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},jAt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ia={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},dw={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},An={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},kh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},vS={ERRORS:0,WARNINGS:1,INFOS:5},n0={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Kb={moveTo:0,lineTo:1,curveTo:2,closePath:3},OAt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let bS=vS.WARNINGS;function LAt(n){Number.isInteger(n)&&(bS=n)}function IAt(){return bS}function wS(n){bS>=vS.INFOS&&console.info(`Info: ${n}`)}function Wt(n){bS>=vS.WARNINGS&&console.warn(`Warning: ${n}`)}function je(n){throw new Error(n)}function se(n,t){n||je(t)}function RAt(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function CW(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=UAt(n)}catch{}}const a=t?URL.parse(n,t):URL.parse(n);return RAt(a)?a:null}function EW(n,t,e=!1){const a=URL.parse(n);return a?(a.hash=t,a.href):e&&CW(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ee(n,t,e,a=!1){return Object.defineProperty(n,t,{value:e,enumerable:!a,configurable:!0,writable:!1}),e}const $m=function(){function t(e,a){this.message=e,this.name=a}return t.prototype=new Error,t.constructor=t,t}();class OG extends $m{constructor(t,e){super(t,"PasswordException"),this.code=e}}class qE extends $m{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class eN extends $m{constructor(t){super(t,"InvalidPDFException")}}class n1 extends $m{constructor(t,e,a){super(t,"ResponseException"),this.status=e,this.missing=a}}class MAt extends $m{constructor(t){super(t,"FormatError")}}class ud extends $m{constructor(t){super(t,"AbortException")}}function TW(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&je("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const a=[];for(let r=0;r<t;r+=e){const i=Math.min(r+e,t),o=n.subarray(r,i);a.push(String.fromCharCode.apply(null,o))}return a.join("")}function av(n){typeof n!="string"&&je("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let a=0;a<t;++a)e[a]=n.charCodeAt(a)&255;return e}function FAt(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function $At(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function GAt(){try{return new Function(""),!0}catch{return!1}}class ya{static get isLittleEndian(){return ee(this,"isLittleEndian",$At())}static get isEvalSupported(){return ee(this,"isEvalSupported",GAt())}static get isOffscreenCanvasSupported(){return ee(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ee(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ee(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return ee(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const HE=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var bc,uw,nN;class Pt{static makeHexColor(t,e,a){return`#${HE[t]}${HE[e]}${HE[a]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let a;t[0]?(t[0]<0&&(a=e[0],e[0]=e[2],e[2]=a),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(a=e[1],e[1]=e[3],e[3]=a),e[1]*=t[3],e[3]*=t[3]):(a=e[0],e[0]=e[1],e[1]=a,a=e[2],e[2]=e[3],e[3]=a,t[1]<0&&(a=e[1],e[1]=e[3],e[3]=a),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(a=e[0],e[0]=e[2],e[2]=a),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,a=0){const r=t[a],i=t[a+1];t[a]=r*e[0]+i*e[2]+e[4],t[a+1]=r*e[1]+i*e[3]+e[5]}static applyTransformToBezier(t,e,a=0){const r=e[0],i=e[1],o=e[2],s=e[3],c=e[4],l=e[5];for(let u=0;u<6;u+=2){const h=t[a+u],f=t[a+u+1];t[a+u]=h*r+f*o+c,t[a+u+1]=h*i+f*s+l}}static applyInverseTransform(t,e){const a=t[0],r=t[1],i=e[0]*e[3]-e[1]*e[2];t[0]=(a*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/i,t[1]=(-a*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/i}static axialAlignedBoundingBox(t,e,a){const r=e[0],i=e[1],o=e[2],s=e[3],c=e[4],l=e[5],u=t[0],h=t[1],f=t[2],y=t[3];let w=r*u+c,v=w,b=r*f+c,S=b,_=s*h+l,P=_,E=s*y+l,C=E;if(i!==0||o!==0){const T=i*u,B=i*f,L=o*h,M=o*y;w+=L,S+=L,b+=M,v+=M,_+=T,C+=T,E+=B,P+=B}a[0]=Math.min(a[0],w,b,v,S),a[1]=Math.min(a[1],_,E,P,C),a[2]=Math.max(a[2],w,b,v,S),a[3]=Math.max(a[3],_,E,P,C)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const a=t[0],r=t[1],i=t[2],o=t[3],s=a**2+r**2,c=a*i+r*o,l=i**2+o**2,u=(s+l)/2,h=Math.sqrt(u**2-(s*l-c**2));e[0]=Math.sqrt(u+h||1),e[1]=Math.sqrt(u-h||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const a=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(a>r)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>o?null:[a,i,r,o]}static pointBoundingBox(t,e,a){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],e),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],e)}static rectBoundingBox(t,e,a,r,i){i[0]=Math.min(i[0],t,a),i[1]=Math.min(i[1],e,r),i[2]=Math.max(i[2],t,a),i[3]=Math.max(i[3],e,r)}static bezierBoundingBox(t,e,a,r,i,o,s,c,l){l[0]=Math.min(l[0],t,s),l[1]=Math.min(l[1],e,c),l[2]=Math.max(l[2],t,s),l[3]=Math.max(l[3],e,c),O(this,bc,nN).call(this,t,a,i,s,e,r,o,c,3*(-t+3*(a-i)+s),6*(t-2*a+i),3*(a-t),l),O(this,bc,nN).call(this,t,a,i,s,e,r,o,c,3*(-e+3*(r-o)+c),6*(e-2*r+o),3*(r-e),l)}}bc=new WeakSet,uw=function(t,e,a,r,i,o,s,c,l,u){if(l<=0||l>=1)return;const h=1-l,f=l*l,y=f*l,w=h*(h*(h*t+3*l*e)+3*f*a)+y*r,v=h*(h*(h*i+3*l*o)+3*f*s)+y*c;u[0]=Math.min(u[0],w),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],w),u[3]=Math.max(u[3],v)},nN=function(t,e,a,r,i,o,s,c,l,u,h,f){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&O(this,bc,uw).call(this,t,e,a,r,i,o,s,c,-h/u,f);return}const y=u**2-4*h*l;if(y<0)return;const w=Math.sqrt(y),v=2*l;O(this,bc,uw).call(this,t,e,a,r,i,o,s,c,(-u+w)/v,f),O(this,bc,uw).call(this,t,e,a,r,i,o,s,c,(-u-w)/v,f)},j(Pt,bc);function UAt(n){return decodeURIComponent(escape(n))}let VE=null,LG=null;function zAt(n){return VE||(VE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,LG=new Map([["","t"]])),n.replaceAll(VE,(t,e,a)=>e?e.normalize("NFKC"):LG.get(a))}function DW(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),TW(n)}const EO="pdfjs_internal_id_";function qAt(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[a,r,...i]=e;if(!n(a)&&!Number.isInteger(a)||!t(r))return!1;const o=i.length;let s=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;s=!1;break;default:return!1}for(const c of i)if(!(typeof c=="number"||s&&c===null))return!1;return!0}function Va(n,t,e){return Math.min(Math.max(n,t),e)}function NW(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(TW(n))}function HAt(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):av(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class a0{static textContent(t){const e=[],a={items:e,styles:Object.create(null)};function r(i){var c;if(!i)return;let o=null;const s=i.name;if(s==="#text")o=i.value;else if(a0.shouldBuildText(s))(c=i==null?void 0:i.attributes)!=null&&c.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&e.push({str:o}),!!i.children)for(const l of i.children)r(l)}return r(t),a}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class BW{static setupStorage(t,e,a,r,i){const o=r.getValue(e,{value:null});switch(a.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),i==="print")break;t.addEventListener("input",s=>{r.setValue(e,{value:s.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(o.value===a.attributes.xfaOn?t.setAttribute("checked",!0):o.value===a.attributes.xfaOff&&t.removeAttribute("checked"),i==="print")break;t.addEventListener("change",s=>{r.setValue(e,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),i==="print")break;t.addEventListener("input",s=>{r.setValue(e,{value:s.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const s of a.children)s.attributes.value===o.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}t.addEventListener("input",s=>{const c=s.target.options,l=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(e,{value:l})});break}}static setAttributes({html:t,element:e,storage:a=null,intent:r,linkService:i}){const{attributes:o}=e,s=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[c,l]of Object.entries(o))if(l!=null)switch(c){case"class":l.length&&t.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!s||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,l)}s&&i.addLinkAttributes(t,o.href,o.newWindow),a&&o.dataId&&this.setupStorage(t,o.dataId,e,a)}static render(t){var h,f;const e=t.annotationStorage,a=t.linkService,r=t.xfaHtml,i=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:a});const s=i!=="richText",c=t.div;if(c.append(o),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=y}s&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(r.children.length===0){if(r.value){const y=document.createTextNode(r.value);o.append(y),s&&a0.shouldBuildText(r.name)&&l.push(y)}return{textDivs:l}}const u=[[r,-1,o]];for(;u.length>0;){const[y,w,v]=u.at(-1);if(w+1===y.children.length){u.pop();continue}const b=y.children[++u.at(-1)[1]];if(b===null)continue;const{name:S}=b;if(S==="#text"){const P=document.createTextNode(b.value);l.push(P),v.append(P);continue}const _=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,S):document.createElement(S);if(v.append(_),b.attributes&&this.setAttributes({html:_,element:b,storage:e,intent:i,linkService:a}),((f=b.children)==null?void 0:f.length)>0)u.push([b,-1,_]);else if(b.value){const P=document.createTextNode(b.value);s&&a0.shouldBuildText(S)&&l.push(P),_.append(P)}}for(const y of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const _s="http://www.w3.org/2000/svg",Qd=class Qd{};ht(Qd,"CSS",96),ht(Qd,"PDF",72),ht(Qd,"PDF_TO_CSS_UNITS",Qd.CSS/Qd.PDF);let md=Qd;async function rv(n,t="text"){if(kg(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,a)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}a(new Error(r.statusText))}},r.send(null)})}class iv{constructor({viewBox:t,userUnit:e,scale:a,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=t,this.userUnit=e,this.scale=a,this.rotation=r,this.offsetX=i,this.offsetY=o,a*=e;const c=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let u,h,f,y;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,h=0,f=0,y=1;break;case 90:u=0,h=1,f=1,y=0;break;case 270:u=0,h=-1,f=-1,y=0;break;case 0:u=1,h=0,f=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(f=-f,y=-y);let w,v,b,S;u===0?(w=Math.abs(l-t[1])*a+i,v=Math.abs(c-t[0])*a+o,b=(t[3]-t[1])*a,S=(t[2]-t[0])*a):(w=Math.abs(c-t[0])*a+i,v=Math.abs(l-t[1])*a+o,b=(t[2]-t[0])*a,S=(t[3]-t[1])*a),this.transform=[u*a,h*a,f*a,y*a,w-u*a*c-f*a*l,v-h*a*c-y*a*l],this.width=b,this.height=S}get rawDims(){const t=this.viewBox;return ee(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:a=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new iv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:a,offsetY:r,dontFlip:i})}convertToViewportPoint(t,e){const a=[t,e];return Pt.applyTransform(a,this.transform),a}convertToViewportRectangle(t){const e=[t[0],t[1]];Pt.applyTransform(e,this.transform);const a=[t[2],t[3]];return Pt.applyTransform(a,this.transform),[e[0],e[1],a[0],a[1]]}convertToPdfPoint(t,e){const a=[t,e];return Pt.applyInverseTransform(a,this.transform),a}}class TO extends $m{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function AS(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function DO(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function VAt(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function WAt(n,t="document.pdf"){if(typeof n!="string")return t;if(AS(n))return Wt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const a=(s=>{try{return new URL(s)}catch{try{return new URL(decodeURIComponent(s))}catch{try{return new URL(s,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(s),"https://foo.bar")}catch{return null}}}}})(n);if(!a)return t;const r=s=>{try{let c=decodeURIComponent(s);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:s):c}catch{return s}},i=/\.pdf$/i,o=a.pathname.split("/").at(-1);if(i.test(o))return r(o);if(a.searchParams.size>0){const s=Array.from(a.searchParams.values()).reverse();for(const l of s)if(i.test(l))return r(l);const c=Array.from(a.searchParams.keys()).reverse();for(const l of c)if(i.test(l))return r(l)}if(a.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(a.hash);if(c)return r(c[0])}return t}class IG{constructor(){ht(this,"started",Object.create(null));ht(this,"times",[])}time(t){t in this.started&&Wt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Wt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:a}of this.times)e=Math.max(a.length,e);for(const{name:a,start:r,end:i}of this.times)t.push(`${a.padEnd(e)} ${i-r}ms
`);return t.join("")}}function kg(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Ni(n){n.preventDefault()}function pn(n){n.preventDefault(),n.stopPropagation()}function KAt(n){console.log("Deprecated API usage: "+n)}var o0;class a1{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;p(this,o0)||D(this,o0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=p(this,o0).exec(t);if(!e)return null;const a=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const l=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,l==="-"?(o+=u,s+=h):l==="+"&&(o-=u,s-=h),new Date(Date.UTC(a,r,i,o,s,c))}}o0=new WeakMap,j(a1,o0);function XAt(n,{scale:t=1,rotation:e=0}){const{width:a,height:r}=n.attributes.style,i=[0,0,parseInt(a),parseInt(r)];return new iv({viewBox:i,userUnit:1,scale:t,rotation:e})}function ov(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Wt(`Not a valid color format: "${n}"`),[0,0,0])}function YAt(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const a=window.getComputedStyle(t).color;n.set(e,ov(a))}t.remove()}function tn(n){const{a:t,b:e,c:a,d:r,e:i,f:o}=n.getTransform();return[t,e,a,r,i,o]}function _o(n){const{a:t,b:e,c:a,d:r,e:i,f:o}=n.getTransform().invertSelf();return[t,e,a,r,i,o]}function Dm(n,t,e=!1,a=!0){if(t instanceof iv){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:o}=n,s=ya.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,l=`var(--total-scale-factor) * ${i}px`,u=s?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=s?`round(down, ${l}, var(--scale-round-y))`:`calc(${l})`;!e||t.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}a&&n.setAttribute("data-main-rotation",t.rotation)}class us{constructor(){const{pixelRatio:t}=us;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,a,r,i=-1){let o=1/0,s=1/0,c=1/0;a=us.capPixels(a,i),a>0&&(o=Math.sqrt(a/(t*e))),r!==-1&&(s=r/t,c=r/e);const l=Math.min(o,s,c);return this.sx>l||this.sy>l?(this.sx=l,this.sy=l,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const a=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,a):a}return t}}const aN=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class QAt{static get isDarkMode(){var t;return ee(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class JAt{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:a}=window.getComputedStyle(t);return t.remove(),ee(this,"commentForegroundColor",ov(a))}}function ZAt(n,t,e,a){a=Math.min(Math.max(a??1,0),1);const r=255*(1-a);return n=Math.round(n*a+r),t=Math.round(t*a+r),e=Math.round(e*a+r),[n,t,e]}function RG(n,t){const e=n[0]/255,a=n[1]/255,r=n[2]/255,i=Math.max(e,a,r),o=Math.min(e,a,r),s=(i+o)/2;if(i===o)t[0]=t[1]=0;else{const c=i-o;switch(t[1]=s<.5?c/(i+o):c/(2-i-o),i){case e:t[0]=((a-r)/c+(a<r?6:0))*60;break;case a:t[0]=((r-e)/c+2)*60;break;case r:t[0]=((e-a)/c+4)*60;break}}t[2]=s}function rN(n,t){const e=n[0],a=n[1],r=n[2],i=(1-Math.abs(2*r-1))*a,o=i*(1-Math.abs(e/60%2-1)),s=r-i/2;switch(Math.floor(e/60)){case 0:t[0]=i+s,t[1]=o+s,t[2]=s;break;case 1:t[0]=o+s,t[1]=i+s,t[2]=s;break;case 2:t[0]=s,t[1]=i+s,t[2]=o+s;break;case 3:t[0]=s,t[1]=o+s,t[2]=i+s;break;case 4:t[0]=o+s,t[1]=s,t[2]=i+s;break;case 5:case 6:t[0]=i+s,t[1]=s,t[2]=o+s;break}}function MG(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function FG(n,t,e){rN(n,e),e.map(MG);const a=.2126*e[0]+.7152*e[1]+.0722*e[2];rN(t,e),e.map(MG);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return a>r?(a+.05)/(r+.05):(r+.05)/(a+.05)}const $G=new Map;function t1t(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let a=$G.get(e);if(a)return a;const r=new Float32Array(9),i=r.subarray(0,3),o=r.subarray(3,6);RG(n,o);const s=r.subarray(6,9);RG(t,s);const c=s[2]<.5,l=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),FG(o,s,i)<l){let u,h;c?(u=o[2],h=1):(u=0,h=o[2]);const f=.005;for(;h-u>f;){const y=o[2]=(u+h)/2;c===FG(o,s,i)<l?u=y:h=y}o[2]=c?h:u}return rN(o,i),a=Pt.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),$G.set(e,a),a}function jW({html:n,dir:t,className:e},a){const r=document.createDocumentFragment();if(typeof n=="string"){const i=document.createElement("p");i.dir=t||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let s=0,c=o.length;s<c;++s){const l=o[s];i.append(document.createTextNode(l)),s<c-1&&i.append(document.createElement("br"))}r.append(i)}else BW.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),a.append(r)}var dl,ul,mi,hi,s0,ml,ep,np,c0,f1,OW,ga,LW,IW,Ch,Cg;const Es=class Es{constructor(t){j(this,ga);j(this,dl,null);j(this,ul,null);j(this,mi);j(this,hi,null);j(this,s0,null);j(this,ml,null);j(this,ep,null);j(this,np,null);D(this,mi,t),p(Es,c0)||D(Es,c0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=D(this,dl,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=p(this,mi)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ni,{signal:e}),t.addEventListener("pointerdown",O(Es,f1,OW),{signal:e}));const a=D(this,hi,document.createElement("div"));a.className="buttons",t.append(a);const r=p(this,mi).toolbarPosition;if(r){const{style:i}=t,o=p(this,mi)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return p(this,dl)}hide(){var t;p(this,dl).classList.add("hidden"),(t=p(this,ul))==null||t.hideDropdown()}show(){var t,e;p(this,dl).classList.remove("hidden"),(t=p(this,s0))==null||t.shown(),(e=p(this,ml))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=p(this,mi),a=document.createElement("button");a.classList.add("basic","deleteButton"),a.tabIndex=0,a.setAttribute("data-l10n-id",p(Es,c0)[t]),O(this,ga,Ch).call(this,a)&&a.addEventListener("click",r=>{e.delete()},{signal:e._signal}),p(this,hi).append(a)}async addAltText(t){const e=await t.render();O(this,ga,Ch).call(this,e),p(this,hi).append(e,p(this,ga,Cg)),D(this,s0,t)}addComment(t,e=null){if(p(this,ml))return;const a=t.renderForToolbar();if(!a)return;O(this,ga,Ch).call(this,a);const r=D(this,ep,p(this,ga,Cg));e?(p(this,hi).insertBefore(a,e),p(this,hi).insertBefore(r,e)):p(this,hi).append(a,r),D(this,ml,t),t.toolbar=this}addColorPicker(t){if(p(this,ul))return;D(this,ul,t);const e=t.renderButton();O(this,ga,Ch).call(this,e),p(this,hi).append(e,p(this,ga,Cg))}async addEditSignatureButton(t){const e=D(this,np,await t.renderEditButton(p(this,mi)));O(this,ga,Ch).call(this,e),p(this,hi).append(e,p(this,ga,Cg))}removeButton(t){var e,a;switch(t){case"comment":(e=p(this,ml))==null||e.removeToolbarCommentButton(),D(this,ml,null),(a=p(this,ep))==null||a.remove(),D(this,ep,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,a){const r=p(this,hi).querySelector(a);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){p(this,np)&&(p(this,np).title=t)}remove(){var t;p(this,dl).remove(),(t=p(this,ul))==null||t.destroy(),D(this,ul,null)}};dl=new WeakMap,ul=new WeakMap,mi=new WeakMap,hi=new WeakMap,s0=new WeakMap,ml=new WeakMap,ep=new WeakMap,np=new WeakMap,c0=new WeakMap,f1=new WeakSet,OW=function(t){t.stopPropagation()},ga=new WeakSet,LW=function(t){p(this,mi)._focusEventsAllowed=!1,pn(t)},IW=function(t){p(this,mi)._focusEventsAllowed=!0,pn(t)},Ch=function(t){const e=p(this,mi)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",O(this,ga,LW).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",O(this,ga,IW).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ni,{signal:e}),!0)},Cg=function(){const t=document.createElement("div");return t.className="divider",t},j(Es,f1),j(Es,c0,null);let iN=Es;var l0,cu,Ds,Dc,RW,MW,oN;class e1t{constructor(t){j(this,Dc);j(this,l0,null);j(this,cu,null);j(this,Ds);D(this,Ds,t)}show(t,e,a){const[r,i]=O(this,Dc,MW).call(this,e,a),{style:o}=p(this,cu)||D(this,cu,O(this,Dc,RW).call(this));t.append(p(this,cu)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,cu).remove()}}l0=new WeakMap,cu=new WeakMap,Ds=new WeakMap,Dc=new WeakSet,RW=function(){const t=D(this,cu,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=p(this,Ds)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ni,{signal:e});const a=D(this,l0,document.createElement("div"));return a.className="buttons",t.append(a),p(this,Ds).hasCommentManager()&&O(this,Dc,oN).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{p(this,Ds).commentSelection("floating_button")}),O(this,Dc,oN).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{p(this,Ds).highlightSelection("floating_button")}),t},MW=function(t,e){let a=0,r=0;for(const i of t){const o=i.y+i.height;if(o<a)continue;const s=i.x+(e?i.width:0);if(o>a){r=s,a=o;continue}e?s>r&&(r=s):s<r&&(r=s)}return[e?1-r:r,a]},oN=function(t,e,a,r){const i=document.createElement("button");i.classList.add("basic",t),i.tabIndex=0,i.setAttribute("data-l10n-id",e);const o=document.createElement("span");i.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",a);const s=p(this,Ds)._signal;s instanceof AbortSignal&&!s.aborted&&(i.addEventListener("contextmenu",Ni,{signal:s}),i.addEventListener("click",r,{signal:s})),p(this,l0).append(i)};function FW(n,t,e){for(const a of e)t.addEventListener(a,n[a].bind(n))}var g1;class n1t{constructor(){j(this,g1,0)}get id(){return`${e0}${Bn(this,g1)._++}`}}g1=new WeakMap;var ap,d0,ka,rp,mw;const $O=class $O{constructor(){j(this,rp);j(this,ap,DW());j(this,d0,0);j(this,ka,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const i=r.decode().then(()=>(a.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return ee(this,"_isSVGFittingCanvas",i)}async getFromFile(t){const{lastModified:e,name:a,size:r,type:i}=t;return O(this,rp,mw).call(this,`${e}_${a}_${r}_${i}`,t)}async getFromUrl(t){return O(this,rp,mw).call(this,t,t)}async getFromBlob(t,e){const a=await e;return O(this,rp,mw).call(this,t,a)}async getFromId(t){p(this,ka)||D(this,ka,new Map);const e=p(this,ka).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:a}=e;return delete e.blobPromise,this.getFromBlob(e.id,a)}return this.getFromUrl(e.url)}getFromCanvas(t,e){p(this,ka)||D(this,ka,new Map);let a=p(this,ka).get(t);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),a={bitmap:r.transferToImageBitmap(),id:`image_${p(this,ap)}_${Bn(this,d0)._++}`,refCounter:1,isSvg:!1},p(this,ka).set(t,a),p(this,ka).set(a.id,a),a}getSvgUrl(t){const e=p(this,ka).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;p(this,ka)||D(this,ka,new Map);const e=p(this,ka).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:a}=e;if(!e.url&&!e.file){const i=new OffscreenCanvas(a.width,a.height);i.getContext("bitmaprenderer").transferFromImageBitmap(a),e.blobPromise=i.convertToBlob()}(r=a.close)==null||r.call(a),e.bitmap=null}isValidId(t){return t.startsWith(`image_${p(this,ap)}_`)}};ap=new WeakMap,d0=new WeakMap,ka=new WeakMap,rp=new WeakSet,mw=async function(t,e){p(this,ka)||D(this,ka,new Map);let a=p(this,ka).get(t);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${p(this,ap)}_${Bn(this,d0)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(a.url=e,r=await rv(e,"blob")):e instanceof File?r=a.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const i=$O._isSVGFittingCanvas,o=new FileReader,s=new Image,c=new Promise((l,u)=>{s.onload=()=>{a.bitmap=s,a.isSvg=!0,l()},o.onload=async()=>{const h=a.svgUrl=o.result;s.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},s.onerror=o.onerror=u});o.readAsDataURL(r),await c}else a.bitmap=await createImageBitmap(r);a.refCounter=1}catch(r){Wt(r),a=null}return p(this,ka).set(t,a),a&&p(this,ka).set(a.id,a),a};let sN=$O;var xn,hl,u0,Ze;class a1t{constructor(t=128){j(this,xn,[]);j(this,hl,!1);j(this,u0);j(this,Ze,-1);D(this,u0,t)}add({cmd:t,undo:e,post:a,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:s=!1}){if(r&&t(),p(this,hl))return;const c={cmd:t,undo:e,post:a,type:i};if(p(this,Ze)===-1){p(this,xn).length>0&&(p(this,xn).length=0),D(this,Ze,0),p(this,xn).push(c);return}if(o&&p(this,xn)[p(this,Ze)].type===i){s&&(c.undo=p(this,xn)[p(this,Ze)].undo),p(this,xn)[p(this,Ze)]=c;return}const l=p(this,Ze)+1;l===p(this,u0)?p(this,xn).splice(0,1):(D(this,Ze,l),l<p(this,xn).length&&p(this,xn).splice(l)),p(this,xn).push(c)}undo(){if(p(this,Ze)===-1)return;D(this,hl,!0);const{undo:t,post:e}=p(this,xn)[p(this,Ze)];t(),e==null||e(),D(this,hl,!1),D(this,Ze,p(this,Ze)-1)}redo(){if(p(this,Ze)<p(this,xn).length-1){D(this,Ze,p(this,Ze)+1),D(this,hl,!0);const{cmd:t,post:e}=p(this,xn)[p(this,Ze)];t(),e==null||e(),D(this,hl,!1)}}hasSomethingToUndo(){return p(this,Ze)!==-1}hasSomethingToRedo(){return p(this,Ze)<p(this,xn).length-1}cleanType(t){if(p(this,Ze)!==-1){for(let e=p(this,Ze);e>=0;e--)if(p(this,xn)[e].type!==t){p(this,xn).splice(e+1,p(this,Ze)-e),D(this,Ze,e);return}p(this,xn).length=0,D(this,Ze,-1)}}destroy(){D(this,xn,null)}}xn=new WeakMap,hl=new WeakMap,u0=new WeakMap,Ze=new WeakMap;var x1,$W;class sv{constructor(t){j(this,x1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=ya.platform;for(const[a,r,i={}]of t)for(const o of a){const s=o.startsWith("mac+");e&&s?(this.callbacks.set(o.slice(4),{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1))):!e&&!s&&(this.callbacks.set(o,{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const a=this.callbacks.get(O(this,x1,$W).call(this,e));if(!a)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:s=null}}=a;s&&!s(t,e)||(r.bind(t,...o,e)(),i||pn(e))}}x1=new WeakSet,$W=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const y1=class y1{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return YAt(t),ee(this,"_colors",t)}convert(t){const e=ov(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[a,r]of this._colors)if(r.every((i,o)=>i===e[o]))return y1._colorsMapping.get(a);return e}getHexCode(t){const e=this._colors.get(t);return e?Pt.makeHexColor(...e):t}};ht(y1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let cN=y1;var ip,Tr,op,cn,Rn,sp,pi,cp,fi,Ca,pl,fl,lp,gl,To,gi,lu,m0,h0,dp,p0,Do,xl,up,yl,No,v1,vl,mp,f0,bl,du,hp,wl,g0,Sn,be,Ns,Al,Sl,x0,pp,y0,_l,Bo,Bs,v0,b0,xi,vt,hw,lN,GW,UW,Eg,zW,qW,HW,dN,VW,uN,mN,WW,$a,Ps,KW,XW,hN,YW,Tg,pN;const qh=class qh{constructor(t,e,a,r,i,o,s,c,l,u,h,f,y,w,v,b){j(this,vt);j(this,ip,new AbortController);j(this,Tr,null);j(this,op,null);j(this,cn,new Map);j(this,Rn,new Map);j(this,sp,null);j(this,pi,null);j(this,cp,null);j(this,fi,new a1t);j(this,Ca,null);j(this,pl,null);j(this,fl,null);j(this,lp,0);j(this,gl,new Set);j(this,To,null);j(this,gi,null);j(this,lu,new Set);ht(this,"_editorUndoBar",null);j(this,m0,!1);j(this,h0,!1);j(this,dp,!1);j(this,p0,null);j(this,Do,null);j(this,xl,null);j(this,up,null);j(this,yl,!1);j(this,No,null);j(this,v1,new n1t);j(this,vl,!1);j(this,mp,!1);j(this,f0,!1);j(this,bl,null);j(this,du,null);j(this,hp,null);j(this,wl,null);j(this,g0,null);j(this,Sn,Xt.NONE);j(this,be,new Set);j(this,Ns,null);j(this,Al,null);j(this,Sl,null);j(this,x0,null);j(this,pp,null);j(this,y0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,_l,[0,0]);j(this,Bo,null);j(this,Bs,null);j(this,v0,null);j(this,b0,null);j(this,xi,null);const S=this._signal=p(this,ip).signal;D(this,Bs,t),D(this,v0,e),D(this,b0,a),D(this,sp,r),D(this,Ca,i),D(this,Al,o),D(this,pp,c),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:S}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),s._on("setpreference",this.onSetPreference.bind(this),{signal:S}),s._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:S}),window.addEventListener("pointerdown",()=>{D(this,mp,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{D(this,mp,!1)},{capture:!0,signal:S}),O(this,vt,zW).call(this),O(this,vt,WW).call(this),O(this,vt,dN).call(this),D(this,pi,c.annotationStorage),D(this,p0,c.filterFactory),D(this,Sl,l),D(this,up,u||null),D(this,m0,h),D(this,h0,f),D(this,dp,y),D(this,g0,w||null),this.viewParameters={realScale:md.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=b!==!1,i==null||i.setSidebarUiManager(this)}static get _keyboardManager(){const t=qh.prototype,e=o=>p(o,Bs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),a=(o,{target:s})=>{if(s instanceof HTMLInputElement){const{type:c}=s;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return ee(this,"_keyboardManager",new sv([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],t.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:a}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:s})=>!(s instanceof HTMLButtonElement)&&p(o,Bs).contains(s)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:s})=>!(s instanceof HTMLButtonElement)&&p(o,Bs).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}]]))}destroy(){var t,e,a,r,i,o,s,c,l;(t=p(this,xi))==null||t.resolve(),D(this,xi,null),(e=p(this,ip))==null||e.abort(),D(this,ip,null),this._signal=null;for(const u of p(this,Rn).values())u.destroy();p(this,Rn).clear(),p(this,cn).clear(),p(this,lu).clear(),(a=p(this,wl))==null||a.clear(),D(this,Tr,null),p(this,be).clear(),p(this,fi).destroy(),(r=p(this,sp))==null||r.destroy(),(i=p(this,Ca))==null||i.destroy(),(o=p(this,Al))==null||o.destroy(),(s=p(this,No))==null||s.hide(),D(this,No,null),(c=p(this,hp))==null||c.destroy(),D(this,hp,null),D(this,op,null),p(this,Do)&&(clearTimeout(p(this,Do)),D(this,Do,null)),p(this,Bo)&&(clearTimeout(p(this,Bo)),D(this,Bo,null)),(l=this._editorUndoBar)==null||l.destroy(),D(this,pp,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return p(this,g0)}get useNewAltTextFlow(){return p(this,h0)}get useNewAltTextWhenAddingImage(){return p(this,dp)}get hcmFilter(){return ee(this,"hcmFilter",p(this,Sl)?p(this,p0).addHCMFilter(p(this,Sl).foreground,p(this,Sl).background):"none")}get direction(){return ee(this,"direction",getComputedStyle(p(this,Bs)).direction)}get _highlightColors(){return ee(this,"_highlightColors",p(this,up)?new Map(p(this,up).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return ee(this,"highlightColors",null);const e=new Map,a=!!p(this,Sl);for(const[r,i]of t){const o=r.endsWith("_HCM");if(a&&o){e.set(r.replace("_HCM",""),i);continue}!a&&!o&&e.set(r,i)}return ee(this,"highlightColors",e)}get highlightColorNames(){return ee(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),D(this,fl,t)}setMainHighlightColorPicker(t){D(this,hp,t)}editAltText(t,e=!1){var a;(a=p(this,sp))==null||a.editAltText(this,t,e)}hasCommentManager(){return!!p(this,Ca)}editComment(t,e,a,r){var i;(i=p(this,Ca))==null||i.showDialog(this,t,e,a,r)}selectComment(t,e){const a=p(this,Rn).get(t),r=a==null?void 0:a.getEditorByUID(e);r==null||r.toggleComment(!0,!0)}updateComment(t){var e;(e=p(this,Ca))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=p(this,Ca))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=p(this,Ca))==null||e.removeComments([t.uid])}toggleComment(t,e,a=void 0){var r;(r=p(this,Ca))==null||r.toggleCommentPopup(t,e,a)}makeCommentColor(t,e){var a;return t&&((a=p(this,Ca))==null?void 0:a.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=p(this,Ca))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(p(this,Rn).has(t-1))return;const{resolve:e,promise:a}=Promise.withResolvers(),r=i=>{i.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await a}getSignature(t){var e;(e=p(this,Al))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return p(this,Al)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":D(this,dp,e);break}}onPageChanging({pageNumber:t}){D(this,lp,t-1)}focusMainContainer(){p(this,Bs).focus()}findParent(t,e){for(const a of p(this,Rn).values()){const{x:r,y:i,width:o,height:s}=a.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=i&&e<=i+s)return a}return null}disableUserSelect(t=!1){p(this,v0).classList.toggle("noUserSelect",t)}addShouldRescale(t){p(this,lu).add(t)}removeShouldRescale(t){p(this,lu).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*md.PDF_TO_CSS_UNITS;for(const a of p(this,lu))a.onScaleChanging();(e=p(this,fl))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const a=document.getSelection();if(!a||a.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=a,c=a.toString(),u=O(this,vt,hw).call(this,a).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;a.empty();const f=O(this,vt,lN).call(this,u),y=p(this,Sn)===Xt.NONE,w=()=>{const v=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s,text:c});y&&this.showAllEditors("highlight",!0,!0),e&&(v==null||v.editComment())};if(y){this.switchToMode(Xt.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!p(this,pi))return null;const e=`${e0}${t}`,a=p(this,pi).getRawValue(e);return a&&p(this,pi).remove(e),a}addToAnnotationStorage(t){!t.isEmpty()&&p(this,pi)&&!p(this,pi).has(t.id)&&p(this,pi).setValue(t.id,t)}a11yAlert(t,e=null){const a=p(this,b0);a&&(a.setAttribute("data-l10n-id",t),e?a.setAttribute("data-l10n-args",JSON.stringify(e)):a.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,p(this,yl)&&(D(this,yl,!1),O(this,vt,Eg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of p(this,be))if(e.div.contains(t)){D(this,du,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!p(this,du))return;const[t,e]=p(this,du);D(this,du,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){O(this,vt,dN).call(this),O(this,vt,uN).call(this)}removeEditListeners(){O(this,vt,VW).call(this),O(this,vt,mN).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const a of p(this,gi))if(a.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const a of p(this,gi))if(a.isHandlingMimeForPasting(e.type)){a.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var a;if(t.preventDefault(),(a=p(this,Tr))==null||a.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of p(this,be)){const i=r.serialize(!0);i&&e.push(i)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const i of e.items)for(const o of p(this,gi))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let a=e.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(i){Wt(`paste: "${i.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const c of a){const l=await r.deserialize(c);if(!l)return;i.push(l)}const o=()=>{for(const c of i)O(this,vt,hN).call(this,c);O(this,vt,pN).call(this,i)},s=()=>{for(const c of i)c.remove()};this.addCommands({cmd:o,undo:s,mustExec:!0})}catch(i){Wt(`paste: "${i.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,Sn)!==Xt.NONE&&!this.isEditorHandlingKeyboard&&qh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,yl)&&(D(this,yl,!1),O(this,vt,Eg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(O(this,vt,qW).call(this),O(this,vt,uN).call(this),O(this,vt,$a).call(this,{isEditing:p(this,Sn)!==Xt.NONE,isEmpty:O(this,vt,Tg).call(this),hasSomethingToUndo:p(this,fi).hasSomethingToUndo(),hasSomethingToRedo:p(this,fi).hasSomethingToRedo(),hasSelectedEditor:!1})):(O(this,vt,HW).call(this),O(this,vt,mN).call(this),O(this,vt,$a).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!p(this,gi)){D(this,gi,t);for(const e of p(this,gi))O(this,vt,Ps).call(this,e.defaultPropertiesToUpdate)}}getId(){return p(this,v1).id}get currentLayer(){return p(this,Rn).get(p(this,lp))}getLayer(t){return p(this,Rn).get(t)}get currentPageIndex(){return p(this,lp)}addLayer(t){p(this,Rn).set(t.pageIndex,t),p(this,vl)?t.enable():t.disable()}removeLayer(t){p(this,Rn).delete(t.pageIndex)}async updateMode(t,e=null,a=!1,r=!1,i=!1){var o,s,c,l,u,h;if(p(this,Sn)!==t&&!(p(this,xi)&&(await p(this,xi).promise,!p(this,xi)))){if(D(this,xi,Promise.withResolvers()),(o=p(this,fl))==null||o.commitOrRemove(),p(this,Sn)===Xt.POPUP&&((s=p(this,Ca))==null||s.hideSidebar()),(c=p(this,Ca))==null||c.destroyPopup(),D(this,Sn,t),t===Xt.NONE){this.setEditingState(!1),O(this,vt,XW).call(this);for(const f of p(this,cn).values())f.hideStandaloneCommentButton();(l=this._editorUndoBar)==null||l.hide(),this.toggleComment(null),p(this,xi).resolve();return}for(const f of p(this,cn).values())f.addStandaloneCommentButton();t===Xt.SIGNATURE&&await((u=p(this,Al))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await O(this,vt,KW).call(this),this.unselectAll();for(const f of p(this,Rn).values())f.updateMode(t);if(t===Xt.POPUP){p(this,op)||D(this,op,await p(this,pp).getAnnotationsByType(new Set(p(this,gi).map(w=>w._editorType))));const f=new Set,y=[];for(const w of p(this,cn).values()){const{annotationElementId:v,hasComment:b,deleted:S}=w;v&&f.add(v),b&&!S&&y.push(w.getData())}for(const w of p(this,op)){const{id:v,popupRef:b,contentsObj:S}=w;b&&(S!=null&&S.str)&&!f.has(v)&&!p(this,gl).has(v)&&y.push(w)}(h=p(this,Ca))==null||h.showSidebar(y)}if(!e){a&&this.addNewEditorFromKeyboard(),p(this,xi).resolve();return}for(const f of p(this,cn).values())f.uid===e?(this.setSelected(f),i?f.editComment():r?f.enterInEditMode():f.focus()):f.unselect();p(this,xi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==p(this,Sn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(p(this,gi)){switch(t){case oe.CREATE:this.currentLayer.addNewEditor(e);return;case oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,x0)||D(this,x0,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const a of p(this,be))a.updateParams(t,e);else for(const a of p(this,gi))a.updateDefaultParams(t,e)}}showAllEditors(t,e,a=!1){var i;for(const o of p(this,cn).values())o.editorType===t&&o.show(e);(((i=p(this,x0))==null?void 0:i.get(oe.HIGHLIGHT_SHOW_ALL))??!0)!==e&&O(this,vt,Ps).call(this,[[oe.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(p(this,f0)!==t){D(this,f0,t);for(const e of p(this,Rn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of p(this,cn).values())e.pageIndex===t&&(yield e)}getEditor(t){return p(this,cn).get(t)}addEditor(t){p(this,cn).set(t.id,t)}removeEditor(t){var e,a;t.div.contains(document.activeElement)&&(p(this,Do)&&clearTimeout(p(this,Do)),D(this,Do,setTimeout(()=>{this.focusMainContainer(),D(this,Do,null)},0))),p(this,cn).delete(t.id),t.annotationElementId&&((e=p(this,wl))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!p(this,gl).has(t.annotationElementId))&&((a=p(this,pi))==null||a.remove(t.id))}addDeletedAnnotationElement(t){p(this,gl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return p(this,gl).has(t)}removeDeletedAnnotationElement(t){p(this,gl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){p(this,Tr)!==t&&(D(this,Tr,t),t&&O(this,vt,Ps).call(this,t.propertiesToUpdate))}updateUI(t){p(this,vt,YW)===t&&O(this,vt,Ps).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){O(this,vt,Ps).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(p(this,be).has(t)){p(this,be).delete(t),t.unselect(),O(this,vt,$a).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,be).add(t),t.select(),O(this,vt,Ps).call(this,t.propertiesToUpdate),O(this,vt,$a).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=p(this,fl))==null||e.commitOrRemove();for(const a of p(this,be))a!==t&&a.unselect();p(this,be).clear(),p(this,be).add(t),t.select(),O(this,vt,Ps).call(this,t.propertiesToUpdate),O(this,vt,$a).call(this,{hasSelectedEditor:!0})}isSelected(t){return p(this,be).has(t)}get firstSelectedEditor(){return p(this,be).values().next().value}unselect(t){t.unselect(),p(this,be).delete(t),O(this,vt,$a).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,be).size!==0}get isEnterHandled(){return p(this,be).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;p(this,fi).undo(),O(this,vt,$a).call(this,{hasSomethingToUndo:p(this,fi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:O(this,vt,Tg).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){p(this,fi).redo(),O(this,vt,$a).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,fi).hasSomethingToRedo(),isEmpty:O(this,vt,Tg).call(this)})}addCommands(t){p(this,fi).add(t),O(this,vt,$a).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:O(this,vt,Tg).call(this)})}cleanUndoStack(t){p(this,fi).cleanType(t)}delete(){var i;this.commitOrRemove();const t=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...p(this,be)],a=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const o of e)O(this,vt,hN).call(this,o)};this.addCommands({cmd:a,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=p(this,Tr))==null||t.commitOrRemove()}hasSomethingToControl(){return p(this,Tr)||this.hasSelection}selectAll(){for(const t of p(this,be))t.commit();O(this,vt,pN).call(this,p(this,cn).values())}unselectAll(){var t;if(!(p(this,Tr)&&(p(this,Tr).commitOrRemove(),p(this,Sn)!==Xt.NONE))&&!((t=p(this,fl))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of p(this,be))e.unselect();p(this,be).clear(),O(this,vt,$a).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;p(this,_l)[0]+=t,p(this,_l)[1]+=e;const[r,i]=p(this,_l),o=[...p(this,be)],s=1e3;p(this,Bo)&&clearTimeout(p(this,Bo)),D(this,Bo,setTimeout(()=>{D(this,Bo,null),p(this,_l)[0]=p(this,_l)[1]=0,this.addCommands({cmd:()=>{for(const c of o)p(this,cn).has(c.id)&&(c.translateInPage(r,i),c.translationDone())},undo:()=>{for(const c of o)p(this,cn).has(c.id)&&(c.translateInPage(-r,-i),c.translationDone())},mustExec:!1})},s));for(const c of o)c.translateInPage(t,e),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,To,new Map);for(const t of p(this,be))p(this,To).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,To))return!1;this.disableUserSelect(!1);const t=p(this,To);D(this,To,null);let e=!1;for(const[{x:r,y:i,pageIndex:o},s]of t)s.newX=r,s.newY=i,s.newPageIndex=o,e||(e=r!==s.savedX||i!==s.savedY||o!==s.savedPageIndex);if(!e)return!1;const a=(r,i,o,s)=>{if(p(this,cn).has(r.id)){const c=p(this,Rn).get(s);c?r._setParentAndPosition(c,i,o):(r.pageIndex=s,r.x=i,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:o,newPageIndex:s}]of t)a(r,i,o,s)},undo:()=>{for(const[r,{savedX:i,savedY:o,savedPageIndex:s}]of t)a(r,i,o,s)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(p(this,To))for(const a of p(this,To).keys())a.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||p(this,be).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return p(this,Tr)===t}getActive(){return p(this,Tr)}getMode(){return p(this,Sn)}isEditingMode(){return p(this,Sn)!==Xt.NONE}get imageManager(){return ee(this,"imageManager",new sN)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,u=e.rangeCount;l<u;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:a,y:r,width:i,height:o}=t.getBoundingClientRect();let s;switch(t.getAttribute("data-main-rotation")){case"90":s=(l,u,h,f)=>({x:(u-r)/o,y:1-(l+h-a)/i,width:f/o,height:h/i});break;case"180":s=(l,u,h,f)=>({x:1-(l+h-a)/i,y:1-(u+f-r)/o,width:h/i,height:f/o});break;case"270":s=(l,u,h,f)=>({x:1-(u+f-r)/o,y:(l-a)/i,width:f/o,height:h/i});break;default:s=(l,u,h,f)=>({x:(l-a)/i,y:(u-r)/o,width:h/i,height:f/o});break}const c=[];for(let l=0,u=e.rangeCount;l<u;l++){const h=e.getRangeAt(l);if(!h.collapsed)for(const{x:f,y,width:w,height:v}of h.getClientRects())w===0||v===0||c.push(s(f,y,w,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(p(this,cp)||D(this,cp,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=p(this,cp))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=p(this,cp))==null?void 0:r.get(t.data.id);if(!e)return;const a=p(this,pi).getRawValue(e);a&&(p(this,Sn)===Xt.NONE&&!a.hasBeenModified||a.renderAnnotationElement(t))}setMissingCanvas(t,e,a){var i;const r=(i=p(this,wl))==null?void 0:i.get(t);r&&(r.setCanvas(e,a),p(this,wl).delete(t))}addMissingCanvas(t,e){(p(this,wl)||D(this,wl,new Map)).set(t,e)}};ip=new WeakMap,Tr=new WeakMap,op=new WeakMap,cn=new WeakMap,Rn=new WeakMap,sp=new WeakMap,pi=new WeakMap,cp=new WeakMap,fi=new WeakMap,Ca=new WeakMap,pl=new WeakMap,fl=new WeakMap,lp=new WeakMap,gl=new WeakMap,To=new WeakMap,gi=new WeakMap,lu=new WeakMap,m0=new WeakMap,h0=new WeakMap,dp=new WeakMap,p0=new WeakMap,Do=new WeakMap,xl=new WeakMap,up=new WeakMap,yl=new WeakMap,No=new WeakMap,v1=new WeakMap,vl=new WeakMap,mp=new WeakMap,f0=new WeakMap,bl=new WeakMap,du=new WeakMap,hp=new WeakMap,wl=new WeakMap,g0=new WeakMap,Sn=new WeakMap,be=new WeakMap,Ns=new WeakMap,Al=new WeakMap,Sl=new WeakMap,x0=new WeakMap,pp=new WeakMap,y0=new WeakMap,_l=new WeakMap,Bo=new WeakMap,Bs=new WeakMap,v0=new WeakMap,b0=new WeakMap,xi=new WeakMap,vt=new WeakSet,hw=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},lN=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const a of p(this,Rn).values())if(a.hasTextLayer(t))return a;return null},GW=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const a=O(this,vt,hw).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(a);r&&(p(this,No)||D(this,No,new e1t(this)),p(this,No).show(a,r,this.direction==="ltr"))},UW=function(){var i,o,s;const t=document.getSelection();if(!t||t.isCollapsed){p(this,Ns)&&((i=p(this,No))==null||i.hide(),D(this,Ns,null),O(this,vt,$a).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===p(this,Ns))return;const r=O(this,vt,hw).call(this,t).closest(".textLayer");if(!r){p(this,Ns)&&((o=p(this,No))==null||o.hide(),D(this,Ns,null),O(this,vt,$a).call(this,{hasSelectedText:!1}));return}if((s=p(this,No))==null||s.hide(),D(this,Ns,e),O(this,vt,$a).call(this,{hasSelectedText:!0}),!(p(this,Sn)!==Xt.HIGHLIGHT&&p(this,Sn)!==Xt.NONE)&&(p(this,Sn)===Xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,yl,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=p(this,Sn)===Xt.HIGHLIGHT?O(this,vt,lN).call(this,r):null;if(c==null||c.toggleDrawing(),p(this,mp)){const l=new AbortController,u=this.combinedSignal(l),h=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&O(this,vt,Eg).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else c==null||c.toggleDrawing(!0),O(this,vt,Eg).call(this,"main_toolbar")}},Eg=function(t=""){p(this,Sn)===Xt.HIGHLIGHT?this.highlightSelection(t):p(this,m0)&&O(this,vt,GW).call(this)},zW=function(){document.addEventListener("selectionchange",O(this,vt,UW).bind(this),{signal:this._signal})},qW=function(){if(p(this,xl))return;D(this,xl,new AbortController);const t=this.combinedSignal(p(this,xl));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},HW=function(){var t;(t=p(this,xl))==null||t.abort(),D(this,xl,null)},dN=function(){if(p(this,bl))return;D(this,bl,new AbortController);const t=this.combinedSignal(p(this,bl));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},VW=function(){var t;(t=p(this,bl))==null||t.abort(),D(this,bl,null)},uN=function(){if(p(this,pl))return;D(this,pl,new AbortController);const t=this.combinedSignal(p(this,pl));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},mN=function(){var t;(t=p(this,pl))==null||t.abort(),D(this,pl,null)},WW=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},$a=function(t){Object.entries(t).some(([a,r])=>p(this,y0)[a]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,y0),t)}),p(this,Sn)===Xt.HIGHLIGHT&&t.hasSelectedEditor===!1&&O(this,vt,Ps).call(this,[[oe.HIGHLIGHT_FREE,!0]]))},Ps=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},KW=async function(){if(!p(this,vl)){D(this,vl,!0);const t=[];for(const e of p(this,Rn).values())t.push(e.enable());await Promise.all(t);for(const e of p(this,cn).values())e.enable()}},XW=function(){if(this.unselectAll(),p(this,vl)){D(this,vl,!1);for(const t of p(this,Rn).values())t.disable();for(const t of p(this,cn).values())t.disable()}},hN=function(t){const e=p(this,Rn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},YW=function(){let t=null;for(t of p(this,be));return t},Tg=function(){if(p(this,cn).size===0)return!0;if(p(this,cn).size===1)for(const t of p(this,cn).values())return t.isEmpty();return!1},pN=function(t){for(const e of p(this,be))e.unselect();p(this,be).clear();for(const e of t)e.isEmpty()||(p(this,be).add(e),e.select());O(this,vt,$a).call(this,{hasSelectedEditor:this.hasSelection})},ht(qh,"TRANSLATE_SMALL",1),ht(qh,"TRANSLATE_BIG",10);let Nm=qh;var Kn,jo,Xi,fp,Oo,Dr,gp,Lo,sr,js,uu,Io,Pl,ho,Dg,pw;const Ga=class Ga{constructor(t){j(this,ho);j(this,Kn,null);j(this,jo,!1);j(this,Xi,null);j(this,fp,null);j(this,Oo,null);j(this,Dr,null);j(this,gp,!1);j(this,Lo,null);j(this,sr,null);j(this,js,null);j(this,uu,null);j(this,Io,!1);D(this,sr,t),D(this,Io,t._uiManager.useNewAltTextFlow),p(Ga,Pl)||D(Ga,Pl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ga._l10n??(Ga._l10n=t)}async render(){const t=D(this,Xi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=D(this,fp,document.createElement("span"));t.append(e),p(this,Io)?(t.classList.add("new"),t.setAttribute("data-l10n-id",p(Ga,Pl).missing),e.setAttribute("data-l10n-id",p(Ga,Pl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=p(this,sr)._uiManager._signal;t.addEventListener("contextmenu",Ni,{signal:a}),t.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:a});const r=i=>{i.preventDefault(),p(this,sr)._uiManager.editAltText(p(this,sr)),p(this,Io)&&p(this,sr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,ho,Dg)}})};return t.addEventListener("click",r,{capture:!0,signal:a}),t.addEventListener("keydown",i=>{i.target===t&&i.key==="Enter"&&(D(this,gp,!0),r(i))},{signal:a}),await O(this,ho,pw).call(this),t}finish(){p(this,Xi)&&(p(this,Xi).focus({focusVisible:p(this,gp)}),D(this,gp,!1))}isEmpty(){return p(this,Io)?p(this,Kn)===null:!p(this,Kn)&&!p(this,jo)}hasData(){return p(this,Io)?p(this,Kn)!==null||!!p(this,js):this.isEmpty()}get guessedText(){return p(this,js)}async setGuessedText(t){p(this,Kn)===null&&(D(this,js,t),D(this,uu,await Ga._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),O(this,ho,pw).call(this))}toggleAltTextBadge(t=!1){var e;if(!p(this,Io)||p(this,Kn)){(e=p(this,Lo))==null||e.remove(),D(this,Lo,null);return}if(!p(this,Lo)){const a=D(this,Lo,document.createElement("div"));a.className="noAltTextBadge",p(this,sr).div.append(a)}p(this,Lo).classList.toggle("hidden",!t)}serialize(t){let e=p(this,Kn);return!t&&p(this,js)===e&&(e=p(this,uu)),{altText:e,decorative:p(this,jo),guessedText:p(this,js),textWithDisclaimer:p(this,uu)}}get data(){return{altText:p(this,Kn),decorative:p(this,jo)}}set data({altText:t,decorative:e,guessedText:a,textWithDisclaimer:r,cancel:i=!1}){a&&(D(this,js,a),D(this,uu,r)),!(p(this,Kn)===t&&p(this,jo)===e)&&(i||(D(this,Kn,t),D(this,jo,e)),O(this,ho,pw).call(this))}toggle(t=!1){p(this,Xi)&&(!t&&p(this,Dr)&&(clearTimeout(p(this,Dr)),D(this,Dr,null)),p(this,Xi).disabled=!t)}shown(){p(this,sr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,ho,Dg)}})}destroy(){var t,e;(t=p(this,Xi))==null||t.remove(),D(this,Xi,null),D(this,fp,null),D(this,Oo,null),(e=p(this,Lo))==null||e.remove(),D(this,Lo,null)}};Kn=new WeakMap,jo=new WeakMap,Xi=new WeakMap,fp=new WeakMap,Oo=new WeakMap,Dr=new WeakMap,gp=new WeakMap,Lo=new WeakMap,sr=new WeakMap,js=new WeakMap,uu=new WeakMap,Io=new WeakMap,Pl=new WeakMap,ho=new WeakSet,Dg=function(){return p(this,Kn)&&"added"||p(this,Kn)===null&&this.guessedText&&"review"||"missing"},pw=async function(){var r,i,o;const t=p(this,Xi);if(!t)return;if(p(this,Io)){if(t.classList.toggle("done",!!p(this,Kn)),t.setAttribute("data-l10n-id",p(Ga,Pl)[p(this,ho,Dg)]),(r=p(this,fp))==null||r.setAttribute("data-l10n-id",p(Ga,Pl)[`${p(this,ho,Dg)}-label`]),!p(this,Kn)){(i=p(this,Oo))==null||i.remove();return}}else{if(!p(this,Kn)&&!p(this,jo)){t.classList.remove("done"),(o=p(this,Oo))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=p(this,Oo);if(!e){D(this,Oo,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${p(this,sr).id}`;const s=100,c=p(this,sr)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(p(this,Dr)),D(this,Dr,null)},{once:!0}),t.addEventListener("mouseenter",()=>{D(this,Dr,setTimeout(()=>{D(this,Dr,null),p(this,Oo).classList.add("show"),p(this,sr)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:c}),t.addEventListener("mouseleave",()=>{var l;p(this,Dr)&&(clearTimeout(p(this,Dr)),D(this,Dr,null)),(l=p(this,Oo))==null||l.classList.remove("show")},{signal:c})}p(this,jo)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=p(this,Kn)),e.parentNode||t.append(e);const a=p(this,sr).getElementForAltText();a==null||a.setAttribute("aria-describedby",e.id)},j(Ga,Pl,null),ht(Ga,"_l10n",null);let r1=Ga;var oa,yi,mu,Ie,w0,hu,Yi,pu,fu,gu,A0,fN;class Xb{constructor(t){j(this,A0);j(this,oa,null);j(this,yi,null);j(this,mu,!1);j(this,Ie,null);j(this,w0,null);j(this,hu,null);j(this,Yi,null);j(this,pu,null);j(this,fu,!1);j(this,gu,null);D(this,Ie,t)}renderForToolbar(){const t=D(this,yi,document.createElement("button"));return t.className="comment",O(this,A0,fN).call(this,t,!1)}renderForStandalone(){const t=D(this,oa,document.createElement("button"));t.className="annotationCommentButton";const e=p(this,Ie).commentButtonPosition;if(e){const{style:a}=t;a.insetInlineEnd=`calc(${100*(p(this,Ie)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,a.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=p(this,Ie).commentButtonColor;r&&(a.backgroundColor=r)}return O(this,A0,fN).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=p(this,oa)??p(this,yi))==null||t.focus()},0)}onUpdatedColor(){if(!p(this,oa))return;const t=p(this,Ie).commentButtonColor;t&&(p(this,oa).style.backgroundColor=t),p(this,Ie)._uiManager.updatePopupColor(p(this,Ie))}get commentButtonWidth(){var t;return(((t=p(this,oa))==null?void 0:t.getBoundingClientRect().width)??0)/p(this,Ie).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(p(this,gu))return p(this,gu);if(!p(this,oa))return null;const{x:t,y:e,height:a}=p(this,oa).getBoundingClientRect(),{x:r,y:i,width:o,height:s}=p(this,Ie).parent.boundingClientRect;return[(t-r)/o,(e+a-i)/s]}set commentPopupPositionInLayer(t){D(this,gu,t)}hasDefaultPopupPosition(){return p(this,gu)===null}removeStandaloneCommentButton(){var t;(t=p(this,oa))==null||t.remove(),D(this,oa,null)}removeToolbarCommentButton(){var t;(t=p(this,yi))==null||t.remove(),D(this,yi,null)}setCommentButtonStates({selected:t,hasPopup:e}){p(this,oa)&&(p(this,oa).classList.toggle("selected",t),p(this,oa).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let a,r;if(e)[a,r]=e;else{[a,r]=p(this,Ie).commentButtonPosition;const{width:u,height:h,x:f,y}=p(this,Ie);a=f+a*u,r=y+r*h}const i=p(this,Ie).parent.boundingClientRect,{x:o,y:s,width:c,height:l}=i;p(this,Ie)._uiManager.editComment(p(this,Ie),o+a*c,s+r*l,{...t,parentDimensions:i})}finish(){p(this,yi)&&(p(this,yi).focus({focusVisible:p(this,mu)}),D(this,mu,!1))}isDeleted(){return p(this,fu)||p(this,Yi)===""}isEmpty(){return p(this,Yi)===null}hasBeenEdited(){return this.isDeleted()||p(this,Yi)!==p(this,w0)}serialize(){return this.data}get data(){return{text:p(this,Yi),richText:p(this,hu),date:p(this,pu),deleted:this.isDeleted()}}set data(t){if(t!==p(this,Yi)&&D(this,hu,null),t===null){D(this,Yi,""),D(this,fu,!0);return}D(this,Yi,t),D(this,pu,new Date),D(this,fu,!1)}setInitialText(t,e=null){D(this,w0,t),this.data=t,D(this,pu,null),D(this,hu,e)}shown(){}destroy(){var t,e;(t=p(this,yi))==null||t.remove(),D(this,yi,null),(e=p(this,oa))==null||e.remove(),D(this,oa,null),D(this,Yi,""),D(this,hu,null),D(this,pu,null),D(this,Ie,null),D(this,mu,!1),D(this,fu,!1)}}oa=new WeakMap,yi=new WeakMap,mu=new WeakMap,Ie=new WeakMap,w0=new WeakMap,hu=new WeakMap,Yi=new WeakMap,pu=new WeakMap,fu=new WeakMap,gu=new WeakMap,A0=new WeakSet,fN=function(t,e){if(!p(this,Ie)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[p(this,Ie)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const a=p(this,Ie)._uiManager._signal;if(!(a instanceof AbortSignal)||a.aborted)return t;t.addEventListener("contextmenu",Ni,{signal:a}),e&&(t.addEventListener("focusin",i=>{p(this,Ie)._focusEventsAllowed=!1,pn(i)},{capture:!0,signal:a}),t.addEventListener("focusout",i=>{p(this,Ie)._focusEventsAllowed=!0,pn(i)},{capture:!0,signal:a})),t.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:a});const r=i=>{i.preventDefault(),t===p(this,yi)?this.edit():p(this,Ie).toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:a}),t.addEventListener("keydown",i=>{i.target===t&&i.key==="Enter"&&(D(this,mu,!0),r(i))},{signal:a}),t.addEventListener("pointerenter",()=>{p(this,Ie).toggleComment(!1,!0)},{signal:a}),t.addEventListener("pointerleave",()=>{p(this,Ie).toggleComment(!1,!1)},{signal:a}),t};var xp,xu,S0,_0,P0,k0,C0,Os,yu,Ls,vu,Is,hd,QW,JW,ZW;const GO=class GO{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:a=null,onPinchStart:r=null,onPinching:i=null,onPinchEnd:o=null,signal:s}){j(this,hd);j(this,xp);j(this,xu,!1);j(this,S0,null);j(this,_0);j(this,P0);j(this,k0);j(this,C0);j(this,Os,null);j(this,yu);j(this,Ls,null);j(this,vu);j(this,Is,null);D(this,xp,t),D(this,S0,a),D(this,_0,e),D(this,P0,r),D(this,k0,i),D(this,C0,o),D(this,vu,new AbortController),D(this,yu,AbortSignal.any([s,p(this,vu).signal])),t.addEventListener("touchstart",O(this,hd,QW).bind(this),{passive:!1,signal:p(this,yu)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/us.pixelRatio}destroy(){var t,e;(t=p(this,vu))==null||t.abort(),D(this,vu,null),(e=p(this,Os))==null||e.abort(),D(this,Os,null)}};xp=new WeakMap,xu=new WeakMap,S0=new WeakMap,_0=new WeakMap,P0=new WeakMap,k0=new WeakMap,C0=new WeakMap,Os=new WeakMap,yu=new WeakMap,Ls=new WeakMap,vu=new WeakMap,Is=new WeakMap,hd=new WeakSet,QW=function(t){var r,i,o;if((r=p(this,_0))!=null&&r.call(this))return;if(t.touches.length===1){if(p(this,Os))return;const s=D(this,Os,new AbortController),c=AbortSignal.any([p(this,yu),s.signal]),l=p(this,xp),u={capture:!0,signal:c,passive:!1},h=f=>{var y;f.pointerType==="touch"&&((y=p(this,Os))==null||y.abort(),D(this,Os,null))};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(pn(f),h(f))},u),l.addEventListener("pointerup",h,u),l.addEventListener("pointercancel",h,u);return}if(!p(this,Is)){D(this,Is,new AbortController);const s=AbortSignal.any([p(this,yu),p(this,Is).signal]),c=p(this,xp),l={signal:s,capture:!1,passive:!1};c.addEventListener("touchmove",O(this,hd,JW).bind(this),l);const u=O(this,hd,ZW).bind(this);c.addEventListener("touchend",u,l),c.addEventListener("touchcancel",u,l),l.capture=!0,c.addEventListener("pointerdown",pn,l),c.addEventListener("pointermove",pn,l),c.addEventListener("pointercancel",pn,l),c.addEventListener("pointerup",pn,l),(i=p(this,P0))==null||i.call(this)}if(pn(t),t.touches.length!==2||(o=p(this,S0))!=null&&o.call(this)){D(this,Ls,null);return}let[e,a]=t.touches;e.identifier>a.identifier&&([e,a]=[a,e]),D(this,Ls,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:a.screenX,touch1Y:a.screenY})},JW=function(t){var E;if(!p(this,Ls)||t.touches.length!==2)return;pn(t);let[e,a]=t.touches;e.identifier>a.identifier&&([e,a]=[a,e]);const{screenX:r,screenY:i}=e,{screenX:o,screenY:s}=a,c=p(this,Ls),{touch0X:l,touch0Y:u,touch1X:h,touch1Y:f}=c,y=h-l,w=f-u,v=o-r,b=s-i,S=Math.hypot(v,b)||1,_=Math.hypot(y,w)||1;if(!p(this,xu)&&Math.abs(_-S)<=GO.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=i,c.touch1X=o,c.touch1Y=s,!p(this,xu)){D(this,xu,!0);return}const P=[(r+o)/2,(i+s)/2];(E=p(this,k0))==null||E.call(this,P,_,S)},ZW=function(t){var e;t.touches.length>=2||(p(this,Is)&&(p(this,Is).abort(),D(this,Is,null),(e=p(this,C0))==null||e.call(this)),p(this,Ls)&&(pn(t),D(this,Ls,null),D(this,xu,!1)))};let i1=GO;var bu,Qi,We,Te,Rs,yp,kl,E0,sa,wu,Ms,Ro,Cl,T0,Au,Nr,D0,Su,Fs,Mo,vp,bp,vi,_u,N0,b1,Ut,gN,B0,xN,fw,tK,eK,yN,gw,vN,nK,aK,rK,bN,iK,wN,oK,sK,cK,AN,Ng;const Kt=class Kt{constructor(t){j(this,Ut);j(this,bu,null);j(this,Qi,null);j(this,We,null);j(this,Te,null);j(this,Rs,null);j(this,yp,!1);j(this,kl,null);j(this,E0,"");j(this,sa,null);j(this,wu,null);j(this,Ms,null);j(this,Ro,null);j(this,Cl,null);j(this,T0,"");j(this,Au,!1);j(this,Nr,null);j(this,D0,!1);j(this,Su,!1);j(this,Fs,!1);j(this,Mo,null);j(this,vp,0);j(this,bp,0);j(this,vi,null);j(this,_u,null);ht(this,"isSelected",!1);ht(this,"_isCopy",!1);ht(this,"_editToolbar",null);ht(this,"_initialOptions",Object.create(null));ht(this,"_initialData",null);ht(this,"_isVisible",!0);ht(this,"_uiManager",null);ht(this,"_focusEventsAllowed",!0);j(this,N0,!1);j(this,b1,Kt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:a,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,r],this.pageTranslation=[i,o];const[s,c]=this.parentDimensions;this.x=t.x/s,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Kt.prototype._resizeWithKeyboard,e=Nm.TRANSLATE_SMALL,a=Nm.TRANSLATE_BIG;return ee(this,"_resizerKeyboardManager",new sv([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,a]}],[["Escape","mac+Escape"],Kt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ee(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new r1t({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Kt._l10n??(Kt._l10n=t),Kt._l10nResizer||(Kt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Kt._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);Kt._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){je("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,N0)}set _isDraggable(t){var e;D(this,N0,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,b1)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(O(this,Ut,Ng).call(this),(e=p(this,Ro))==null||e.remove(),D(this,Ro,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(p(this,Au)?D(this,Au,!1):this.parent.setSelected(this))}focusout(t){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,a,r){const[i,o]=this.parentDimensions;[a,r]=this.screenToPageTranslation(a,r),this.x=(t+a)/i,this.y=(e+r)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[a,r]=this.parentDimensions;this.setAt(t*a,e*r,this.width*a,this.height*r),this._onTranslated()}translate(t,e){O(this,Ut,gN).call(this,this.parentDimensions,t,e)}translateInPage(t,e){p(this,Nr)||D(this,Nr,[this.x,this.y,this.width,this.height]),O(this,Ut,gN).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){p(this,Nr)||D(this,Nr,[this.x,this.y,this.width,this.height]);const{div:a,parentDimensions:[r,i]}=this;if(this.x+=t/r,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[c,l]=this.getBaseTranslation();o+=c,s+=l;const{style:u}=a;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this._onTranslating(o,s),a.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!p(this,Nr)&&(p(this,Nr)[0]!==this.x||p(this,Nr)[1]!==this.y)}get _hasBeenResized(){return!!p(this,Nr)&&(p(this,Nr)[2]!==this.width||p(this,Nr)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:a}=Kt,r=a/t,i=a/e;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[a,r]}=this;let{x:i,y:o,width:s,height:c}=this;if(s*=a,c*=r,i*=a,o*=r,this._mustFixPosition)switch(t){case 0:i=Va(i,0,a-s),o=Va(o,0,r-c);break;case 90:i=Va(i,0,a-c),o=Va(o,s,r);break;case 180:i=Va(i,s,a),o=Va(o,c,r);break;case 270:i=Va(i,c,a),o=Va(o,0,r-s);break}this.x=i/=a,this.y=o/=r;const[l,u]=this.getBaseTranslation();i+=l,o+=u,e.left=`${(100*i).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var a;return O(a=Kt,B0,xN).call(a,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var a;return O(a=Kt,B0,xN).call(a,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,a]}=this;return[e*t,a*t]}setDims(){const{div:{style:t},width:e,height:a}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*a).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=p(this,We))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||p(this,Su))return this._editToolbar;this._editToolbar=new iN(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,a]of t)await this._editToolbar.addButton(e,a);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=p(this,We))==null||e.destroy()}addContainer(t){var a;const e=(a=this._editToolbar)==null?void 0:a.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return p(this,We)||(r1.initialize(Kt._l10n),D(this,We,new r1(this)),p(this,bu)&&(p(this,We).data=p(this,bu),D(this,bu,null))),p(this,We)}get altTextData(){var t;return(t=p(this,We))==null?void 0:t.data}set altTextData(t){p(this,We)&&(p(this,We).data=t)}get guessedAltText(){var t;return(t=p(this,We))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=p(this,We))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=p(this,We))==null?void 0:e.serialize(t)}hasAltText(){return!!p(this,We)&&!p(this,We).isEmpty()}hasAltTextData(){var t;return((t=p(this,We))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=p(this,Te))==null||t.focusButton()}addCommentButton(){return p(this,Te)||D(this,Te,new Xb(this))}addStandaloneCommentButton(){if(p(this,Rs)){this._uiManager.isEditingMode()&&p(this,Rs).classList.remove("hidden");return}this.hasComment&&(D(this,Rs,p(this,Te).renderForStandalone()),this.div.append(p(this,Rs)))}removeStandaloneCommentButton(){p(this,Te).removeStandaloneCommentButton(),D(this,Rs,null)}hideStandaloneCommentButton(){var t;(t=p(this,Rs))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:a,deleted:r}}=p(this,Te);return{text:e,richText:t,date:a,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){p(this,Te)||D(this,Te,new Xb(this)),p(this,Te).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:a}){if(!e||(p(this,Te)||D(this,Te,new Xb(this)),p(this,Te).setInitialText(t,a),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var t;return(t=p(this,Te))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=p(this,Te))==null?void 0:t.isDeleted()}get hasComment(){return!!p(this,Te)&&!p(this,Te).isEmpty()&&!p(this,Te).isDeleted()}async editComment(t){p(this,Te)||D(this,Te,new Xb(this)),p(this,Te).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){p(this,Te).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[i]=this.pageDimensions,[o]=this.pageTranslation,s=o+i+1,c=r-100,l=s+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,c,l,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){p(this,Te).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=p(this,yp)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),O(this,Ut,wN).call(this);const[e,a]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*a/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/a).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),FW(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,_u)||D(this,_u,new i1({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:O(this,Ut,nK).bind(this),onPinching:O(this,Ut,aK).bind(this),onPinchEnd:O(this,Ut,rK).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=ya.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(D(this,Au,!0),this._isDraggable){O(this,Ut,iK).call(this,t);return}O(this,Ut,bN).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,Mo)&&clearTimeout(p(this,Mo)),D(this,Mo,setTimeout(()=>{var t;D(this,Mo,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,a){t.changeParent(this),this.x=e,this.y=a,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,a=this.rotation){const r=this.parentScale,[i,o]=this.pageDimensions,[s,c]=this.pageTranslation,l=t/r,u=e/r,h=this.x*i,f=this.y*o,y=this.width*i,w=this.height*o;switch(a){case 0:return[h+l+s,o-f-u-w+c,h+l+y+s,o-f-u+c];case 90:return[h+u+s,o-f+l+c,h+u+w+s,o-f+l+y+c];case 180:return[h-l-y+s,o-f+u+c,h-l+s,o-f+u+w+c];case 270:return[h-u-w+s,o-f-l-y+c,h-u+s,o-f-l+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[a,r,i,o]=t,s=i-a,c=o-r;switch(this.rotation){case 0:return[a,e-o,s,c];case 90:return[a,e-r,c,s];case 180:return[i,e-r,s,c];case 270:return[i,e-o,c,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=p(this,Te))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:a,opacity:r,deleted:i,richText:o},uid:s,pageIndex:c,creationDate:l,modificationDate:u}=this;return{id:s,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:t},creationDate:l,modificationDate:a||u,popupRef:!i,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),D(this,Su,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),D(this,Su,!1),!0):!1}isInEditMode(){return p(this,Su)}shouldGetKeyboardEvents(){return p(this,Fs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:a,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return e<o&&r>0&&t<i&&a>0}rebuild(){O(this,Ut,wN).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var a;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((a=this._initialData)==null?void 0:a.popupRef)||""}}static async deserialize(t,e,a){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:a,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,D(r,bu,t.accessibilityData),r._isCopy=t.isCopy||!1;const[i,o]=r.pageDimensions,[s,c,l,u]=r.getRectInCurrentCoords(t.rect,o);return r.x=s/i,r.y=c/o,r.width=l/i,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=p(this,Cl))==null||t.abort(),D(this,Cl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(this,Mo)&&(clearTimeout(p(this,Mo)),D(this,Mo,null)),O(this,Ut,Ng).call(this),this.removeEditToolbar(),p(this,vi)){for(const a of p(this,vi).values())clearTimeout(a);D(this,vi,null)}this.parent=null,(e=p(this,_u))==null||e.destroy(),D(this,_u,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(O(this,Ut,tK).call(this),p(this,sa).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[a,r,i,o]=this.getPDFRect();return[Kt._round(a+(i-a)*t),Kt._round(r+(o-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return p(this,Te).commentPopupPositionInLayer}set commentPopupPosition(t){p(this,Te).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return p(this,Te).hasDefaultPopupPosition()}get commentButtonWidth(){return p(this,Te).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){p(this,Te).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),D(this,Ms,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=p(this,sa).children;if(!p(this,Qi)){D(this,Qi,Array.from(e));const o=O(this,Ut,oK).bind(this),s=O(this,Ut,sK).bind(this),c=this._uiManager._signal;for(const l of p(this,Qi)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o,{signal:c}),l.addEventListener("blur",s,{signal:c}),l.addEventListener("focus",O(this,Ut,cK).bind(this,u),{signal:c}),l.setAttribute("data-l10n-id",Kt._l10nResizer[u])}}const a=p(this,Qi)[0];let r=0;for(const o of e){if(o===a)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(p(this,Qi).length/4);if(i!==r){if(i<r)for(let s=0;s<r-i;s++)p(this,sa).append(p(this,sa).firstChild);else if(i>r)for(let s=0;s<i-r;s++)p(this,sa).firstChild.before(p(this,sa).lastChild);let o=0;for(const s of e){const l=p(this,Qi)[o++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",Kt._l10nResizer[l])}}O(this,Ut,AN).call(this,0),D(this,Fs,!0),p(this,sa).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){p(this,Fs)&&O(this,Ut,vN).call(this,p(this,T0),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){O(this,Ut,Ng).call(this),this.div.focus()}select(){var t,e,a;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(e=this._editToolbar)==null||e.show(),(a=p(this,We))==null||a.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,a,r,i;this.isSelected&&(this.isSelected=!1,(t=p(this,sa))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=p(this,We))==null||i.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(this,D0)}set isEditing(t){D(this,D0,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){p(this,vi)||D(this,vi,new Map);const{action:a}=t;let r=p(this,vi).get(a);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),p(this,vi).delete(a),p(this,vi).size===0&&D(this,vi,null)},Kt._telemetryTimeout),p(this,vi).set(a,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),D(this,yp,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,yp,!0)}updateFakeAnnotationElement(t){if(!p(this,Ro)&&!this.deleted){D(this,Ro,t.addFakeAnnotation(this));return}if(this.deleted){p(this,Ro).remove(),D(this,Ro,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&p(this,Ro).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const a=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),a.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};bu=new WeakMap,Qi=new WeakMap,We=new WeakMap,Te=new WeakMap,Rs=new WeakMap,yp=new WeakMap,kl=new WeakMap,E0=new WeakMap,sa=new WeakMap,wu=new WeakMap,Ms=new WeakMap,Ro=new WeakMap,Cl=new WeakMap,T0=new WeakMap,Au=new WeakMap,Nr=new WeakMap,D0=new WeakMap,Su=new WeakMap,Fs=new WeakMap,Mo=new WeakMap,vp=new WeakMap,bp=new WeakMap,vi=new WeakMap,_u=new WeakMap,N0=new WeakMap,b1=new WeakMap,Ut=new WeakSet,gN=function([t,e],a,r){[a,r]=this.screenToPageTranslation(a,r),this.x+=a/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},B0=new WeakSet,xN=function(t,e,a){switch(a){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},fw=function(t){switch(t){case 90:{const[e,a]=this.pageDimensions;return[0,-e/a,a/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,a]=this.pageDimensions;return[0,e/a,-a/e,0]}default:return[1,0,0,1]}},tK=function(){if(p(this,sa))return;D(this,sa,document.createElement("div")),p(this,sa).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const a of t){const r=document.createElement("div");p(this,sa).append(r),r.classList.add("resizer",a),r.setAttribute("data-resizer-name",a),r.addEventListener("pointerdown",O(this,Ut,eK).bind(this,a),{signal:e}),r.addEventListener("contextmenu",Ni,{signal:e}),r.tabIndex=-1}this.div.prepend(p(this,sa))},eK=function(t,e){var u;e.preventDefault();const{isMac:a}=ya.platform;if(e.button!==0||e.ctrlKey&&a)return;(u=p(this,We))==null||u.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,D(this,wu,[e.screenX,e.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",O(this,Ut,vN).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",pn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ni,{signal:o}),D(this,Ms,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const l=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=p(this,We))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=s,this.div.style.cursor=c,O(this,Ut,gw).call(this)};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})},yN=function(t,e,a,r){this.width=a,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},gw=function(){if(!p(this,Ms))return;const{savedX:t,savedY:e,savedWidth:a,savedHeight:r}=p(this,Ms);D(this,Ms,null);const i=this.x,o=this.y,s=this.width,c=this.height;i===t&&o===e&&s===a&&c===r||this.addCommands({cmd:O(this,Ut,yN).bind(this,i,o,s,c),undo:O(this,Ut,yN).bind(this,t,e,a,r),mustExec:!0})},vN=function(t,e){const[a,r]=this.parentDimensions,i=this.x,o=this.y,s=this.width,c=this.height,l=Kt.MIN_SIZE/a,u=Kt.MIN_SIZE/r,h=O(this,Ut,fw).call(this,this.rotation),f=(Q,W)=>[h[0]*Q+h[2]*W,h[1]*Q+h[3]*W],y=O(this,Ut,fw).call(this,360-this.rotation),w=(Q,W)=>[y[0]*Q+y[2]*W,y[1]*Q+y[3]*W];let v,b,S=!1,_=!1;switch(t){case"topLeft":S=!0,v=(Q,W)=>[0,0],b=(Q,W)=>[Q,W];break;case"topMiddle":v=(Q,W)=>[Q/2,0],b=(Q,W)=>[Q/2,W];break;case"topRight":S=!0,v=(Q,W)=>[Q,0],b=(Q,W)=>[0,W];break;case"middleRight":_=!0,v=(Q,W)=>[Q,W/2],b=(Q,W)=>[0,W/2];break;case"bottomRight":S=!0,v=(Q,W)=>[Q,W],b=(Q,W)=>[0,0];break;case"bottomMiddle":v=(Q,W)=>[Q/2,W],b=(Q,W)=>[Q/2,0];break;case"bottomLeft":S=!0,v=(Q,W)=>[0,W],b=(Q,W)=>[Q,0];break;case"middleLeft":_=!0,v=(Q,W)=>[0,W/2],b=(Q,W)=>[Q,W/2];break}const P=v(s,c),E=b(s,c);let C=f(...E);const T=Kt._round(i+C[0]),B=Kt._round(o+C[1]);let L=1,M=1,U,F;if(e.fromKeyboard)({deltaX:U,deltaY:F}=e);else{const{screenX:Q,screenY:W}=e,[V,tt]=p(this,wu);[U,F]=this.screenToPageTranslation(Q-V,W-tt),p(this,wu)[0]=Q,p(this,wu)[1]=W}if([U,F]=w(U/a,F/r),S){const Q=Math.hypot(s,c);L=M=Math.max(Math.min(Math.hypot(E[0]-P[0]-U,E[1]-P[1]-F)/Q,1/s,1/c),l/s,u/c)}else _?L=Va(Math.abs(E[0]-P[0]-U),l,1)/s:M=Va(Math.abs(E[1]-P[1]-F),u,1)/c;const G=Kt._round(s*L),$=Kt._round(c*M);C=f(...b(G,$));const H=T-C[0],X=B-C[1];p(this,Nr)||D(this,Nr,[this.x,this.y,this.width,this.height]),this.width=G,this.height=$,this.x=H,this.y=X,this.setDims(),this.fixAndSetPosition(),this._onResizing()},nK=function(){var t;D(this,Ms,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=p(this,We))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},aK=function(t,e,a){let i=.7*(a/e)+1-.7;if(i===1)return;const o=O(this,Ut,fw).call(this,this.rotation),s=(T,B)=>[o[0]*T+o[2]*B,o[1]*T+o[3]*B],[c,l]=this.parentDimensions,u=this.x,h=this.y,f=this.width,y=this.height,w=Kt.MIN_SIZE/c,v=Kt.MIN_SIZE/l;i=Math.max(Math.min(i,1/f,1/y),w/f,v/y);const b=Kt._round(f*i),S=Kt._round(y*i);if(b===f&&S===y)return;p(this,Nr)||D(this,Nr,[u,h,f,y]);const _=s(f/2,y/2),P=Kt._round(u+_[0]),E=Kt._round(h+_[1]),C=s(b/2,S/2);this.x=P-C[0],this.y=E-C[1],this.width=b,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},rK=function(){var t;(t=p(this,We))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),O(this,Ut,gw).call(this)},bN=function(t){const{isMac:e}=ya.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},iK=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let a=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:i},s=l=>{r.abort(),D(this,kl,null),D(this,Au,!1),this._uiManager.endDragSession()||O(this,Ut,bN).call(this,l),a&&this._onStopDragging()};e&&(D(this,vp,t.clientX),D(this,bp,t.clientY),D(this,kl,t.pointerId),D(this,E0,t.pointerType),window.addEventListener("pointermove",l=>{a||(a=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:h,pointerId:f}=l;if(f!==p(this,kl)){pn(l);return}const[y,w]=this.screenToPageTranslation(u-p(this,vp),h-p(this,bp));D(this,vp,u),D(this,bp,h),this._uiManager.dragSelectedEditors(y,w)},o),window.addEventListener("touchmove",pn,o),window.addEventListener("pointerdown",l=>{l.pointerType===p(this,E0)&&(p(this,_u)||l.isPrimary)&&s(l),pn(l)},o));const c=l=>{if(!p(this,kl)||p(this,kl)===l.pointerId){s(l);return}pn(l)};window.addEventListener("pointerup",c,{signal:i}),window.addEventListener("blur",c,{signal:i})},wN=function(){if(p(this,Cl)||!this.div)return;D(this,Cl,new AbortController);const t=this._uiManager.combinedSignal(p(this,Cl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},oK=function(t){Kt._resizerKeyboardManager.exec(this,t)},sK=function(t){var e;p(this,Fs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==p(this,sa)&&O(this,Ut,Ng).call(this)},cK=function(t){D(this,T0,p(this,Fs)?t:"")},AN=function(t){if(p(this,Qi))for(const e of p(this,Qi))e.tabIndex=t},Ng=function(){D(this,Fs,!1),O(this,Ut,AN).call(this,-1),O(this,Ut,gw).call(this)},j(Kt,B0),ht(Kt,"_l10n",null),ht(Kt,"_l10nResizer",null),ht(Kt,"_borderLineWidth",-1),ht(Kt,"_colorManager",new cN),ht(Kt,"_zIndex",1),ht(Kt,"_telemetryTimeout",1e3);let Fe=Kt;class r1t extends Fe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const GG=3285377520,li=4294901760,Po=65535;class lK{constructor(t){this.h1=t?t&4294967295:GG,this.h2=t?t&4294967295:GG}update(t){let e,a;if(typeof t=="string"){e=new Uint8Array(t.length*2),a=0;for(let v=0,b=t.length;v<b;v++){const S=t.charCodeAt(v);S<=255?e[a++]=S:(e[a++]=S>>>8,e[a++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),a=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=a>>2,i=a-r*4,o=new Uint32Array(e.buffer,0,r);let s=0,c=0,l=this.h1,u=this.h2;const h=3432918353,f=461845907,y=h&Po,w=f&Po;for(let v=0;v<r;v++)v&1?(s=o[v],s=s*h&li|s*y&Po,s=s<<15|s>>>17,s=s*f&li|s*w&Po,l^=s,l=l<<13|l>>>19,l=l*5+3864292196):(c=o[v],c=c*h&li|c*y&Po,c=c<<15|c>>>17,c=c*f&li|c*w&Po,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(s=0,i){case 3:s^=e[r*4+2]<<16;case 2:s^=e[r*4+1]<<8;case 1:s^=e[r*4],s=s*h&li|s*y&Po,s=s<<15|s>>>17,s=s*f&li|s*w&Po,r&1?l^=s:u^=s}this.h1=l,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&li|t*36045&Po,e=e*4283543511&li|((e<<16|t>>>16)*2950163797&li)>>>16,t^=e>>>1,t=t*444984403&li|t*60499&Po,e=e*3301882366&li|((e<<16|t>>>16)*3120437893&li)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const SN=Object.freeze({map:null,hash:"",transfer:void 0});var Pu,ku,$s,ca,w1,dK;class NO{constructor(){j(this,w1);j(this,Pu,!1);j(this,ku,null);j(this,$s,null);j(this,ca,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const a=p(this,ca).get(t);return a===void 0?e:Object.assign(e,a)}getRawValue(t){return p(this,ca).get(t)}remove(t){const e=p(this,ca).get(t);if(e!==void 0&&(e instanceof Fe&&p(this,$s).delete(e.annotationElementId),p(this,ca).delete(t),p(this,ca).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const a of p(this,ca).values())if(a instanceof Fe)return;this.onAnnotationEditor(null)}}setValue(t,e){const a=p(this,ca).get(t);let r=!1;if(a!==void 0)for(const[i,o]of Object.entries(e))a[i]!==o&&(r=!0,a[i]=o);else r=!0,p(this,ca).set(t,e);r&&O(this,w1,dK).call(this),e instanceof Fe&&((p(this,$s)||D(this,$s,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return p(this,ca).has(t)}get size(){return p(this,ca).size}resetModified(){p(this,Pu)&&(D(this,Pu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uK(this)}get serializable(){if(p(this,ca).size===0)return SN;const t=new Map,e=new lK,a=[],r=Object.create(null);let i=!1;for(const[o,s]of p(this,ca)){const c=s instanceof Fe?s.serialize(!1,r):s;c&&(t.set(o,c),e.update(`${o}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const o of t.values())o.bitmap&&a.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:a}:SN}get editorStats(){let t=null;const e=new Map;let a=0,r=0;for(const i of p(this,ca).values()){if(!(i instanceof Fe)){i.popup&&(i.popup.deleted?r+=1:a+=1);continue}i.isCommentDeleted?r+=1:i.hasEditedComment&&(a+=1);const o=i.telemetryFinalData;if(!o)continue;const{type:s}=o;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const c=t[s]||(t[s]=new Map);for(const[l,u]of Object.entries(o)){if(l==="type")continue;let h=c.get(l);h||(h=new Map,c.set(l,h));const f=h.get(u)??0;h.set(u,f+1)}}if((r>0||a>0)&&(t||(t=Object.create(null)),t.comments={deleted:r,edited:a}),!t)return null;for(const[i,o]of e)t[i]=o.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){D(this,ku,null)}updateEditor(t,e){var r;const a=(r=p(this,$s))==null?void 0:r.get(t);return a?(a.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=p(this,$s))==null?void 0:e.get(t))||null}get modifiedIds(){if(p(this,ku))return p(this,ku);const t=[];if(p(this,$s))for(const e of p(this,$s).values())e.serialize()&&t.push(e.annotationElementId);return D(this,ku,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return p(this,ca).entries()}}Pu=new WeakMap,ku=new WeakMap,$s=new WeakMap,ca=new WeakMap,w1=new WeakSet,dK=function(){p(this,Pu)||(D(this,Pu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var j0;class uK extends NO{constructor(e){super();j(this,j0);const{map:a,hash:r,transfer:i}=e.serializable,o=structuredClone(a,i?{transfer:i}:null);D(this,j0,{map:o,hash:r,transfer:i})}get print(){je("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,j0)}get modifiedIds(){return ee(this,"modifiedIds",{ids:new Set,hash:""})}}j0=new WeakMap;var wp;class i1t{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){j(this,wp,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),p(this,wp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:a}){if(!(!t||p(this,wp).has(t.loadedName))){if(se(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=t,s=new FontFace(r,i,o);this.addNativeFontFace(s);try{await s.load(),p(this,wp).add(r),a==null||a(t)}catch{Wt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}je("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const a=t.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(r){throw Wt(`Failed to load font '${a.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const r=this._queueLoadingCallback(a);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ee(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ee(this,"isSyncFontLoadingSupported",Ha||ya.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(se(!r.done,"completeRequest() cannot be called twice."),r.done=!0;a.length>0&&a[0].done;){const i=a.shift();setTimeout(i.callback,0)}}const{loadingRequests:a}=this,r={done:!1,complete:e,callback:t};return a.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ee(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function a(E,C){return E.charCodeAt(C)<<24|E.charCodeAt(C+1)<<16|E.charCodeAt(C+2)<<8|E.charCodeAt(C+3)&255}function r(E,C,T,B){const L=E.substring(0,C),M=E.substring(C+T);return L+B+M}let i,o;const s=this._document.createElement("canvas");s.width=1,s.height=1;const c=s.getContext("2d");let l=0;function u(E,C){if(++l>30){Wt("Load test font never loaded."),C();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(u.bind(null,E,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const w=16,v=1482184792;let b=a(f,w);for(i=0,o=h.length-3;i<o;i+=4)b=b-v+a(h,i)|0;i<h.length&&(b=b-v+a(h+"XXX",i)|0),f=r(f,w,4,FAt(b));const S=`url(data:font/opentype;base64,${btoa(f)});`,_=`@font-face {font-family:"${h}";src:${S}}`;this.insertRule(_);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const E of[t.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=E,P.append(C)}this._document.body.append(P),u(h,()=>{P.remove(),e.complete()})}}wp=new WeakMap;var Ae;class o1t{constructor(t,e=null,a,r){j(this,Ae);this.compiledGlyphs=Object.create(null),D(this,Ae,t),this._inspectFont=e,a&&Object.assign(this,a),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${NW(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(a=this._inspectFont)==null||a.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const a=this.loadedName+"_path_"+e;let r;try{r=t.get(a)}catch(o){Wt(`getPathGenerator - ignoring character: "${o}".`)}const i=new Path2D(r||"");return this.fontExtraProperties||t.delete(a),this.compiledGlyphs[e]=i}get black(){return p(this,Ae).black}get bold(){return p(this,Ae).bold}get disableFontFace(){return p(this,Ae).disableFontFace??!1}get fontExtraProperties(){return p(this,Ae).fontExtraProperties??!1}get isInvalidPDFjsFont(){return p(this,Ae).isInvalidPDFjsFont}get isType3Font(){return p(this,Ae).isType3Font}get italic(){return p(this,Ae).italic}get missingFile(){return p(this,Ae).missingFile}get remeasure(){return p(this,Ae).remeasure}get vertical(){return p(this,Ae).vertical}get ascent(){return p(this,Ae).ascent}get defaultWidth(){return p(this,Ae).defaultWidth}get descent(){return p(this,Ae).descent}get bbox(){return p(this,Ae).bbox}get fontMatrix(){return p(this,Ae).fontMatrix}get fallbackName(){return p(this,Ae).fallbackName}get loadedName(){return p(this,Ae).loadedName}get mimetype(){return p(this,Ae).mimetype}get name(){return p(this,Ae).name}get data(){return p(this,Ae).data}clearData(){p(this,Ae).clearData()}get cssFontInfo(){return p(this,Ae).cssFontInfo}get systemFontInfo(){return p(this,Ae).systemFontInfo}get defaultVMetrics(){return p(this,Ae).defaultVMetrics}}Ae=new WeakMap;function s1t(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ha)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function c1t(n){if(Ha&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return av(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Yb(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const _N=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,l1t=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",d1t=qAt.bind(null,_N,l1t);var Gs,A1;class u1t{constructor(){j(this,Gs,new Map);j(this,A1,Promise.resolve())}postMessage(t,e){const a={data:structuredClone(t,e?{transfer:e}:null)};p(this,A1).then(()=>{for(const[r]of p(this,Gs))r.call(this,a)})}addEventListener(t,e,a=null){let r=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:i}=a;if(i.aborted){Wt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);r=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}p(this,Gs).set(e,r)}removeEventListener(t,e){const a=p(this,Gs).get(e);a==null||a(),p(this,Gs).delete(e)}terminate(){for(const[,t]of p(this,Gs))t==null||t();p(this,Gs).clear()}}Gs=new WeakMap,A1=new WeakMap;const Qb={DATA:1,ERROR:2},wn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function UG(){}function ir(n){if(n instanceof ud||n instanceof eN||n instanceof OG||n instanceof n1||n instanceof qE)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||je('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ud(n.message);case"InvalidPDFException":return new eN(n.message);case"PasswordException":return new OG(n.message,n.code);case"ResponseException":return new n1(n.message,n.status,n.missing);case"UnknownErrorException":return new qE(n.message,n.details)}return new qE(n.message,n.toString())}var Ap,Ti,mK,hK,pK,xw;class Bg{constructor(t,e,a){j(this,Ti);j(this,Ap,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",O(this,Ti,mK).bind(this),{signal:p(this,Ap).signal})}on(t,e){const a=this.actionHandler;if(a[t])throw new Error(`There is already an actionName called "${t}"`);a[t]=e}send(t,e,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},a)}sendWithPromise(t,e,a){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},a)}catch(o){i.reject(o)}return i.promise}sendWithStream(t,e,a,r){const i=this.streamId++,o=this.sourceName,s=this.targetName,c=this.comObj;return new ReadableStream({start:l=>{const u=Promise.withResolvers();return this.streamControllers[i]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:s,action:t,streamId:i,data:e,desiredSize:l.desiredSize},r),u.promise},pull:l=>{const u=Promise.withResolvers();return this.streamControllers[i].pullCall=u,c.postMessage({sourceName:o,targetName:s,stream:wn.PULL,streamId:i,desiredSize:l.desiredSize}),u.promise},cancel:l=>{se(l instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[i].cancelCall=u,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:s,stream:wn.CANCEL,streamId:i,reason:ir(l)}),u.promise}},a)}destroy(){var t;(t=p(this,Ap))==null||t.abort(),D(this,Ap,null)}}Ap=new WeakMap,Ti=new WeakSet,mK=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){O(this,Ti,pK).call(this,t);return}if(t.callback){const a=t.callbackId,r=this.callbackCapabilities[a];if(!r)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],t.callback===Qb.DATA)r.resolve(t.data);else if(t.callback===Qb.ERROR)r.reject(ir(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const a=this.sourceName,r=t.sourceName,i=this.comObj;Promise.try(e,t.data).then(function(o){i.postMessage({sourceName:a,targetName:r,callback:Qb.DATA,callbackId:t.callbackId,data:o})},function(o){i.postMessage({sourceName:a,targetName:r,callback:Qb.ERROR,callbackId:t.callbackId,reason:ir(o)})});return}if(t.streamId){O(this,Ti,hK).call(this,t);return}e(t.data)},hK=function(t){const e=t.streamId,a=this.sourceName,r=t.sourceName,i=this.comObj,o=this,s=this.actionHandler[t.action],c={enqueue(l,u=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:a,targetName:r,stream:wn.ENQUEUE,streamId:e,chunk:l},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:a,targetName:r,stream:wn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(l){se(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:a,targetName:r,stream:wn.ERROR,streamId:e,reason:ir(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,Promise.try(s,t.data,c).then(function(){i.postMessage({sourceName:a,targetName:r,stream:wn.START_COMPLETE,streamId:e,success:!0})},function(l){i.postMessage({sourceName:a,targetName:r,stream:wn.START_COMPLETE,streamId:e,reason:ir(l)})})},pK=function(t){const e=t.streamId,a=this.sourceName,r=t.sourceName,i=this.comObj,o=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case wn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(ir(t.reason));break;case wn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(ir(t.reason));break;case wn.PULL:if(!s){i.postMessage({sourceName:a,targetName:r,stream:wn.PULL_COMPLETE,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,Promise.try(s.onPull||UG).then(function(){i.postMessage({sourceName:a,targetName:r,stream:wn.PULL_COMPLETE,streamId:e,success:!0})},function(l){i.postMessage({sourceName:a,targetName:r,stream:wn.PULL_COMPLETE,streamId:e,reason:ir(l)})});break;case wn.ENQUEUE:if(se(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case wn.CLOSE:if(se(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),O(this,Ti,xw).call(this,o,e);break;case wn.ERROR:se(o,"error should have stream controller"),o.controller.error(ir(t.reason)),O(this,Ti,xw).call(this,o,e);break;case wn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(ir(t.reason)),O(this,Ti,xw).call(this,o,e);break;case wn.CANCEL:if(!s)break;const c=ir(t.reason);Promise.try(s.onCancel||UG,c).then(function(){i.postMessage({sourceName:a,targetName:r,stream:wn.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){i.postMessage({sourceName:a,targetName:r,stream:wn.CANCEL_COMPLETE,streamId:e,reason:ir(l)})}),s.sinkCapability.reject(c),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},xw=async function(t,e){var a,r,i;await Promise.allSettled([(a=t.startCall)==null?void 0:a.promise,(r=t.pullCall)==null?void 0:r.promise,(i=t.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[e]};var O0;class fK{constructor({enableHWA:t=!1}){j(this,O0,!1);D(this,O0,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(t,e);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!p(this,O0)})}}reset(t,e,a){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||a<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=a}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){je("Abstract method `_createCanvas` called.")}}O0=new WeakMap;class m1t extends fK{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const a=this._document.createElement("canvas");return a.width=t,a.height=e,a}}class gK{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){je("Abstract method `_fetch` called.")}}class zG extends gK{async _fetch(t){const e=await rv(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):av(e)}}class xK{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,a,r,i){return"none"}destroy(t=!1){}}var Cu,Sp,Us,zs,Ea,Eu,Tu,At,Pa,jg,Eh,yw,Th,yK,PN,Dh,Og,Lg,kN,Ig;class h1t extends xK{constructor({docId:e,ownerDocument:a=globalThis.document}){super();j(this,At);j(this,Cu);j(this,Sp);j(this,Us);j(this,zs);j(this,Ea);j(this,Eu);j(this,Tu,0);D(this,zs,e),D(this,Ea,a)}addFilter(e){if(!e)return"none";let a=p(this,At,Pa).get(e);if(a)return a;const[r,i,o]=O(this,At,yw).call(this,e),s=e.length===1?r:`${r}${i}${o}`;if(a=p(this,At,Pa).get(s),a)return p(this,At,Pa).set(e,a),a;const c=`g_${p(this,zs)}_transfer_map_${Bn(this,Tu)._++}`,l=O(this,At,Th).call(this,c);p(this,At,Pa).set(e,l),p(this,At,Pa).set(s,l);const u=O(this,At,Dh).call(this,c);return O(this,At,Lg).call(this,r,i,o,u),l}addHCMFilter(e,a){var w;const r=`${e}-${a}`,i="base";let o=p(this,At,jg).get(i);if((o==null?void 0:o.key)===r||(o?((w=o.filter)==null||w.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},p(this,At,jg).set(i,o)),!e||!a))return o.url;const s=O(this,At,Ig).call(this,e);e=Pt.makeHexColor(...s);const c=O(this,At,Ig).call(this,a);if(a=Pt.makeHexColor(...c),p(this,At,Eh).style.color="",e==="#000000"&&a==="#ffffff"||e===a)return o.url;const l=new Array(256);for(let v=0;v<=255;v++){const b=v/255;l[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=l.join(","),h=`g_${p(this,zs)}_hcm_filter`,f=o.filter=O(this,At,Dh).call(this,h);O(this,At,Lg).call(this,u,u,u,f),O(this,At,PN).call(this,f);const y=(v,b)=>{const S=s[v]/255,_=c[v]/255,P=new Array(b+1);for(let E=0;E<=b;E++)P[E]=S+E/b*(_-S);return P.join(",")};return O(this,At,Lg).call(this,y(0,5),y(1,5),y(2,5),f),o.url=O(this,At,Th).call(this,h),o.url}addAlphaFilter(e){let a=p(this,At,Pa).get(e);if(a)return a;const[r]=O(this,At,yw).call(this,[e]),i=`alpha_${r}`;if(a=p(this,At,Pa).get(i),a)return p(this,At,Pa).set(e,a),a;const o=`g_${p(this,zs)}_alpha_map_${Bn(this,Tu)._++}`,s=O(this,At,Th).call(this,o);p(this,At,Pa).set(e,s),p(this,At,Pa).set(i,s);const c=O(this,At,Dh).call(this,o);return O(this,At,kN).call(this,r,c),s}addLuminosityFilter(e){let a=p(this,At,Pa).get(e||"luminosity");if(a)return a;let r,i;if(e?([r]=O(this,At,yw).call(this,[e]),i=`luminosity_${r}`):i="luminosity",a=p(this,At,Pa).get(i),a)return p(this,At,Pa).set(e,a),a;const o=`g_${p(this,zs)}_luminosity_map_${Bn(this,Tu)._++}`,s=O(this,At,Th).call(this,o);p(this,At,Pa).set(e,s),p(this,At,Pa).set(i,s);const c=O(this,At,Dh).call(this,o);return O(this,At,yK).call(this,c),e&&O(this,At,kN).call(this,r,c),s}addHighlightHCMFilter(e,a,r,i,o){var _;const s=`${a}-${r}-${i}-${o}`;let c=p(this,At,jg).get(e);if((c==null?void 0:c.key)===s||(c?((_=c.filter)==null||_.remove(),c.key=s,c.url="none",c.filter=null):(c={key:s,url:"none",filter:null},p(this,At,jg).set(e,c)),!a||!r))return c.url;const[l,u]=[a,r].map(O(this,At,Ig).bind(this));let h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[y,w]=[i,o].map(O(this,At,Ig).bind(this));f<h&&([h,f,y,w]=[f,h,w,y]),p(this,At,Eh).style.color="";const v=(P,E,C)=>{const T=new Array(256),B=(f-h)/C,L=P/255,M=(E-P)/(255*C);let U=0;for(let F=0;F<=C;F++){const G=Math.round(h+F*B),$=L+F*M;for(let H=U;H<=G;H++)T[H]=$;U=G+1}for(let F=U;F<256;F++)T[F]=T[U-1];return T.join(",")},b=`g_${p(this,zs)}_hcm_${e}_filter`,S=c.filter=O(this,At,Dh).call(this,b);return O(this,At,PN).call(this,S),O(this,At,Lg).call(this,v(y[0],w[0],5),v(y[1],w[1],5),v(y[2],w[2],5),S),c.url=O(this,At,Th).call(this,b),c.url}destroy(e=!1){var a,r,i,o;e&&((a=p(this,Eu))!=null&&a.size)||((r=p(this,Us))==null||r.parentNode.parentNode.remove(),D(this,Us,null),(i=p(this,Sp))==null||i.clear(),D(this,Sp,null),(o=p(this,Eu))==null||o.clear(),D(this,Eu,null),D(this,Tu,0))}}Cu=new WeakMap,Sp=new WeakMap,Us=new WeakMap,zs=new WeakMap,Ea=new WeakMap,Eu=new WeakMap,Tu=new WeakMap,At=new WeakSet,Pa=function(){return p(this,Sp)||D(this,Sp,new Map)},jg=function(){return p(this,Eu)||D(this,Eu,new Map)},Eh=function(){if(!p(this,Us)){const e=p(this,Ea).createElement("div"),{style:a}=e;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const r=p(this,Ea).createElementNS(_s,"svg");r.setAttribute("width",0),r.setAttribute("height",0),D(this,Us,p(this,Ea).createElementNS(_s,"defs")),e.append(r),r.append(p(this,Us)),p(this,Ea).body.append(e)}return p(this,Us)},yw=function(e){if(e.length===1){const l=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=l[f]/255;const h=u.join(",");return[h,h,h]}const[a,r,i]=e,o=new Array(256),s=new Array(256),c=new Array(256);for(let l=0;l<256;l++)o[l]=a[l]/255,s[l]=r[l]/255,c[l]=i[l]/255;return[o.join(","),s.join(","),c.join(",")]},Th=function(e){if(p(this,Cu)===void 0){D(this,Cu,"");const a=p(this,Ea).URL;a!==p(this,Ea).baseURI&&(AS(a)?Wt('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,Cu,EW(a,"")))}return`url(${p(this,Cu)}#${e})`},yK=function(e){const a=p(this,Ea).createElementNS(_s,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(a)},PN=function(e){const a=p(this,Ea).createElementNS(_s,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(a)},Dh=function(e){const a=p(this,Ea).createElementNS(_s,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",e),p(this,At,Eh).append(a),a},Og=function(e,a,r){const i=p(this,Ea).createElementNS(_s,a);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)},Lg=function(e,a,r,i){const o=p(this,Ea).createElementNS(_s,"feComponentTransfer");i.append(o),O(this,At,Og).call(this,o,"feFuncR",e),O(this,At,Og).call(this,o,"feFuncG",a),O(this,At,Og).call(this,o,"feFuncB",r)},kN=function(e,a){const r=p(this,Ea).createElementNS(_s,"feComponentTransfer");a.append(r),O(this,At,Og).call(this,r,"feFuncA",e)},Ig=function(e){return p(this,At,Eh).style.color=e,ov(getComputedStyle(p(this,At,Eh)).getPropertyValue("color"))};class vK{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(a=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){je("Abstract method `_fetch` called.")}}class qG extends vK{async _fetch(t){const e=await rv(t,"arraybuffer");return new Uint8Array(e)}}class bK{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(a=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){je("Abstract method `_fetch` called.")}}class HG extends bK{async _fetch(t){const e=await rv(t,"arraybuffer");return new Uint8Array(e)}}Ha&&Wt("Please use the `legacy` build in Node.js environments.");async function BO(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class p1t extends xK{}class f1t extends fK{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class g1t extends gK{async _fetch(t){return BO(t)}}class x1t extends vK{async _fetch(t){return BO(t)}}class y1t extends bK{async _fetch(t){return BO(t)}}const Sh="__forcedDependency",{floor:VG,ceil:WG}=Math;function Jb(n,t,e,a,r,i){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],a),n[t*4+2]=Math.max(n[t*4+2],r),n[t*4+3]=Math.max(n[t*4+3],i)}const CN=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var _p,El;class v1t{constructor(t,e){j(this,_p);j(this,El);D(this,_p,t),D(this,El,e)}get length(){return p(this,_p).length}isEmpty(t){return p(this,_p)[t]===CN}minX(t){return p(this,El)[t*4+0]/256}minY(t){return p(this,El)[t*4+1]/256}maxX(t){return(p(this,El)[t*4+2]+1)/256}maxY(t){return(p(this,El)[t*4+3]+1)/256}}_p=new WeakMap,El=new WeakMap;const Zb=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};var cr,lr,Du,Ji,Nu,qs,we,Se,Hs,dr,L0,Pp,Bu,ju,Vs,Ta,Fo,I0,EN;class b1t{constructor(t,e,a=!1){j(this,I0);j(this,cr,{__proto__:null});j(this,lr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Sh]:[]});j(this,Du,new Map);j(this,Ji,[]);j(this,Nu,[]);j(this,qs,[[1,0,0,1,0,0]]);j(this,we,[-1/0,-1/0,1/0,1/0]);j(this,Se,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,Hs,-1);j(this,dr,new Set);j(this,L0,new Map);j(this,Pp,new Map);j(this,Bu);j(this,ju);j(this,Vs);j(this,Ta);j(this,Fo);D(this,Bu,t.width),D(this,ju,t.height),O(this,I0,EN).call(this,e),a&&D(this,Fo,new Map)}growOperationsCount(t){t>=p(this,Ta).length&&O(this,I0,EN).call(this,t,p(this,Ta))}save(t){return D(this,cr,{__proto__:p(this,cr)}),D(this,lr,{__proto__:p(this,lr),transform:{__proto__:p(this,lr).transform},moveText:{__proto__:p(this,lr).moveText},sameLineText:{__proto__:p(this,lr).sameLineText},[Sh]:{__proto__:p(this,lr)[Sh]}}),D(this,we,{__proto__:p(this,we)}),p(this,Ji).push(t),this}restore(t){var r;const e=Object.getPrototypeOf(p(this,cr));if(e===null)return this;D(this,cr,e),D(this,lr,Object.getPrototypeOf(p(this,lr))),D(this,we,Object.getPrototypeOf(p(this,we)));const a=p(this,Ji).pop();return a!==void 0&&((r=Zb(p(this,Fo),t))==null||r.dependencies.add(a),p(this,Ta)[t]=p(this,Ta)[a]),this}recordOpenMarker(t){return p(this,Ji).push(t),this}getOpenMarker(){return p(this,Ji).length===0?null:p(this,Ji).at(-1)}recordCloseMarker(t){var a;const e=p(this,Ji).pop();return e!==void 0&&((a=Zb(p(this,Fo),t))==null||a.dependencies.add(e),p(this,Ta)[t]=p(this,Ta)[e]),this}beginMarkedContent(t){return p(this,Nu).push(t),this}endMarkedContent(t){var a;const e=p(this,Nu).pop();return e!==void 0&&((a=Zb(p(this,Fo),t))==null||a.dependencies.add(e),p(this,Ta)[t]=p(this,Ta)[e]),this}pushBaseTransform(t){return p(this,qs).push(Pt.multiplyByDOMMatrix(p(this,qs).at(-1),t.getTransform())),this}popBaseTransform(){return p(this,qs).length>1&&p(this,qs).pop(),this}recordSimpleData(t,e){return p(this,cr)[t]=e,this}recordIncrementalData(t,e){return p(this,lr)[t].push(e),this}resetIncrementalData(t,e){return p(this,lr)[t].length=0,this}recordNamedData(t,e){return p(this,Du).set(t,e),this}recordSimpleDataFromNamed(t,e,a){p(this,cr)[t]=p(this,Du).get(e)??a}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Sh,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in p(this,cr)&&this.recordFutureForcedDependency(e,p(this,cr)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of p(this,dr))this.recordFutureForcedDependency(Sh,t);return this}resetBBox(t){return p(this,Hs)!==t&&(D(this,Hs,t),p(this,Se)[0]=1/0,p(this,Se)[1]=1/0,p(this,Se)[2]=-1/0,p(this,Se)[3]=-1/0),this}recordClipBox(t,e,a,r,i,o){const s=Pt.multiplyByDOMMatrix(p(this,qs).at(-1),e.getTransform()),c=[1/0,1/0,-1/0,-1/0];Pt.axialAlignedBoundingBox([a,i,r,o],s,c);const l=Pt.intersect(p(this,we),c);return l?(p(this,we)[0]=l[0],p(this,we)[1]=l[1],p(this,we)[2]=l[2],p(this,we)[3]=l[3]):(p(this,we)[0]=p(this,we)[1]=1/0,p(this,we)[2]=p(this,we)[3]=-1/0),this}recordBBox(t,e,a,r,i,o){const s=p(this,we);if(s[0]===1/0)return this;const c=Pt.multiplyByDOMMatrix(p(this,qs).at(-1),e.getTransform());if(s[0]===-1/0)return Pt.axialAlignedBoundingBox([a,i,r,o],c,p(this,Se)),this;const l=[1/0,1/0,-1/0,-1/0];return Pt.axialAlignedBoundingBox([a,i,r,o],c,l),p(this,Se)[0]=Math.min(p(this,Se)[0],Math.max(l[0],s[0])),p(this,Se)[1]=Math.min(p(this,Se)[1],Math.max(l[1],s[1])),p(this,Se)[2]=Math.max(p(this,Se)[2],Math.min(l[2],s[2])),p(this,Se)[3]=Math.max(p(this,Se)[3],Math.min(l[3],s[3])),this}recordCharacterBBox(t,e,a,r=1,i=0,o=0,s){const c=a.bbox;let l,u;if(c&&(l=c[2]!==c[0]&&c[3]!==c[1]&&p(this,Pp).get(a),l!==!1&&(u=[0,0,0,0],Pt.axialAlignedBoundingBox(c,a.fontMatrix,u),(r!==1||i!==0||o!==0)&&Pt.scaleMinMax([r,0,0,-r,i,o],u),l)))return this.recordBBox(t,e,u[0],u[2],u[1],u[3]);if(!s)return this.recordFullPageBBox(t);const h=s();return c&&u&&l===void 0&&(l=u[0]<=i-h.actualBoundingBoxLeft&&u[2]>=i+h.actualBoundingBoxRight&&u[1]<=o-h.actualBoundingBoxAscent&&u[3]>=o+h.actualBoundingBoxDescent,p(this,Pp).set(a,l),l)?this.recordBBox(t,e,u[0],u[2],u[1],u[3]):this.recordBBox(t,e,i-h.actualBoundingBoxLeft,i+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(t){return p(this,Se)[0]=Math.max(0,p(this,we)[0]),p(this,Se)[1]=Math.max(0,p(this,we)[1]),p(this,Se)[2]=Math.min(p(this,Bu),p(this,we)[2]),p(this,Se)[3]=Math.min(p(this,ju),p(this,we)[3]),this}getSimpleIndex(t){return p(this,cr)[t]}recordDependencies(t,e){const a=p(this,dr),r=p(this,cr),i=p(this,lr);for(const o of e)o in p(this,cr)?a.add(r[o]):o in i&&i[o].forEach(a.add,a);return this}recordNamedDependency(t,e){return p(this,Du).has(e)&&p(this,dr).add(p(this,Du).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Sh]),p(this,Fo)){const a=Zb(p(this,Fo),t),{dependencies:r}=a;p(this,dr).forEach(r.add,r),p(this,Ji).forEach(r.add,r),p(this,Nu).forEach(r.add,r),r.delete(t),a.isRenderingOperation=!0}if(p(this,Hs)===t){const a=VG(p(this,Se)[0]*256/p(this,Bu)),r=VG(p(this,Se)[1]*256/p(this,ju)),i=WG(p(this,Se)[2]*256/p(this,Bu)),o=WG(p(this,Se)[3]*256/p(this,ju));Jb(p(this,Vs),t,a,r,i,o);for(const s of p(this,dr))s!==t&&Jb(p(this,Vs),s,a,r,i,o);for(const s of p(this,Ji))s!==t&&Jb(p(this,Vs),s,a,r,i,o);for(const s of p(this,Nu))s!==t&&Jb(p(this,Vs),s,a,r,i,o);e||(p(this,dr).clear(),D(this,Hs,-1))}return this}recordShowTextOperation(t,e=!1){const a=Array.from(p(this,dr));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of a)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return p(this,Hs)===t&&(D(this,Hs,-1),p(this,we)[0]=Math.max(p(this,we)[0],p(this,Se)[0]),p(this,we)[1]=Math.max(p(this,we)[1],p(this,Se)[1]),p(this,we)[2]=Math.min(p(this,we)[2],p(this,Se)[2]),p(this,we)[3]=Math.min(p(this,we)[3],p(this,Se)[3]),e||p(this,dr).clear()),this}_takePendingDependencies(){const t=p(this,dr);return D(this,dr,new Set),t}_extractOperation(t){const e=p(this,L0).get(t);return p(this,L0).delete(t),e}_pushPendingDependencies(t){for(const e of t)p(this,dr).add(e)}take(){return p(this,Pp).clear(),new v1t(p(this,Ta),p(this,Vs))}takeDebugMetadata(){return p(this,Fo)}}cr=new WeakMap,lr=new WeakMap,Du=new WeakMap,Ji=new WeakMap,Nu=new WeakMap,qs=new WeakMap,we=new WeakMap,Se=new WeakMap,Hs=new WeakMap,dr=new WeakMap,L0=new WeakMap,Pp=new WeakMap,Bu=new WeakMap,ju=new WeakMap,Vs=new WeakMap,Ta=new WeakMap,Fo=new WeakMap,I0=new WeakSet,EN=function(t,e){const a=new ArrayBuffer(t*4);D(this,Vs,new Uint8ClampedArray(a)),D(this,Ta,new Uint32Array(a)),e&&e.length>0?(p(this,Ta).set(e),p(this,Ta).fill(CN,e.length)):p(this,Ta).fill(CN)};var De,ln,Zi,kp,Cp;const UO=class UO{constructor(t,e,a){j(this,De);j(this,ln);j(this,Zi);j(this,kp,0);j(this,Cp,0);if(t instanceof UO&&p(t,Zi)===!!a)return t;D(this,De,t),D(this,ln,e),D(this,Zi,!!a)}growOperationsCount(){throw new Error("Unreachable")}save(t){return Bn(this,Cp)._++,p(this,De).save(p(this,ln)),this}restore(t){return p(this,Cp)>0&&(p(this,De).restore(p(this,ln)),Bn(this,Cp)._--),this}recordOpenMarker(t){return Bn(this,kp)._++,this}getOpenMarker(){return p(this,kp)>0?p(this,ln):p(this,De).getOpenMarker()}recordCloseMarker(t){return Bn(this,kp)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return p(this,De).pushBaseTransform(t),this}popBaseTransform(){return p(this,De).popBaseTransform(),this}recordSimpleData(t,e){return p(this,De).recordSimpleData(t,p(this,ln)),this}recordIncrementalData(t,e){return p(this,De).recordIncrementalData(t,p(this,ln)),this}resetIncrementalData(t,e){return p(this,De).resetIncrementalData(t,p(this,ln)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,a){return p(this,De).recordSimpleDataFromNamed(t,e,p(this,ln)),this}recordFutureForcedDependency(t,e){return p(this,De).recordFutureForcedDependency(t,p(this,ln)),this}inheritSimpleDataAsFutureForcedDependencies(t){return p(this,De).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return p(this,De).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return p(this,Zi)||p(this,De).resetBBox(p(this,ln)),this}recordClipBox(t,e,a,r,i,o){return p(this,Zi)||p(this,De).recordClipBox(p(this,ln),e,a,r,i,o),this}recordBBox(t,e,a,r,i,o){return p(this,Zi)||p(this,De).recordBBox(p(this,ln),e,a,r,i,o),this}recordCharacterBBox(t,e,a,r,i,o,s){return p(this,Zi)||p(this,De).recordCharacterBBox(p(this,ln),e,a,r,i,o,s),this}recordFullPageBBox(t){return p(this,Zi)||p(this,De).recordFullPageBBox(p(this,ln)),this}getSimpleIndex(t){return p(this,De).getSimpleIndex(t)}recordDependencies(t,e){return p(this,De).recordDependencies(p(this,ln),e),this}recordNamedDependency(t,e){return p(this,De).recordNamedDependency(p(this,ln),e),this}recordOperation(t){return p(this,De).recordOperation(p(this,ln),!0),this}recordShowTextOperation(t){return p(this,De).recordShowTextOperation(p(this,ln),!0),this}bboxToClipBoxDropOperation(t){return p(this,Zi)||p(this,De).bboxToClipBoxDropOperation(p(this,ln),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};De=new WeakMap,ln=new WeakMap,Zi=new WeakMap,kp=new WeakMap,Cp=new WeakMap;let o1=UO;const di={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ha={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function TN(n,t){if(!t)return;const e=t[2]-t[0],a=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,a),n.clip(r)}class jO{isModifyingCurrentTransform(){return!1}getPattern(){je("Abstract method `getPattern` called.")}}class w1t extends jO{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)e.addColorStop(a[0],a[1]);return e}getPattern(t,e,a,r){let i;if(r===ha.STROKE||r===ha.FILL){const o=e.current.getClippedPathBoundingBox(r,tn(t))||[0,0,0,0],s=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,l=e.cachedCanvases.getCanvas("pattern",s,c),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),a=Pt.transform(a,[1,0,0,1,o[0],o[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),TN(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),i=t.createPattern(l.canvas,"no-repeat");const h=new DOMMatrix(a);i.setTransform(h)}else TN(t,this._bbox),i=this._createGradient(t);return i}}function WE(n,t,e,a,r,i,o,s){const c=t.coords,l=t.colors,u=n.data,h=n.width*4;let f;c[e+1]>c[a+1]&&(f=e,e=a,a=f,f=i,i=o,o=f),c[a+1]>c[r+1]&&(f=a,a=r,r=f,f=o,o=s,s=f),c[e+1]>c[a+1]&&(f=e,e=a,a=f,f=i,i=o,o=f);const y=(c[e]+t.offsetX)*t.scaleX,w=(c[e+1]+t.offsetY)*t.scaleY,v=(c[a]+t.offsetX)*t.scaleX,b=(c[a+1]+t.offsetY)*t.scaleY,S=(c[r]+t.offsetX)*t.scaleX,_=(c[r+1]+t.offsetY)*t.scaleY;if(w>=_)return;const P=l[i],E=l[i+1],C=l[i+2],T=l[o],B=l[o+1],L=l[o+2],M=l[s],U=l[s+1],F=l[s+2],G=Math.round(w),$=Math.round(_);let H,X,Q,W,V,tt,nt,z;for(let K=G;K<=$;K++){if(K<b){const bt=K<w?0:(w-K)/(w-b);H=y-(y-v)*bt,X=P-(P-T)*bt,Q=E-(E-B)*bt,W=C-(C-L)*bt}else{let bt;K>_?bt=1:b===_?bt=0:bt=(b-K)/(b-_),H=v-(v-S)*bt,X=T-(T-M)*bt,Q=B-(B-U)*bt,W=L-(L-F)*bt}let it;K<w?it=0:K>_?it=1:it=(w-K)/(w-_),V=y-(y-S)*it,tt=P-(P-M)*it,nt=E-(E-U)*it,z=C-(C-F)*it;const ft=Math.round(Math.min(H,V)),ct=Math.round(Math.max(H,V));let yt=h*K+ft*4;for(let bt=ft;bt<=ct;bt++)it=(H-bt)/(H-V),it<0?it=0:it>1&&(it=1),u[yt++]=X-(X-tt)*it|0,u[yt++]=Q-(Q-nt)*it|0,u[yt++]=W-(W-z)*it|0,u[yt++]=255}}function A1t(n,t,e){const a=t.coords,r=t.colors;let i,o;switch(t.type){case"lattice":const s=t.verticesPerRow,c=Math.floor(a.length/s)-1,l=s-1;for(i=0;i<c;i++){let u=i*s;for(let h=0;h<l;h++,u++)WE(n,e,a[u],a[u+1],a[u+s],r[u],r[u+1],r[u+s]),WE(n,e,a[u+s+1],a[u+1],a[u+s],r[u+s+1],r[u+1],r[u+s])}break;case"triangles":for(i=0,o=a.length;i<o;i+=3)WE(n,e,a[i],a[i+1],a[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class S1t extends jO{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,a){const s=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-s,u=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(l*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),y=l/h,w=u/f,v={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-c,scaleX:1/y,scaleY:1/w},b=h+2*2,S=f+2*2,_=a.getCanvas("mesh",b,S),P=_.context,E=P.createImageData(h,f);if(e){const T=E.data;for(let B=0,L=T.length;B<L;B+=4)T[B]=e[0],T[B+1]=e[1],T[B+2]=e[2],T[B+3]=255}for(const T of this._figures)A1t(E,T,v);return P.putImageData(E,2,2),{canvas:_.canvas,offsetX:s-2*y,offsetY:c-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,a,r){TN(t,this._bbox);const i=new Float32Array(2);if(r===ha.SHADING)Pt.singularValueDecompose2dScale(tn(t),i);else if(this.matrix){Pt.singularValueDecompose2dScale(this.matrix,i);const[s,c]=i;Pt.singularValueDecompose2dScale(e.baseTransform,i),i[0]*=s,i[1]*=c}else Pt.singularValueDecompose2dScale(e.baseTransform,i);const o=this._createMeshCanvas(i,r===ha.SHADING?null:this._background,e.cachedCanvases);return r!==ha.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class _1t extends jO{getPattern(){return"hotpink"}}function P1t(n){switch(n[0]){case"RadialAxial":return new w1t(n);case"Mesh":return new S1t(n);case"Dummy":return new _1t}throw new Error(`Unknown IR type: ${n[0]}`)}const KG={COLORED:1,UNCOLORED:2},S1=class S1{constructor(t,e,a,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=a,this.baseTransform=r}createPatternCanvas(t,e){var tt,nt;const{bbox:a,operatorList:r,paintType:i,tilingType:o,color:s,canvasGraphicsFactory:c}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),wS("TilingType: "+o);const h=a[0],f=a[1],y=a[2],w=a[3],v=y-h,b=w-f,S=new Float32Array(2);Pt.singularValueDecompose2dScale(this.matrix,S);const[_,P]=S;Pt.singularValueDecompose2dScale(this.baseTransform,S);const E=_*S[0],C=P*S[1];let T=v,B=b,L=!1,M=!1;const U=Math.ceil(l*E),F=Math.ceil(u*C),G=Math.ceil(v*E),$=Math.ceil(b*C);U>=G?T=l:L=!0,F>=$?B=u:M=!0;const H=this.getSizeAndScale(T,this.ctx.canvas.width,E),X=this.getSizeAndScale(B,this.ctx.canvas.height,C),Q=t.cachedCanvases.getCanvas("pattern",H.size,X.size),W=Q.context,V=c.createCanvasGraphics(W,e);if(V.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(V,i,s),W.translate(-H.scale*h,-X.scale*f),V.transform(0,H.scale,0,0,X.scale,0,0),W.save(),(tt=V.dependencyTracker)==null||tt.save(),this.clipBbox(V,h,f,y,w),V.baseTransform=tn(V.ctx),V.executeOperatorList(r),V.endDrawing(),(nt=V.dependencyTracker)==null||nt.restore(),W.restore(),L||M){const z=Q.canvas;L&&(T=l),M&&(B=u);const K=this.getSizeAndScale(T,this.ctx.canvas.width,E),it=this.getSizeAndScale(B,this.ctx.canvas.height,C),ft=K.size,ct=it.size,yt=t.cachedCanvases.getCanvas("pattern-workaround",ft,ct),bt=yt.context,Gt=L?Math.floor(v/l):0,ut=M?Math.floor(b/u):0;for(let Et=0;Et<=Gt;Et++)for(let Rt=0;Rt<=ut;Rt++)bt.drawImage(z,ft*Et,ct*Rt,ft,ct,0,0,ft,ct);return{canvas:yt.canvas,scaleX:K.scale,scaleY:it.scale,offsetX:h,offsetY:f}}return{canvas:Q.canvas,scaleX:H.scale,scaleY:X.scale,offsetX:h,offsetY:f}}getSizeAndScale(t,e,a){const r=Math.max(S1.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*a);return i>=r?i=r:a=i/t,{scale:a,size:i}}clipBbox(t,e,a,r,i){const o=r-e,s=i-a;t.ctx.rect(e,a,o,s),Pt.axialAlignedBoundingBox([e,a,r,i],tn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,a){const r=t.ctx,i=t.current;switch(e){case KG.COLORED:const{fillStyle:o,strokeStyle:s}=this.ctx;r.fillStyle=i.fillColor=o,r.strokeStyle=i.strokeColor=s;break;case KG.UNCOLORED:r.fillStyle=r.strokeStyle=a,i.fillColor=i.strokeColor=a;break;default:throw new MAt(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,a,r,i){let o=a;r!==ha.SHADING&&(o=Pt.transform(o,e.baseTransform),this.matrix&&(o=Pt.transform(o,this.matrix)));const s=this.createPatternCanvas(e,i);let c=new DOMMatrix(o);c=c.translate(s.offsetX,s.offsetY),c=c.scale(1/s.scaleX,1/s.scaleY);const l=t.createPattern(s.canvas,"repeat");return l.setTransform(c),l}};ht(S1,"MAX_PATTERN_SIZE",3e3);let DN=S1;function k1t({src:n,srcPos:t=0,dest:e,width:a,height:r,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const s=ya.isLittleEndian?4278190080:255,[c,l]=o?[i,s]:[s,i],u=a>>3,h=a&7,f=n.length;e=new Uint32Array(e.buffer);let y=0;for(let w=0;w<r;w++){for(const b=t+u;t<b;t++){const S=t<f?n[t]:255;e[y++]=S&128?l:c,e[y++]=S&64?l:c,e[y++]=S&32?l:c,e[y++]=S&16?l:c,e[y++]=S&8?l:c,e[y++]=S&4?l:c,e[y++]=S&2?l:c,e[y++]=S&1?l:c}if(h===0)continue;const v=t<f?n[t++]:255;for(let b=0;b<h;b++)e[y++]=v&1<<7-b?l:c}return{srcPos:t,destPos:y}}const XG=16,YG=100,C1t=15,QG=10,pr=16,KE=new DOMMatrix,Kr=new Float32Array(2),zh=new Float32Array([1/0,1/0,-1/0,-1/0]);function E1t(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,a){t.translate(e,a),this.__originalTranslate(e,a)},n.scale=function(e,a){t.scale(e,a),this.__originalScale(e,a)},n.transform=function(e,a,r,i,o,s){t.transform(e,a,r,i,o,s),this.__originalTransform(e,a,r,i,o,s)},n.setTransform=function(e,a,r,i,o,s){t.setTransform(e,a,r,i,o,s),this.__originalSetTransform(e,a,r,i,o,s)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,a){t.moveTo(e,a),this.__originalMoveTo(e,a)},n.lineTo=function(e,a){t.lineTo(e,a),this.__originalLineTo(e,a)},n.bezierCurveTo=function(e,a,r,i,o,s){t.bezierCurveTo(e,a,r,i,o,s),this.__originalBezierCurveTo(e,a,r,i,o,s)},n.rect=function(e,a,r,i){t.rect(e,a,r,i),this.__originalRect(e,a,r,i)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class T1t{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,a){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,a)):(r=this.canvasFactory.create(e,a),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function tw(n,t,e,a,r,i,o,s,c,l){const[u,h,f,y,w,v]=tn(n);if(h===0&&f===0){const _=o*u+w,P=Math.round(_),E=s*y+v,C=Math.round(E),T=(o+c)*u+w,B=Math.abs(Math.round(T)-P)||1,L=(s+l)*y+v,M=Math.abs(Math.round(L)-C)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(y),P,C),n.drawImage(t,e,a,r,i,0,0,B,M),n.setTransform(u,h,f,y,w,v),[B,M]}if(u===0&&y===0){const _=s*f+w,P=Math.round(_),E=o*h+v,C=Math.round(E),T=(s+l)*f+w,B=Math.abs(Math.round(T)-P)||1,L=(o+c)*h+v,M=Math.abs(Math.round(L)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,P,C),n.drawImage(t,e,a,r,i,0,0,M,B),n.setTransform(u,h,f,y,w,v),[M,B]}n.drawImage(t,e,a,r,i,o,s,c,l);const b=Math.hypot(u,h),S=Math.hypot(f,y);return[b*c,S*l]}class JG{constructor(t,e,a){ht(this,"alphaIsShape",!1);ht(this,"fontSize",0);ht(this,"fontSizeScale",1);ht(this,"textMatrix",null);ht(this,"textMatrixScale",1);ht(this,"fontMatrix",tN);ht(this,"leading",0);ht(this,"x",0);ht(this,"y",0);ht(this,"lineX",0);ht(this,"lineY",0);ht(this,"charSpacing",0);ht(this,"wordSpacing",0);ht(this,"textHScale",1);ht(this,"textRenderingMode",ia.FILL);ht(this,"textRise",0);ht(this,"fillColor","#000000");ht(this,"strokeColor","#000000");ht(this,"patternFill",!1);ht(this,"patternStroke",!1);ht(this,"fillAlpha",1);ht(this,"strokeAlpha",1);ht(this,"lineWidth",1);ht(this,"activeSMask",null);ht(this,"transferMaps","none");a==null||a(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=zh.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ha.FILL,e=null){const a=this.minMax.slice();if(t===ha.STROKE){e||je("Stroke bounding box must include transform."),Pt.singularValueDecompose2dScale(e,Kr);const r=Kr[0]*this.lineWidth/2,i=Kr[1]*this.lineWidth/2;a[0]-=r,a[1]-=i,a[2]+=r,a[3]+=i}return a}updateClipFromPath(){const t=Pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(zh,0)}getClippedPathBoundingBox(t=ha.FILL,e=null){return Pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ZG(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,a=t.width,r=e%pr,i=(e-r)/pr,o=r===0?i:i+1,s=n.createImageData(a,pr);let c=0,l;const u=t.data,h=s.data;let f,y,w,v;if(t.kind===dw.GRAYSCALE_1BPP){const b=u.byteLength,S=new Uint32Array(h.buffer,0,h.byteLength>>2),_=S.length,P=a+7>>3,E=4294967295,C=ya.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(w=f<i?pr:r,l=0,y=0;y<w;y++){const T=b-c;let B=0;const L=T>P?a:T*8-7,M=L&-8;let U=0,F=0;for(;B<M;B+=8)F=u[c++],S[l++]=F&128?E:C,S[l++]=F&64?E:C,S[l++]=F&32?E:C,S[l++]=F&16?E:C,S[l++]=F&8?E:C,S[l++]=F&4?E:C,S[l++]=F&2?E:C,S[l++]=F&1?E:C;for(;B<L;B++)U===0&&(F=u[c++],U=128),S[l++]=F&U?E:C,U>>=1}for(;l<_;)S[l++]=0;n.putImageData(s,0,f*pr)}}else if(t.kind===dw.RGBA_32BPP){for(y=0,v=a*pr*4,f=0;f<i;f++)h.set(u.subarray(c,c+v)),c+=v,n.putImageData(s,0,y),y+=pr;f<o&&(v=a*r*4,h.set(u.subarray(c,c+v)),n.putImageData(s,0,y))}else if(t.kind===dw.RGB_24BPP)for(w=pr,v=a*w,f=0;f<o;f++){for(f>=i&&(w=r,v=a*w),l=0,y=v;y--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;n.putImageData(s,0,f*pr)}else throw new Error(`bad image kind: ${t.kind}`)}function tU(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,a=t.width,r=e%pr,i=(e-r)/pr,o=r===0?i:i+1,s=n.createImageData(a,pr);let c=0;const l=t.data,u=s.data;for(let h=0;h<o;h++){const f=h<i?pr:r;({srcPos:c}=k1t({src:l,srcPos:c,dest:u,width:a,height:f,nonBlackColor:0})),n.putImageData(s,0,h*pr)}}function gg(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of e)n[a]!==void 0&&(t[a]=n[a]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function ew(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function eU(n,t){if(t)return!0;Pt.singularValueDecompose2dScale(n,Kr);const e=Math.fround(us.pixelRatio*md.PDF_TO_CSS_UNITS);return Kr[0]<=e&&Kr[1]<=e}const D1t=["butt","round","square"],N1t=["miter","round","bevel"],B1t={},nU={};var fo,NN,BN,jN;const zO=class zO{constructor(t,e,a,r,i,{optionalContentConfig:o,markedContentStack:s=null},c,l,u){j(this,fo);this.ctx=t,this.current=new JG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=a,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=o,this.cachedCanvases=new T1t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(t,e,a=null){var r;return typeof e=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):a}beginDrawing({transform:t,viewport:e,transparency:a=!1,background:r=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=s,a){const c=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...tn(this.compositeCtx))}this.ctx.save(),ew(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=tn(this.ctx)}executeOperatorList(t,e,a,r,i){var S;const o=t.argsArray,s=t.fnArray;let c=e||0;const l=o.length;if(l===c)return c;const u=l-c>QG&&typeof a=="function",h=u?Date.now()+C1t:0;let f=0;const y=this.commonObjs,w=this.objs;let v,b;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,a),c;if(!i||i(c))if(v=s[c],b=o[c]??null,v!==n0.dependency)b===null?this[v](c):this[v](c,...b);else for(const _ of b){(S=this.dependencyTracker)==null||S.recordNamedData(_,c);const P=_.startsWith("g_")?y:w;if(!P.has(_))return P.get(_,a),c}if(c++,c===l)return c;if(u&&++f>QG){if(Date.now()>h)return a(),c;f=0}}}endDrawing(){O(this,fo,NN).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),O(this,fo,BN).call(this)}_scaleImage(t,e){const a=t.width??t.displayWidth,r=t.height??t.displayHeight;let i=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),s=a,c=r,l="prescale1",u,h;for(;i>2&&s>1||o>2&&c>1;){let f=s,y=c;i>2&&s>1&&(f=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2),i/=s/f),o>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/y),u=this.cachedCanvases.getCanvas(l,f,y),h=u.context,h.clearRect(0,0,f,y),h.drawImage(t,0,0,s,c,0,0,f,y),t=u.canvas,s=f,c=y,l=l==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:s,paintHeight:c}}_createMaskCanvas(t,e){var U,F;const a=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,c=tn(a);let l,u,h,f;if((e.bitmap||e.data)&&e.count>1){const G=e.bitmap||e.data.buffer;u=JSON.stringify(s?c:[c.slice(0,4),o]),l=this._cachedBitmapsMap.get(G),l||(l=new Map,this._cachedBitmapsMap.set(G,l));const $=l.get(u);if($&&!s){const H=Math.round(Math.min(c[0],c[2])+c[4]),X=Math.round(Math.min(c[1],c[3])+c[5]);return(U=this.dependencyTracker)==null||U.recordDependencies(t,di.transformAndFill),{canvas:$,offsetX:H,offsetY:X}}h=$}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),tU(f.context,e));let y=Pt.transform(c,[1/r,0,0,-1/i,0,0]);y=Pt.transform(y,[1,0,0,1,0,-i]);const w=zh.slice();Pt.axialAlignedBoundingBox([0,0,r,i],y,w);const[v,b,S,_]=w,P=Math.round(S-v)||1,E=Math.round(_-b)||1,C=this.cachedCanvases.getCanvas("fillCanvas",P,E),T=C.context,B=v,L=b;T.translate(-B,-L),T.transform(...y),h||(h=this._scaleImage(f.canvas,_o(T)),h=h.img,l&&s&&l.set(u,h)),T.imageSmoothingEnabled=eU(tn(T),e.interpolate),tw(T,h,0,0,h.width,h.height,0,0,r,i),T.globalCompositeOperation="source-in";const M=Pt.transform(_o(T),[1,0,0,1,-B,-L]);return T.fillStyle=s?o.getPattern(a,this,M,ha.FILL,t):o,T.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,C.canvas)),(F=this.dependencyTracker)==null||F.recordDependencies(t,di.transformAndFill),{canvas:C.canvas,offsetX:Math.round(B),offsetY:Math.round(L)}}setLineWidth(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("lineCap",t),this.ctx.lineCap=D1t[e]}setLineJoin(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("lineJoin",t),this.ctx.lineJoin=N1t[e]}setMiterLimit(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,a){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=a)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var a,r,i,o,s;for(const[c,l]of e)switch(c){case"LW":this.setLineWidth(t,l);break;case"LC":this.setLineCap(t,l);break;case"LJ":this.setLineJoin(t,l);break;case"ML":this.setMiterLimit(t,l);break;case"D":this.setDash(t,l[0],l[1]);break;case"RI":this.setRenderingIntent(t,l);break;case"FL":this.setFlatness(t,l);break;case"Font":this.setFont(t,l[0],l[1]);break;case"CA":(a=this.dependencyTracker)==null||a.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=l;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=l;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",t),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(s=this.dependencyTracker)==null||s.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,a=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,a);this.suspendedCtx=this.ctx;const o=this.ctx=i.context;o.setTransform(this.suspendedCtx.getTransform()),gg(this.suspendedCtx,o),E1t(o,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,a,r){const i=r[0],o=r[1],s=r[2]-i,c=r[3]-o;s===0||c===0||(this.genericComposeSMask(e.context,a,s,c,e.subtype,e.backdrop,e.transferMap,i,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(a.canvas,0,0),t.restore())}genericComposeSMask(t,e,a,r,i,o,s,c,l,u,h){let f=t.canvas,y=c-u,w=l-h;if(o)if(y<0||w<0||y+a>f.width||w+r>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",a,r),S=b.context;S.drawImage(f,-y,-w),S.globalCompositeOperation="destination-atop",S.fillStyle=o,S.fillRect(0,0,a,r),S.globalCompositeOperation="source-over",f=b.canvas,y=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(y,w,a,r),t.clip(b),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(y,w,a,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),i==="Alpha"&&s?e.filter=this.filterFactory.addAlphaFilter(s):i==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(s));const v=new Path2D;v.rect(c,l,a,r),e.clip(v),e.globalCompositeOperation="destination-in",e.drawImage(f,y,w,a,r,c,l,a,r),e.restore()}save(t){var a;this.inSMaskMode&&gg(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(a=this.dependencyTracker)==null||a.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&gg(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,a,r,i,o,s){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",t),this.ctx.transform(e,a,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,a,r){let[i]=a;if(!r){i||(i=a[0]=new Path2D),this[e](t,i);return}if(this.dependencyTracker!==null){const o=e===n0.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(t,["transform"])}if(!(i instanceof Path2D)){const o=a[0]=new Path2D;for(let s=0,c=i.length;s<c;)switch(i[s++]){case Kb.moveTo:o.moveTo(i[s++],i[s++]);break;case Kb.lineTo:o.lineTo(i[s++],i[s++]);break;case Kb.curveTo:o.bezierCurveTo(i[s++],i[s++],i[s++],i[s++],i[s++],i[s++]);break;case Kb.closePath:o.closePath();break;default:Wt(`Unrecognized drawing path operator: ${i[s-1]}`);break}i=o}Pt.axialAlignedBoundingBox(r,tn(this.ctx),this.current.minMax),this[e](t,i),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,a=!0){var o;const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,_o(r),ha.STROKE,t),s){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);(o=this.dependencyTracker)==null||o.recordDependencies(t,di.stroke),a&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(ha.STROKE,tn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,a=!0){var l,u,h;const r=this.ctx,i=this.current.fillColor,o=this.current.patternFill;let s=!1;if(o){const f=i.isModifyingCurrentTransform()?r.getTransform():null;if((l=this.dependencyTracker)==null||l.save(t),r.save(),r.fillStyle=i.getPattern(r,this,_o(r),ha.FILL,t),f){const y=new Path2D;y.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=y}s=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),(u=this.dependencyTracker)==null||u.recordDependencies(t,di.fill),s&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(t)),a&&this.consumePath(t,e,c)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var a;this.ctx.fill(e),(a=this.dependencyTracker)==null||a.recordDependencies(t,di.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=B1t}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=nU}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,a=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,i=a.getTransform().invertSelf();for(const{transform:o,x:s,y:c,fontSize:l,path:u}of e)u&&r.addPath(u,new DOMMatrix(o).preMultiplySelf(i).translate(s,c).scale(l,-l));a.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,a){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||tN,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Wt("Invalid font matrix for font "+e),a<0?(a=-a,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=a,r.isType3Font)return;const o=r.loadedName||"sans-serif",s=((f=r.systemFontInfo)==null?void 0:f.css)||`"${o}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const l=r.italic?"italic":"normal";let u=a;a<XG?u=XG:a>YG&&(u=YG),this.current.fontSizeScale=a/u,this.ctx.font=`${l} ${c} ${u}px ${s}`}setTextRenderingMode(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,a){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=a}setLeadingMoveText(t,e,a){this.setLeading(t,-a),this.moveText(t,e,a)}setTextMatrix(t,e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textMatrix",t);const{current:a}=this;a.textMatrix=e,a.textMatrixScale=Math.hypot(e[0],e[1]),a.x=a.lineX=0,a.y=a.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,a,r,i,o){var S,_,P,E;const s=this.ctx,c=this.current,l=c.font,u=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=u&ia.FILL_STROKE_MASK,y=!!(u&ia.ADD_TO_PATH_FLAG),w=c.patternFill&&!l.missingFile,v=c.patternStroke&&!l.missingFile;let b;if((l.disableFontFace||y||w||v)&&!l.missingFile&&(b=l.getPathGenerator(this.commonObjs,e)),b&&(l.disableFontFace||w||v)){s.save(),s.translate(a,r),s.scale(h,-h),(S=this.dependencyTracker)==null||S.recordCharacterBBox(t,s,l);let C;if(f===ia.FILL||f===ia.FILL_STROKE)if(i){C=s.getTransform(),s.setTransform(...i);const T=O(this,fo,jN).call(this,b,C,i);s.fill(T)}else s.fill(b);if(f===ia.STROKE||f===ia.FILL_STROKE)if(o){C||(C=s.getTransform()),s.setTransform(...o);const{a:T,b:B,c:L,d:M}=C,U=Pt.inverseTransform(o),F=Pt.transform([T,B,L,M,0,0],U);Pt.singularValueDecompose2dScale(F,Kr),s.lineWidth*=Math.max(Kr[0],Kr[1])/h,s.stroke(O(this,fo,jN).call(this,b,C,o))}else s.lineWidth/=h,s.stroke(b);s.restore()}else(f===ia.FILL||f===ia.FILL_STROKE)&&(s.fillText(e,a,r),(_=this.dependencyTracker)==null||_.recordCharacterBBox(t,s,l,h,a,r,()=>s.measureText(e))),(f===ia.STROKE||f===ia.FILL_STROKE)&&(this.dependencyTracker&&((P=this.dependencyTracker)==null||P.recordCharacterBBox(t,s,l,h,a,r,()=>s.measureText(e)).recordDependencies(t,di.stroke)),s.strokeText(e,a,r));y&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:tn(s),x:a,y:r,fontSize:h,path:b}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(t,s,l,h,a,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let a=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){a=!0;break}return ee(this,"isFontSubpixelAAEnabled",a)}showText(t,e){var L,M,U,F;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,di.showText).resetBBox(t),this.current.textRenderingMode&ia.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const a=this.current,r=a.font;if(r.isType3Font){this.showType3Text(t,e),(L=this.dependencyTracker)==null||L.recordShowTextOperation(t);return}const i=a.fontSize;if(i===0){(M=this.dependencyTracker)==null||M.recordOperation(t);return}const o=this.ctx,s=a.fontSizeScale,c=a.charSpacing,l=a.wordSpacing,u=a.fontDirection,h=a.textHScale*u,f=e.length,y=r.vertical,w=y?1:-1,v=r.defaultVMetrics,b=i*a.fontMatrix[0],S=a.textRenderingMode===ia.FILL&&!r.disableFontFace&&!a.patternFill;o.save(),a.textMatrix&&o.transform(...a.textMatrix),o.translate(a.x,a.y+a.textRise),u>0?o.scale(h,-1):o.scale(h,1);let _,P;if(a.patternFill){o.save();const G=a.fillColor.getPattern(o,this,_o(o),ha.FILL,t);_=tn(o),o.restore(),o.fillStyle=G}if(a.patternStroke){o.save();const G=a.strokeColor.getPattern(o,this,_o(o),ha.STROKE,t);P=tn(o),o.restore(),o.strokeStyle=G}let E=a.lineWidth;const C=a.textMatrixScale;if(C===0||E===0){const G=a.textRenderingMode&ia.FILL_STROKE_MASK;(G===ia.STROKE||G===ia.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=C;if(s!==1&&(o.scale(s,s),E/=s),o.lineWidth=E,r.isInvalidPDFjsFont){const G=[];let $=0;for(const X of e)G.push(X.unicode),$+=X.width;const H=G.join("");if(o.fillText(H,0,0),this.dependencyTracker!==null){const X=o.measureText(H);this.dependencyTracker.recordBBox(t,this.ctx,-X.actualBoundingBoxLeft,X.actualBoundingBoxRight,-X.actualBoundingBoxAscent,X.actualBoundingBoxDescent).recordShowTextOperation(t)}a.x+=$*b*h,o.restore(),this.compose();return}let T=0,B;for(B=0;B<f;++B){const G=e[B];if(typeof G=="number"){T+=w*G*i/1e3;continue}let $=!1;const H=(G.isSpace?l:0)+c,X=G.fontChar,Q=G.accent;let W,V,tt=G.width;if(y){const K=G.vmetric||v,it=-(G.vmetric?K[1]:tt*.5)*b,ft=K[2]*b;tt=K?-K[0]:tt,W=it/s,V=(T+ft)/s}else W=T/s,V=0;let nt;if(r.remeasure&&tt>0){nt=o.measureText(X);const K=nt.width*1e3/i*s;if(tt<K&&this.isFontSubpixelAAEnabled){const it=tt/K;$=!0,o.save(),o.scale(it,1),W/=it}else tt!==K&&(W+=(tt-K)/2e3*i/s)}if(this.contentVisible&&(G.isInFont||r.missingFile)){if(S&&!Q)o.fillText(X,W,V),(U=this.dependencyTracker)==null||U.recordCharacterBBox(t,o,nt?{bbox:null}:r,i/s,W,V,()=>nt??o.measureText(X));else if(this.paintChar(t,X,W,V,_,P),Q){const K=W+i*Q.offset.x/s,it=V-i*Q.offset.y/s;this.paintChar(t,Q.fontChar,K,it,_,P)}}const z=y?tt*b-H*u:tt*b+H*u;T+=z,$&&o.restore()}y?a.y-=T:a.x+=T*h,o.restore(),this.compose(),(F=this.dependencyTracker)==null||F.recordShowTextOperation(t)}showType3Text(t,e){const a=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,c=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,h=r.textHScale*s,f=r.fontMatrix||tN,y=e.length,w=r.textRenderingMode===ia.INVISIBLE;let v,b,S,_;if(w||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),a.scale(h,s);const P=this.dependencyTracker;for(this.dependencyTracker=P?new o1(P,t):null,v=0;v<y;++v){if(b=e[v],typeof b=="number"){_=c*b*o/1e3,this.ctx.translate(_,0),r.x+=_*h;continue}const E=(b.isSpace?u:0)+l,C=i.charProcOperatorList[b.operatorListId];C?this.contentVisible&&(this.save(),a.scale(o,o),a.transform(...f),this.executeOperatorList(C),this.restore()):Wt(`Type3 character "${b.operatorListId}" is not available.`);const T=[b.width,0];Pt.applyTransform(T,f),S=T[0]*o+E,a.translate(S,0),r.x+=S*h}a.restore(),P&&(this.dependencyTracker=P)}setCharWidth(t,e,a){}setCharWidthAndBounds(t,e,a,r,i,o,s){var l;const c=new Path2D;c.rect(r,i,o-r,s-i),this.ctx.clip(c),(l=this.dependencyTracker)==null||l.recordBBox(t,this.ctx,r,o,i,s).recordClipBox(t,this.ctx,r,o,i,s),this.endPath(t)}getColorN_Pattern(t,e){let a;if(e[0]==="TilingPattern"){const r=this.baseTransform||tn(this.ctx),i={createCanvasGraphics:(o,s)=>new zO(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new o1(this.dependencyTracker,s,!0):null)};a=new DN(e,this.ctx,i,r)}else a=this._getPattern(t,e[1],e[2]);return a}setStrokeColorN(t,...e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,a=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=P1t(this.getObject(t,e)),this.cachedPatterns.set(e,r)),a&&(r.matrix=a),r}shadingFill(t,e){var o;if(!this.contentVisible)return;const a=this.ctx;this.save(t);const r=this._getPattern(t,e);a.fillStyle=r.getPattern(a,this,_o(a),ha.SHADING,t);const i=_o(a);if(i){const{width:s,height:c}=a.canvas,l=zh.slice();Pt.axialAlignedBoundingBox([0,0,s,c],i,l);const[u,h,f,y]=l;this.ctx.fillRect(u,h,f-u,y-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,di.transform).recordDependencies(t,di.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){je("Should not call beginInlineImage")}beginImageData(){je("Should not call beginImageData")}paintFormXObjectBegin(t,e,a){var r;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=tn(this.ctx),a)){Pt.axialAlignedBoundingBox(a,this.baseTransform,this.current.minMax);const[i,o,s,c]=a,l=new Path2D;l.rect(i,o,s-i,c-o),this.ctx.clip(l),(r=this.dependencyTracker)==null||r.recordClipBox(t,this.ctx,i,s,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var P;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const a=this.ctx;e.isolated||wS("TODO: Support non-isolated groups."),e.knockout&&Wt("Knockout groups not supported.");const r=tn(a);if(e.matrix&&a.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=zh.slice();Pt.axialAlignedBoundingBox(e.bbox,tn(a),i);const o=[0,0,a.canvas.width,a.canvas.height];i=Pt.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),c=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-c,1);this.current.startNewPathAndClipBox([0,0,l,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,l,u),y=f.context;y.translate(-s,-c),y.transform(...r);let w=new Path2D;const[v,b,S,_]=e.bbox;if(w.rect(v,b,S-v,_-b),e.matrix){const E=new Path2D;E.addPath(w,new DOMMatrix(e.matrix)),w=E}y.clip(w),e.smask&&this.smaskStack.push({canvas:f.canvas,context:y,offsetX:s,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(a.setTransform(1,0,0,1,0,0),a.translate(s,c),a.save()),gg(a,y),this.ctx=y,(P=this.dependencyTracker)==null||P.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(a),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}endGroup(t,e){var i;if(!this.contentVisible)return;this.groupLevel--;const a=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=tn(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const s=zh.slice();Pt.axialAlignedBoundingBox([0,0,a.canvas.width,a.canvas.height],o,s),this.ctx.drawImage(a.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,a,r,i,o){if(O(this,fo,NN).call(this),ew(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),a){const s=a[2]-a[0],c=a[3]-a[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=a[0],r[5]-=a[1],a=a.slice(),a[0]=a[1]=0,a[2]=s,a[3]=c,Pt.singularValueDecompose2dScale(tn(this.ctx),Kr);const{viewportScale:l}=this,u=Math.ceil(s*this.outputScaleX*l),h=Math.ceil(c*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:f,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Kr[0],0,0,-Kr[1],0,c*Kr[1]),ew(this.ctx)}else{ew(this.ctx),this.endPath(t);const l=new Path2D;l.rect(a[0],a[1],s,c),this.ctx.clip(l)}}this.current=new JG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...i)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),O(this,fo,BN).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var s;if(!this.contentVisible)return;const a=e.count;e=this.getObject(t,e.data,e),e.count=a;const r=this.ctx,i=this._createMaskCanvas(t,e),o=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,i.offsetX,i.offsetY),(s=this.dependencyTracker)==null||s.resetBBox(t).recordBBox(t,this.ctx,i.offsetX,i.offsetX+o.width,i.offsetY,i.offsetY+o.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,a,r=0,i=0,o,s){var h,f,y;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const l=tn(c);c.transform(a,r,i,o,0,0);const u=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]),(h=this.dependencyTracker)==null||h.resetBBox(t);for(let w=0,v=s.length;w<v;w+=2){const b=Pt.transform(l,[a,r,i,o,s[w],s[w+1]]);c.drawImage(u.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(t,this.ctx,b[4],b[4]+u.canvas.width,b[5],b[5]+u.canvas.height)}c.restore(),this.compose(),(y=this.dependencyTracker)==null||y.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var o,s,c;if(!this.contentVisible)return;const a=this.ctx,r=this.current.fillColor,i=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(t).recordDependencies(t,di.transformAndFill);for(const l of e){const{data:u,width:h,height:f,transform:y}=l,w=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=w.context;v.save();const b=this.getObject(t,u,l);tU(v,b),v.globalCompositeOperation="source-in",v.fillStyle=i?r.getPattern(v,this,_o(a),ha.FILL,t):r,v.fillRect(0,0,h,f),v.restore(),a.save(),a.transform(...y),a.scale(1,-1),tw(a,w.canvas,0,0,h,f,0,-1,1,1),(s=this.dependencyTracker)==null||s.recordBBox(t,a,0,h,0,f),a.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a){Wt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,a)}paintImageXObjectRepeat(t,e,a,r,i){if(!this.contentVisible)return;const o=this.getObject(t,e);if(!o){Wt("Dependent image isn't ready yet");return}const s=o.width,c=o.height,l=[];for(let u=0,h=i.length;u<h;u+=2)l.push({transform:[a,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:c});this.paintInlineImageXObjectGroup(t,o,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:a,height:r}=t,i=this.cachedCanvases.getCanvas("inlineImage",a,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",i.canvas}paintInlineImageXObject(t,e){var l;if(!this.contentVisible)return;const a=e.width,r=e.height,i=this.ctx;this.save(t);const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none"),i.scale(1/a,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",a,r).context;ZG(h,e),s=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(s,_o(i));i.imageSmoothingEnabled=eU(tn(i),e.interpolate),(l=this.dependencyTracker)==null||l.resetBBox(t).recordBBox(t,i,0,a,-r,0).recordDependencies(t,di.imageXObject).recordOperation(t),tw(i,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,a,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,a){var o,s,c;if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;ZG(f,e),i=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(t);for(const l of a)r.save(),r.transform(...l.transform),r.scale(1,-1),tw(r,i,l.x,l.y,l.w,l.h,0,-1,1,1),(s=this.dependencyTracker)==null||s.recordBBox(t,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,di.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,a){}beginMarkedContent(t,e){var a;(a=this.dependencyTracker)==null||a.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,a){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(a)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,a){var o,s;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const i=this.ctx;this.pendingClip?(r||(this.pendingClip===nU?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(s=this.dependencyTracker)==null||s.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=tn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),a=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(a,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:a,c:r,d:i}=this.ctx.getTransform();let o,s;if(a===0&&r===0){const c=Math.abs(e),l=Math.abs(i);if(c===l)if(t===0)o=s=1/c;else{const u=c*t;o=s=u<1?1/u:1}else if(t===0)o=1/c,s=1/l;else{const u=c*t,h=l*t;o=u<1?1/u:1,s=h<1?1/h:1}}else{const c=Math.abs(e*i-a*r),l=Math.hypot(e,a),u=Math.hypot(r,i);if(t===0)o=u/c,s=l/c;else{const h=t*c;o=u>h?u/h:1,s=l>h?l/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:a,current:{lineWidth:r}}=this,[i,o]=this.getScaleForStroking();if(i===o){a.lineWidth=(r||1)*i,a.stroke(t);return}const s=a.getLineDash();e&&a.save(),a.scale(i,o),KE.a=1/i,KE.d=1/o;const c=new Path2D;if(c.addPath(t,KE),s.length>0){const l=Math.max(i,o);a.setLineDash(s.map(u=>u/l)),a.lineDashOffset/=l}a.lineWidth=r||1,a.stroke(c),e&&a.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};fo=new WeakSet,NN=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},BN=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},jN=function(t,e,a){const r=new Path2D;return r.addPath(t,new DOMMatrix(a).invertSelf().multiplySelf(e)),r};let tp=zO;for(const n in n0)tp.prototype[n]!==void 0&&(tp.prototype[n0[n]]=tp.prototype[n]);var Ep,Tp,R0,Dp,vw;const Hh=class Hh{constructor(t){j(this,Dp);j(this,Ep);j(this,Tp);j(this,R0);D(this,Ep,t),D(this,Tp,new DataView(p(this,Ep))),D(this,R0,new TextDecoder)}static write(t){const e=new TextEncoder,a={};let r=0;for(const l of Hh.strings){const u=e.encode(t[l]);a[l]=u,r+=4+u.length}const i=new ArrayBuffer(r),o=new Uint8Array(i),s=new DataView(i);let c=0;for(const l of Hh.strings){const u=a[l],h=u.length;s.setUint32(c,h),o.set(u,c+4),c+=4+h}return se(c===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}get fontFamily(){return O(this,Dp,vw).call(this,0)}get fontWeight(){return O(this,Dp,vw).call(this,1)}get italicAngle(){return O(this,Dp,vw).call(this,2)}};Ep=new WeakMap,Tp=new WeakMap,R0=new WeakMap,Dp=new WeakSet,vw=function(t){se(t<Hh.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=p(this,Tp).getUint32(e)+4;const a=p(this,Tp).getUint32(e);return p(this,R0).decode(new Uint8Array(p(this,Ep),e+4,a))},ht(Hh,"strings",["fontFamily","fontWeight","italicAngle"]);let s1=Hh;var Tl,$o,Ou,Lu,Rg;const Vh=class Vh{constructor(t){j(this,Lu);j(this,Tl);j(this,$o);j(this,Ou);D(this,Tl,t),D(this,$o,new DataView(p(this,Tl))),D(this,Ou,new TextDecoder)}static write(t){const e=new TextEncoder,a={};let r=0;for(const f of Vh.strings){const y=e.encode(t[f]);a[f]=y,r+=4+y.length}r+=4;let i,o,s=1+r;t.style&&(i=e.encode(t.style.style),o=e.encode(t.style.weight),s+=4+i.length+4+o.length);const c=new ArrayBuffer(s),l=new Uint8Array(c),u=new DataView(c);let h=0;u.setUint8(h++,t.guessFallback?1:0),u.setUint32(h,0),h+=4,r=0;for(const f of Vh.strings){const y=a[f],w=y.length;r+=4+w,u.setUint32(h,w),l.set(y,h+4),h+=4+w}return u.setUint32(h-r-4,r),t.style&&(u.setUint32(h,i.length),l.set(i,h+4),h+=4+i.length,u.setUint32(h,o.length),l.set(o,h+4),h+=4+o.length),se(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return p(this,$o).getUint8(0)!==0}get css(){return O(this,Lu,Rg).call(this,0)}get loadedName(){return O(this,Lu,Rg).call(this,1)}get baseFontName(){return O(this,Lu,Rg).call(this,2)}get src(){return O(this,Lu,Rg).call(this,3)}get style(){let t=1;t+=4+p(this,$o).getUint32(t);const e=p(this,$o).getUint32(t),a=p(this,Ou).decode(new Uint8Array(p(this,Tl),t+4,e));t+=4+e;const r=p(this,$o).getUint32(t),i=p(this,Ou).decode(new Uint8Array(p(this,Tl),t+4,r));return{style:a,weight:i}}};Tl=new WeakMap,$o=new WeakMap,Ou=new WeakMap,Lu=new WeakSet,Rg=function(t){se(t<Vh.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=p(this,$o).getUint32(e)+4;const a=p(this,$o).getUint32(e);return p(this,Ou).decode(new Uint8Array(p(this,Tl),e+4,a))},ht(Vh,"strings",["css","loadedName","baseFontName","src"]);let c1=Vh;var Np,Bp,jp,Op,Br,Go,M0,_e,mn,Hi,bw,Mg;const Yt=class Yt{constructor({data:t,extra:e}){j(this,mn);j(this,Go);j(this,M0);j(this,_e);D(this,Go,t),D(this,M0,new TextDecoder),D(this,_e,new DataView(p(this,Go))),e&&Object.assign(this,e)}get black(){return O(this,mn,Hi).call(this,0)}get bold(){return O(this,mn,Hi).call(this,1)}get disableFontFace(){return O(this,mn,Hi).call(this,2)}get fontExtraProperties(){return O(this,mn,Hi).call(this,3)}get isInvalidPDFjsFont(){return O(this,mn,Hi).call(this,4)}get isType3Font(){return O(this,mn,Hi).call(this,5)}get italic(){return O(this,mn,Hi).call(this,6)}get missingFile(){return O(this,mn,Hi).call(this,7)}get remeasure(){return O(this,mn,Hi).call(this,8)}get vertical(){return O(this,mn,Hi).call(this,9)}get ascent(){return O(this,mn,bw).call(this,0)}get defaultWidth(){return O(this,mn,bw).call(this,1)}get descent(){return O(this,mn,bw).call(this,2)}get bbox(){let t=p(Yt,Bp);if(p(this,_e).getUint8(t)===0)return;t+=1;const a=[];for(let r=0;r<4;r++)a.push(p(this,_e).getInt16(t,!0)),t+=2;return a}get fontMatrix(){let t=p(Yt,jp);if(p(this,_e).getUint8(t)===0)return;t+=1;const a=[];for(let r=0;r<6;r++)a.push(p(this,_e).getFloat64(t,!0)),t+=8;return a}get defaultVMetrics(){let t=p(Yt,Op);if(p(this,_e).getUint8(t)===0)return;t+=1;const a=[];for(let r=0;r<3;r++)a.push(p(this,_e).getInt16(t,!0)),t+=2;return a}get fallbackName(){return O(this,mn,Mg).call(this,0)}get loadedName(){return O(this,mn,Mg).call(this,1)}get mimetype(){return O(this,mn,Mg).call(this,2)}get name(){return O(this,mn,Mg).call(this,3)}get data(){let t=p(Yt,Br);const e=p(this,_e).getUint32(t);t+=4+e;const a=p(this,_e).getUint32(t);t+=4+a;const r=p(this,_e).getUint32(t);t+=4+r;const i=p(this,_e).getUint32(t);if(i!==0)return new Uint8Array(p(this,Go),t+4,i)}clearData(){let t=p(Yt,Br);const e=p(this,_e).getUint32(t);t+=4+e;const a=p(this,_e).getUint32(t);t+=4+a;const r=p(this,_e).getUint32(t);t+=4+r;const i=p(this,_e).getUint32(t);new Uint8Array(p(this,Go),t+4,i).fill(0),p(this,_e).setUint32(t,0)}get cssFontInfo(){let t=p(Yt,Br);const e=p(this,_e).getUint32(t);t+=4+e;const a=p(this,_e).getUint32(t);t+=4+a;const r=p(this,_e).getUint32(t);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(p(this,Go),t+4,r)),new s1(i.buffer)}get systemFontInfo(){let t=p(Yt,Br);const e=p(this,_e).getUint32(t);t+=4+e;const a=p(this,_e).getUint32(t);if(a===0)return null;const r=new Uint8Array(a);return r.set(new Uint8Array(p(this,Go),t+4,a)),new c1(r.buffer)}static write(t){const e=t.systemFontInfo?c1.write(t.systemFontInfo):null,a=t.cssFontInfo?s1.write(t.cssFontInfo):null,r=new TextEncoder,i={};let o=0;for(const v of Yt.strings)i[v]=r.encode(t[v]),o+=4+i[v].length;const s=p(Yt,Br)+4+o+4+(e?e.byteLength:0)+4+(a?a.byteLength:0)+4+(t.data?t.data.length:0),c=new ArrayBuffer(s),l=new Uint8Array(c),u=new DataView(c);let h=0;const f=Yt.bools.length;let y=0,w=0;for(let v=0;v<f;v++){const b=t[Yt.bools[v]];y|=(b===void 0?0:b?2:1)<<w,w+=2,(w===8||v===f-1)&&(u.setUint8(h++,y),y=0,w=0)}se(h===p(Yt,Np),"FontInfo.write: Boolean properties offset mismatch");for(const v of Yt.numbers)u.setFloat64(h,t[v]),h+=8;if(se(h===p(Yt,Bp),"FontInfo.write: Number properties offset mismatch"),t.bbox){u.setUint8(h++,4);for(const v of t.bbox)u.setInt16(h,v,!0),h+=2}else u.setUint8(h++,0),h+=2*4;if(se(h===p(Yt,jp),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){u.setUint8(h++,6);for(const v of t.fontMatrix)u.setFloat64(h,v,!0),h+=8}else u.setUint8(h++,0),h+=8*6;if(se(h===p(Yt,Op),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){u.setUint8(h++,1);for(const v of t.defaultVMetrics)u.setInt16(h,v,!0),h+=2}else u.setUint8(h++,0),h+=3*2;se(h===p(Yt,Br),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(p(Yt,Br),0),h+=4;for(const v of Yt.strings){const b=i[v],S=b.length;u.setUint32(h,S),l.set(b,h+4),h+=4+S}if(u.setUint32(p(Yt,Br),h-p(Yt,Br)-4),!e)u.setUint32(h,0),h+=4;else{const v=e.byteLength;u.setUint32(h,v),se(h+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(e),h+4),h+=4+v}if(!a)u.setUint32(h,0),h+=4;else{const v=a.byteLength;u.setUint32(h,v),se(h+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(a),h+4),h+=4+v}return t.data===void 0?(u.setUint32(h,0),h+=4):(u.setUint32(h,t.data.length),l.set(t.data,h+4),h+=4+t.data.length),se(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};Np=new WeakMap,Bp=new WeakMap,jp=new WeakMap,Op=new WeakMap,Br=new WeakMap,Go=new WeakMap,M0=new WeakMap,_e=new WeakMap,mn=new WeakSet,Hi=function(t){se(t<Yt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),a=t*2%8,r=p(this,_e).getUint8(e)>>a&3;return r===0?void 0:r===2},bw=function(t){return se(t<Yt.numbers.length,"Invalid number index"),p(this,_e).getFloat64(p(Yt,Np)+t*8)},Mg=function(t){se(t<Yt.strings.length,"Invalid string index");let e=p(Yt,Br)+4;for(let i=0;i<t;i++)e+=p(this,_e).getUint32(e)+4;const a=p(this,_e).getUint32(e),r=new Uint8Array(a);return r.set(new Uint8Array(p(this,Go),e+4,a)),p(this,M0).decode(r)},ht(Yt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ht(Yt,"numbers",["ascent","defaultWidth","descent"]),ht(Yt,"strings",["fallbackName","loadedName","mimetype","name"]),j(Yt,Np,Math.ceil(Yt.bools.length*2/8)),j(Yt,Bp,p(Yt,Np)+Yt.numbers.length*8),j(Yt,jp,p(Yt,Bp)+1+2*4),j(Yt,Op,p(Yt,jp)+1+8*6),j(Yt,Br,p(Yt,Op)+1+2*3);let ON=Yt;var F0,$0;class Jo{static get workerPort(){return p(this,F0)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");D(this,F0,t)}static get workerSrc(){return p(this,$0)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");D(this,$0,t)}}F0=new WeakMap,$0=new WeakMap,j(Jo,F0,null),j(Jo,$0,"");var Lp,G0;class j1t{constructor({parsedData:t,rawData:e}){j(this,Lp);j(this,G0);D(this,Lp,t),D(this,G0,e)}getRaw(){return p(this,G0)}get(t){return p(this,Lp).get(t)??null}[Symbol.iterator](){return p(this,Lp).entries()}}Lp=new WeakMap,G0=new WeakMap;const Nh=Symbol("INTERNAL");var U0,z0,q0,Ip;class O1t{constructor(t,{name:e,intent:a,usage:r,rbGroups:i}){j(this,U0,!1);j(this,z0,!1);j(this,q0,!1);j(this,Ip,!0);D(this,U0,!!(t&Vr.DISPLAY)),D(this,z0,!!(t&Vr.PRINT)),this.name=e,this.intent=a,this.usage=r,this.rbGroups=i}get visible(){if(p(this,q0))return p(this,Ip);if(!p(this,Ip))return!1;const{print:t,view:e}=this.usage;return p(this,U0)?(e==null?void 0:e.viewState)!=="OFF":p(this,z0)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,a=!1){t!==Nh&&je("Internal method `_setVisible` called."),D(this,q0,a),D(this,Ip,e)}}U0=new WeakMap,z0=new WeakMap,q0=new WeakMap,Ip=new WeakMap;var Dl,Pe,Rp,Mp,H0,LN;class L1t{constructor(t,e=Vr.DISPLAY){j(this,H0);j(this,Dl,null);j(this,Pe,new Map);j(this,Rp,null);j(this,Mp,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,D(this,Mp,t.order);for(const a of t.groups)p(this,Pe).set(a.id,new O1t(e,a));if(t.baseState==="OFF")for(const a of p(this,Pe).values())a._setVisible(Nh,!1);for(const a of t.on)p(this,Pe).get(a)._setVisible(Nh,!0);for(const a of t.off)p(this,Pe).get(a)._setVisible(Nh,!1);D(this,Rp,this.getHash())}}isVisible(t){if(p(this,Pe).size===0)return!0;if(!t)return wS("Optional content group not defined."),!0;if(t.type==="OCG")return p(this,Pe).has(t.id)?p(this,Pe).get(t.id).visible:(Wt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return O(this,H0,LN).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!p(this,Pe).has(e))return Wt(`Optional content group not found: ${e}`),!0;if(p(this,Pe).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!p(this,Pe).has(e))return Wt(`Optional content group not found: ${e}`),!0;if(!p(this,Pe).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!p(this,Pe).has(e))return Wt(`Optional content group not found: ${e}`),!0;if(!p(this,Pe).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!p(this,Pe).has(e))return Wt(`Optional content group not found: ${e}`),!0;if(p(this,Pe).get(e).visible)return!1}return!0}return Wt(`Unknown optional content policy ${t.policy}.`),!0}return Wt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,a=!0){var i;const r=p(this,Pe).get(t);if(!r){Wt(`Optional content group not found: ${t}`);return}if(a&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const s of o)s!==t&&((i=p(this,Pe).get(s))==null||i._setVisible(Nh,!1,!0));r._setVisible(Nh,!!e,!0),D(this,Dl,null)}setOCGState({state:t,preserveRB:e}){let a;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":a=r;continue}const i=p(this,Pe).get(r);if(i)switch(a){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!i.visible,e);break}}D(this,Dl,null)}get hasInitialVisibility(){return p(this,Rp)===null||this.getHash()===p(this,Rp)}getOrder(){return p(this,Pe).size?p(this,Mp)?p(this,Mp).slice():[...p(this,Pe).keys()]:null}getGroup(t){return p(this,Pe).get(t)||null}getHash(){if(p(this,Dl)!==null)return p(this,Dl);const t=new lK;for(const[e,a]of p(this,Pe))t.update(`${e}:${a.visible}`);return D(this,Dl,t.hexdigest())}[Symbol.iterator](){return p(this,Pe).entries()}}Dl=new WeakMap,Pe=new WeakMap,Rp=new WeakMap,Mp=new WeakMap,H0=new WeakSet,LN=function(t){const e=t.length;if(e<2)return!0;const a=t[0];for(let r=1;r<e;r++){const i=t[r];let o;if(Array.isArray(i))o=O(this,H0,LN).call(this,i);else if(p(this,Pe).has(i))o=p(this,Pe).get(i).visible;else return Wt(`Optional content group not found: ${i}`),!0;switch(a){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return a==="And"};class I1t{constructor(t,{disableRange:e=!1,disableStream:a=!1}){se(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:o,contentDispositionFilename:s}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=s,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!a,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,l)=>{this._onReceiveData({begin:c,chunk:l})}),t.addProgressListener((c,l)=>{this._onProgress({loaded:c,total:l})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const a=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const r=this._rangeReaders.some(function(i){return i._begin!==t?!1:(i._enqueue(a),!0)});se(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,a,r,i;t.total===void 0?(a=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||a.call(e,{loaded:t.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){se(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new R1t(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const a=new M1t(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(a),a}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const a of this._rangeReaders.slice(0))a.cancel(t);this._pdfDataRangeTransport.abort()}}class R1t{constructor(t,e,a=!1,r=null){this._stream=t,this._done=a||!1,this._filename=DO(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class M1t{constructor(t,e,a){this._stream=t,this._begin=e,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function F1t(n){let t=!0,e=a("filename\\*","i").exec(n);if(e){e=e[1];let u=s(e);return u=unescape(u),u=c(u),u=l(u),i(u)}if(e=o(n),e){const u=l(e);return i(u)}if(e=a("filename","i").exec(n),e){e=e[1];let u=s(e);return u=l(u),i(u)}function a(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(u,{fatal:!0}),y=av(h);h=f.decode(y),t=!1}catch{}}return h}function i(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function o(u){const h=[];let f;const y=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=y.exec(u))!==null;){let[,v,b,S]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[b,S]}const w=[];for(let v=0;v<h.length&&v in h;++v){let[b,S]=h[v];S=s(S),b&&(S=unescape(S),v===0&&(S=c(S))),w.push(S)}return w.join("")}function s(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let f=0;f<h.length;++f){const y=h[f].indexOf('"');y!==-1&&(h[f]=h[f].slice(0,y),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function c(u){const h=u.indexOf("'");if(h===-1)return u;const f=u.slice(0,h),w=u.slice(h+1).replace(/^[^']*'/,"");return r(f,w)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),r(f,w);try{w=atob(w)}catch{}return r(f,w)})}return""}function wK(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const a in t){const r=t[a];r!==void 0&&e.append(a,r)}return e}function SS(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function AK({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:a}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*e)||a||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function SK(n){const t=n.get("Content-Disposition");if(t){let e=F1t(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(DO(e))return e}return null}function cv(n,t){return new n1(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function _K(n){return n===200||n===206}function PK(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function kK(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Wt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class $1t{constructor(t){ht(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=wK(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return se(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new G1t(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const a=new U1t(this,t,e);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class G1t{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const a=new Headers(t.headers),r=e.url;fetch(r,PK(a,this._withCredentials,this._abortController)).then(i=>{if(t._responseOrigin=SS(i.url),!_K(i.status))throw cv(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:s,suggestedLength:c}=AK({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=c||this._contentLength,this._filename=SK(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ud("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:kK(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class U1t{constructor(t,e,a){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(t.headers);i.append("Range",`bytes=${e}-${a-1}`);const o=r.url;fetch(o,PK(i,this._withCredentials,this._abortController)).then(s=>{const c=SS(s.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!_K(s.status))throw cv(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:kK(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const XE=200,YE=206;function z1t(n){const t=n.response;return typeof t!="string"?t:av(t).buffer}class q1t{constructor({url:t,httpHeaders:e,withCredentials:a}){ht(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=wK(this.isHttp,e),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,a=this.currXhrId++,r=this.pendingRequests[a]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[i,o]of this.headers)e.setRequestHeader(i,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=YE):r.expectedStatus=XE,e.responseType="arraybuffer",se(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,a),e.onprogress=this.onProgress.bind(this,a),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),a}onProgress(t,e){var r;const a=this.pendingRequests[t];a&&((r=a.onProgress)==null||r.call(a,e))}onStateChange(t,e){const a=this.pendingRequests[t];if(!a)return;const r=a.xhr;if(r.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){a.onError(r.status);return}const i=r.status||XE;if(!(i===XE&&a.expectedStatus===YE)&&i!==a.expectedStatus){a.onError(r.status);return}const s=z1t(r);if(i===YE){const c=r.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);l?a.onDone({begin:parseInt(l[1],10),chunk:s}):(Wt('Missing or invalid "Content-Range" header.'),a.onError(0))}else s?a.onDone({begin:0,chunk:s}):a.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class H1t{constructor(t){this._source=t,this._manager=new q1t(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return se(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V1t(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const a=new W1t(this._manager,t,e);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class V1t{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=SS(e.responseURL);const a=e.getAllResponseHeaders(),r=new Headers(a?a.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(s=>{const[c,...l]=s.split(": ");return[c,l.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=AK({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=SK(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=cv(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W1t{constructor(t,e,a){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:a,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=SS((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=cv(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const K1t=/^[a-z][a-z0-9\-+.]+:/i;function X1t(n){if(K1t.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class Y1t{constructor(t){this.source=t,this.url=X1t(t.url),se(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return se(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Q1t(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const a=new J1t(this,t,e);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class Q1t{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const a=process.getBuiltinModule("fs");a.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(a.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=cv(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ud("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class J1t{constructor(t,e,a){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:e,end:a-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const xg=Symbol("INITIAL_DATA");var jr,V0,IN;class CK{constructor(){j(this,V0);j(this,jr,Object.create(null))}get(t,e=null){if(e){const r=O(this,V0,IN).call(this,t);return r.promise.then(()=>e(r.data)),null}const a=p(this,jr)[t];if(!a||a.data===xg)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return a.data}has(t){const e=p(this,jr)[t];return!!e&&e.data!==xg}delete(t){const e=p(this,jr)[t];return!e||e.data===xg?!1:(delete p(this,jr)[t],!0)}resolve(t,e=null){const a=O(this,V0,IN).call(this,t);a.data=e,a.resolve()}clear(){var t;for(const e in p(this,jr)){const{data:a}=p(this,jr)[e];(t=a==null?void 0:a.bitmap)==null||t.close()}D(this,jr,Object.create(null))}*[Symbol.iterator](){for(const t in p(this,jr)){const{data:e}=p(this,jr)[t];e!==xg&&(yield[t,e])}}}jr=new WeakMap,V0=new WeakSet,IN=function(t){var e;return(e=p(this,jr))[t]||(e[t]={...Promise.withResolvers(),data:xg})};const Z1t=1e5,aU=30;var lU,Nl,ur,W0,K0,Iu,Ws,X0,Y0,Ru,Fp,$p,Bl,Gp,Q0,Up,Mu,J0,Z0,zp,Fu,ty,jl,qp,Nc,EK,TK,RN,Zr,ww,MN,DK,NK;const Ln=class Ln{constructor({textContentSource:t,container:e,viewport:a}){j(this,Nc);j(this,Nl,Promise.withResolvers());j(this,ur,null);j(this,W0,!1);j(this,K0,!!((lU=globalThis.FontInspector)!=null&&lU.enabled));j(this,Iu,null);j(this,Ws,null);j(this,X0,0);j(this,Y0,0);j(this,Ru,null);j(this,Fp,null);j(this,$p,0);j(this,Bl,0);j(this,Gp,Object.create(null));j(this,Q0,[]);j(this,Up,null);j(this,Mu,[]);j(this,J0,new WeakMap);j(this,Z0,null);var c;if(t instanceof ReadableStream)D(this,Up,t);else if(typeof t=="object")D(this,Up,new ReadableStream({start(l){l.enqueue(t),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,ur,D(this,Fp,e)),D(this,Bl,a.scale*us.pixelRatio),D(this,$p,a.rotation),D(this,Ws,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:o,pageY:s}=a.rawDims;D(this,Z0,[1,0,0,-1,-o,s+i]),D(this,Y0,r),D(this,X0,i),O(c=Ln,Zr,DK).call(c),Dm(e,a),p(this,Nl).promise.finally(()=>{p(Ln,qp).delete(this),D(this,Ws,null),D(this,Gp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=ya.platform;return ee(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{p(this,Ru).read().then(({value:e,done:a})=>{if(a){p(this,Nl).resolve();return}p(this,Iu)??D(this,Iu,e.lang),Object.assign(p(this,Gp),e.styles),O(this,Nc,EK).call(this,e.items),t()},p(this,Nl).reject)};return D(this,Ru,p(this,Up).getReader()),p(Ln,qp).add(this),t(),p(this,Nl).promise}update({viewport:t,onBefore:e=null}){var i;const a=t.scale*us.pixelRatio,r=t.rotation;if(r!==p(this,$p)&&(e==null||e(),D(this,$p,r),Dm(p(this,Fp),{rotation:r})),a!==p(this,Bl)){e==null||e(),D(this,Bl,a);const o={div:null,properties:null,ctx:O(i=Ln,Zr,ww).call(i,p(this,Iu))};for(const s of p(this,Mu))o.properties=p(this,J0).get(s),o.div=s,O(this,Nc,RN).call(this,o)}}cancel(){var e;const t=new ud("TextLayer task cancelled.");(e=p(this,Ru))==null||e.cancel(t).catch(()=>{}),D(this,Ru,null),p(this,Nl).reject(t)}get textDivs(){return p(this,Mu)}get textContentItemsStr(){return p(this,Q0)}static cleanup(){if(!(p(this,qp).size>0)){p(this,zp).clear();for(const{canvas:t}of p(this,Fu).values())t.remove();p(this,Fu).clear()}}};Nl=new WeakMap,ur=new WeakMap,W0=new WeakMap,K0=new WeakMap,Iu=new WeakMap,Ws=new WeakMap,X0=new WeakMap,Y0=new WeakMap,Ru=new WeakMap,Fp=new WeakMap,$p=new WeakMap,Bl=new WeakMap,Gp=new WeakMap,Q0=new WeakMap,Up=new WeakMap,Mu=new WeakMap,J0=new WeakMap,Z0=new WeakMap,zp=new WeakMap,Fu=new WeakMap,ty=new WeakMap,jl=new WeakMap,qp=new WeakMap,Nc=new WeakSet,EK=function(t){var r,i;if(p(this,W0))return;(i=p(this,Ws)).ctx??(i.ctx=O(r=Ln,Zr,ww).call(r,p(this,Iu)));const e=p(this,Mu),a=p(this,Q0);for(const o of t){if(e.length>Z1t){Wt("Ignoring additional textDivs for performance reasons."),D(this,W0,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const s=p(this,ur);D(this,ur,document.createElement("span")),p(this,ur).classList.add("markedContent"),o.id&&p(this,ur).setAttribute("id",`${o.id}`),s.append(p(this,ur))}else o.type==="endMarkedContent"&&D(this,ur,p(this,ur).parentNode);continue}a.push(o.str),O(this,Nc,TK).call(this,o)}},TK=function(t){var v;const e=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};p(this,Mu).push(e);const r=Pt.transform(p(this,Z0),t.transform);let i=Math.atan2(r[1],r[0]);const o=p(this,Gp)[t.fontName];o.vertical&&(i+=Math.PI/2);let s=p(this,K0)&&o.fontSubstitution||o.fontFamily;s=Ln.fontFamilyMap.get(s)||s;const c=Math.hypot(r[2],r[3]),l=c*O(v=Ln,Zr,NK).call(v,s,o,p(this,Iu));let u,h;i===0?(u=r[4],h=r[5]-l):(u=r[4]+l*Math.sin(i),h=r[5]-l*Math.cos(i));const f="calc(var(--total-scale-factor) *",y=e.style;p(this,ur)===p(this,Fp)?(y.left=`${(100*u/p(this,Y0)).toFixed(2)}%`,y.top=`${(100*h/p(this,X0)).toFixed(2)}%`):(y.left=`${f}${u.toFixed(2)}px)`,y.top=`${f}${h.toFixed(2)}px)`),y.fontSize=`${f}${(p(Ln,jl)*c).toFixed(2)}px)`,y.fontFamily=s,a.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,p(this,K0)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),i!==0&&(a.angle=i*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const b=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);b!==S&&Math.max(b,S)/Math.min(b,S)>1.5&&(w=!0)}if(w&&(a.canvasWidth=o.vertical?t.height:t.width),p(this,J0).set(e,a),p(this,Ws).div=e,p(this,Ws).properties=a,O(this,Nc,RN).call(this,p(this,Ws)),a.hasText&&p(this,ur).append(e),a.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),p(this,ur).append(b)}},RN=function(t){var s;const{div:e,properties:a,ctx:r}=t,{style:i}=e;let o="";if(p(Ln,jl)>1&&(o=`scale(${1/p(Ln,jl)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:c}=i,{canvasWidth:l,fontSize:u}=a;O(s=Ln,Zr,MN).call(s,r,u*p(this,Bl),c);const{width:h}=r.measureText(e.textContent);h>0&&(o=`scaleX(${l*p(this,Bl)/h}) ${o}`)}a.angle!==0&&(o=`rotate(${a.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Zr=new WeakSet,ww=function(t=null){let e=p(this,Fu).get(t||(t=""));if(!e){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=t,document.body.append(a),e=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,Fu).set(t,e),p(this,ty).set(e,{size:0,family:""})}return e},MN=function(t,e,a){const r=p(this,ty).get(t);e===r.size&&a===r.family||(t.font=`${e}px ${a}`,r.size=e,r.family=a)},DK=function(){if(p(this,jl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),D(this,jl,t.getBoundingClientRect().height),t.remove()},NK=function(t,e,a){const r=p(this,zp).get(t);if(r)return r;const i=O(this,Zr,ww).call(this,a);i.canvas.width=i.canvas.height=aU,O(this,Zr,MN).call(this,i,aU,t);const o=i.measureText(""),s=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let l=.8;return s?l=s/(s+c):(ya.platform.isFirefox&&Wt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),p(this,zp).set(t,l),l},j(Ln,Zr),j(Ln,zp,new Map),j(Ln,Fu,new Map),j(Ln,ty,new WeakMap),j(Ln,jl,null),j(Ln,qp,new Set);let r0=Ln;const tSt=100;function BK(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new FN,{docId:e}=t,a=n.url?s1t(n.url):null,r=n.data?c1t(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,s=n.password??null,c=n.range instanceof jK?n.range:null,l=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof i0?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!AS(n.docBaseUrl)?n.docBaseUrl:null,y=Yb(n.cMapUrl),w=n.cMapPacked!==!1,v=n.CMapReaderFactory||(Ha?g1t:zG),b=Yb(n.iccUrl),S=Yb(n.standardFontDataUrl),_=n.StandardFontDataFactory||(Ha?x1t:qG),P=Yb(n.wasmUrl),E=n.WasmFactory||(Ha?y1t:HG),C=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,B=n.isEvalSupported!==!1,L=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ha,M=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ha&&(ya.platform.isFirefox||!globalThis.chrome),U=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,F=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ha,G=n.fontExtraProperties===!0,$=n.enableXfa===!0,H=n.ownerDocument||globalThis.document,X=n.disableRange===!0,Q=n.disableStream===!0,W=n.disableAutoFetch===!0,V=n.pdfBug===!0,tt=n.CanvasFactory||(Ha?f1t:m1t),nt=n.FilterFactory||(Ha?p1t:h1t),z=n.enableHWA===!0,K=n.useWasm!==!1,it=c?c.length:n.length??NaN,ft=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ha&&!F,ct=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(v===zG&&_===qG&&E===HG&&y&&S&&P&&kg(y,document.baseURI)&&kg(S,document.baseURI)&&kg(P,document.baseURI)),yt=null;LAt(h);const bt={canvasFactory:new tt({ownerDocument:H,enableHWA:z}),filterFactory:new nt({docId:e,ownerDocument:H}),cMapReaderFactory:ct?null:new v({baseUrl:y,isCompressed:w}),standardFontDataFactory:ct?null:new _({baseUrl:S}),wasmFactory:ct?null:new E({baseUrl:P})};u||(u=i0.create({verbosity:h,port:Jo.workerPort}),t._worker=u);const Gt={docId:e,apiVersion:"5.4.296",data:r,password:s,disableAutoFetch:W,rangeChunkSize:l,length:it,docBaseUrl:f,enableXfa:$,evaluatorOptions:{maxImageSize:T,disableFontFace:F,ignoreErrors:C,isEvalSupported:B,isOffscreenCanvasSupported:L,isImageDecoderSupported:M,canvasMaxAreaInBytes:U,fontExtraProperties:G,useSystemFonts:ft,useWasm:K,useWorkerFetch:ct,cMapUrl:y,iccUrl:b,standardFontDataUrl:S,wasmUrl:P}},ut={ownerDocument:H,pdfBug:V,styleElement:yt,loadingParams:{disableAutoFetch:W,enableXfa:$}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Et=u.messageHandler.sendWithPromise("GetDocRequest",Gt,r?[r.buffer]:null);let Rt;if(c)Rt=new I1t(c,{disableRange:X,disableStream:Q});else if(!r){if(!a)throw new Error("getDocument - no `url` parameter provided.");const lt=kg(a)?$1t:Ha?Y1t:H1t;Rt=new lt({url:a,length:it,httpHeaders:i,withCredentials:o,rangeChunkSize:l,disableRange:X,disableStream:Q})}return Et.then(lt=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const fe=new Bg(e,lt,u.port),ne=new aSt(fe,t,Rt,ut,bt,z);t._transport=ne,fe.send("Ready",null)})}).catch(t._capability.reject),t}var _1;const P1=class P1{constructor(){ht(this,"_capability",Promise.withResolvers());ht(this,"_transport",null);ht(this,"_worker",null);ht(this,"docId",`d${Bn(P1,_1)._++}`);ht(this,"destroyed",!1);ht(this,"onPassword",null);ht(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,a,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(i){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,i}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};_1=new WeakMap,j(P1,_1,0);let FN=P1;var $u,ey,ny,ay,ry;class jK{constructor(t,e,a=!1,r=null){j(this,$u,Promise.withResolvers());j(this,ey,[]);j(this,ny,[]);j(this,ay,[]);j(this,ry,[]);this.length=t,this.initialData=e,this.progressiveDone=a,this.contentDispositionFilename=r}addRangeListener(t){p(this,ry).push(t)}addProgressListener(t){p(this,ay).push(t)}addProgressiveReadListener(t){p(this,ny).push(t)}addProgressiveDoneListener(t){p(this,ey).push(t)}onDataRange(t,e){for(const a of p(this,ry))a(t,e)}onDataProgress(t,e){p(this,$u).promise.then(()=>{for(const a of p(this,ay))a(t,e)})}onDataProgressiveRead(t){p(this,$u).promise.then(()=>{for(const e of p(this,ny))e(t)})}onDataProgressiveDone(){p(this,$u).promise.then(()=>{for(const t of p(this,ey))t()})}transportReady(){p(this,$u).resolve()}requestDataRange(t,e){je("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}$u=new WeakMap,ey=new WeakMap,ny=new WeakMap,ay=new WeakMap,ry=new WeakMap;class eSt{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ee(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ks,Gu,Fg;class nSt{constructor(t,e,a,r=!1){j(this,Gu);j(this,Ks,!1);this._pageIndex=t,this._pageInfo=e,this._transport=a,this._stats=r?new IG:null,this._pdfBug=r,this.commonObjs=a.commonObjs,this.objs=new CK,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:a=0,offsetY:r=0,dontFlip:i=!1}={}){return new iv({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:a,offsetY:r,dontFlip:i})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ee(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:a,intent:r="display",annotationMode:i=ll.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:c=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:y=!1,operationsFilter:w=null}){var M,U,F;(M=this._stats)==null||M.time("Overall");const v=this._transport.getRenderingIntent(r,i,h,f),{renderingIntent:b,cacheKey:S}=v;D(this,Ks,!1),c||(c=this._transport.getOptionalContentConfig(b));let _=this._intentStates.get(S);_||(_=Object.create(null),this._intentStates.set(S,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const P=!!(b&Vr.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(U=this._stats)==null||U.time("Page Request"),this._pumpOperatorList(v));const E=!!(this._pdfBug&&((F=globalThis.StepperManager)!=null&&F.enabled)),C=!this.recordedBBoxes&&(y||E),T=G=>{var $,H;if(_.renderTasks.delete(B),C){const X=($=B.gfx)==null?void 0:$.dependencyTracker.take();X&&(B.stepper&&B.stepper.setOperatorBBoxes(X,B.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=X))}P&&D(this,Ks,!0),O(this,Gu,Fg).call(this),G?(B.capability.reject(G),this._abortOperatorList({intentState:_,reason:G instanceof Error?G:new Error(G)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(H=globalThis.Stats)!=null&&H.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},B=new $N({callback:T,params:{canvas:e,canvasContext:t,dependencyTracker:C?new b1t(e,_.operatorList.length,E):null,viewport:a,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:w});(_.renderTasks||(_.renderTasks=new Set)).add(B);const L=B.task;return Promise.all([_.displayReadyCapability.promise,c]).then(([G,$])=>{var H;if(this.destroyed){T();return}if((H=this._stats)==null||H.time("Rendering"),!($.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");B.initializeGraphics({transparency:G,optionalContentConfig:$}),B.operatorListChanged()}).catch(T),L}getOperatorList({intent:t="display",annotationMode:e=ll.ENABLE,printAnnotationStorage:a=null,isEditing:r=!1}={}){var l;function i(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(t,e,a,r,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let c;return s.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(c),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>a0.textContent(a));const e=this.streamTextContent(t);return new Promise(function(a,r){function i(){o.read().then(function({value:c,done:l}){if(l){a(s);return}s.lang??(s.lang=c.lang),Object.assign(s.styles,c.styles),s.items.push(...c.items),i()},r)}const o=e.getReader(),s={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const a of e.renderTasks)t.push(a.completed),a.cancel();return this.objs.clear(),D(this,Ks,!1),Promise.all(t)}cleanup(t=!1){D(this,Ks,!0);const e=O(this,Gu,Fg).call(this);return t&&e&&this._stats&&(this._stats=new IG),e}_startRenderPage(t,e){var r,i;const a=this._intentStates.get(e);a&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=a.displayReadyCapability)==null||i.resolve(t))}_renderPageChunk(t,e){for(let a=0,r=t.length;a<r;a++)e.operatorList.fnArray.push(t.fnArray[a]),e.operatorList.argsArray.push(t.argsArray[a]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const a of e.renderTasks)a.operatorListChanged();t.lastChunk&&O(this,Gu,Fg).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:a,modifiedIds:r}){const{map:i,transfer:o}=a,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:i,modifiedIds:r},o).getReader(),l=this._intentStates.get(e);l.streamReader=c;const u=()=>{c.read().then(({value:h,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),u())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();O(this,Gu,Fg).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:t,reason:e,force:a=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!a){if(t.renderTasks.size>0)return;if(e instanceof TO){let r=tSt;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new ud(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ks=new WeakMap,Gu=new WeakSet,Fg=function(){if(!p(this,Ks)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,Ks,!1),!0};var Ol,to,Xs,Uu,k1,zu,qu,Xa,Aw,OK,LK,$g,Hp,Sw;const Ve=class Ve{constructor({name:t=null,port:e=null,verbosity:a=IAt()}={}){j(this,Xa);j(this,Ol,Promise.withResolvers());j(this,to,null);j(this,Xs,null);j(this,Uu,null);if(this.name=t,this.destroyed=!1,this.verbosity=a,e){if(p(Ve,qu).has(e))throw new Error("Cannot use more than one PDFWorker per port.");p(Ve,qu).set(e,this),O(this,Xa,OK).call(this,e)}else O(this,Xa,LK).call(this)}get promise(){return p(this,Ol).promise}get port(){return p(this,Xs)}get messageHandler(){return p(this,to)}destroy(){var t,e;this.destroyed=!0,(t=p(this,Uu))==null||t.terminate(),D(this,Uu,null),p(Ve,qu).delete(p(this,Xs)),D(this,Xs,null),(e=p(this,to))==null||e.destroy(),D(this,to,null)}static create(t){const e=p(this,qu).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ve(t)}static get workerSrc(){if(Jo.workerSrc)return Jo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ee(this,"_setupFakeWorkerGlobal",(async()=>p(this,Hp,Sw)?p(this,Hp,Sw):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ol=new WeakMap,to=new WeakMap,Xs=new WeakMap,Uu=new WeakMap,k1=new WeakMap,zu=new WeakMap,qu=new WeakMap,Xa=new WeakSet,Aw=function(){p(this,Ol).resolve(),p(this,to).send("configure",{verbosity:this.verbosity})},OK=function(t){D(this,Xs,t),D(this,to,new Bg("main","worker",t)),p(this,to).on("ready",()=>{}),O(this,Xa,Aw).call(this)},LK=function(){if(p(Ve,zu)||p(Ve,Hp,Sw)){O(this,Xa,$g).call(this);return}let{workerSrc:t}=Ve;try{Ve._isSameOrigin(window.location,t)||(t=Ve._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),a=new Bg("main","worker",e),r=()=>{i.abort(),a.destroy(),e.terminate(),this.destroyed?p(this,Ol).reject(new Error("Worker was destroyed")):O(this,Xa,$g).call(this)},i=new AbortController;e.addEventListener("error",()=>{p(this,Uu)||r()},{signal:i.signal}),a.on("test",s=>{if(i.abort(),this.destroyed||!s){r();return}D(this,to,a),D(this,Xs,e),D(this,Uu,e),O(this,Xa,Aw).call(this)}),a.on("ready",s=>{if(i.abort(),this.destroyed){r();return}try{o()}catch{O(this,Xa,$g).call(this)}});const o=()=>{const s=new Uint8Array;a.send("test",s,[s.buffer])};o();return}catch{wS("The worker has been disabled.")}O(this,Xa,$g).call(this)},$g=function(){p(Ve,zu)||(Wt("Setting up fake worker."),D(Ve,zu,!0)),Ve._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){p(this,Ol).reject(new Error("Worker was destroyed"));return}const e=new u1t;D(this,Xs,e);const a=`fake${Bn(Ve,k1)._++}`,r=new Bg(a+"_worker",a,e);t.setup(r,e),D(this,to,new Bg(a,a+"_worker",e)),O(this,Xa,Aw).call(this)}).catch(t=>{p(this,Ol).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Hp=new WeakSet,Sw=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},j(Ve,Hp),j(Ve,k1,0),j(Ve,zu,!1),j(Ve,qu,new WeakMap),Ha&&(D(Ve,zu,!0),Jo.workerSrc||(Jo.workerSrc="./pdf.worker.mjs")),Ve._isSameOrigin=(t,e)=>{const a=URL.parse(t);if(!(a!=null&&a.origin)||a.origin==="null")return!1;const r=new URL(e,a);return a.origin===r.origin},Ve._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ve.fromPort=t=>{if(KAt("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ve.create(t)};let i0=Ve;var Ys,Uo,Vp,Wp,Qs,Hu,Gg;class aSt{constructor(t,e,a,r,i,o){j(this,Hu);j(this,Ys,new Map);j(this,Uo,new Map);j(this,Vp,new Map);j(this,Wp,new Map);j(this,Qs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new CK,this.fontLoader=new i1t({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return ee(this,"annotationStorage",new NO)}getRenderingIntent(t,e=ll.ENABLE,a=null,r=!1,i=!1){let o=Vr.DISPLAY,s=SN;switch(t){case"any":o=Vr.ANY;break;case"display":break;case"print":o=Vr.PRINT;break;default:Wt(`getRenderingIntent - invalid intent: ${t}`)}const c=o&Vr.PRINT&&a instanceof uK?a:this.annotationStorage;switch(e){case ll.DISABLE:o+=Vr.ANNOTATIONS_DISABLE;break;case ll.ENABLE:break;case ll.ENABLE_FORMS:o+=Vr.ANNOTATIONS_FORMS;break;case ll.ENABLE_STORAGE:o+=Vr.ANNOTATIONS_STORAGE,s=c.serializable;break;default:Wt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=Vr.IS_EDITING),i&&(o+=Vr.OPLIST);const{ids:l,hash:u}=c.modifiedIds,h=[o,s.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=p(this,Qs))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of p(this,Uo).values())t.push(r._destroy());p(this,Uo).clear(),p(this,Vp).clear(),p(this,Wp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,i;this.commonObjs.clear(),this.fontLoader.clear(),p(this,Ys).clear(),this.filterFactory.destroy(),r0.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ud("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(a,r)=>{se(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){r.close();return}se(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async a=>{var s;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:o}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((s=e.onProgress)==null||s.call(e,this._lastProgress)),this._fullReader.onProgress=c=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:o}}),t.on("GetRangeReader",(a,r)=>{se(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(a.begin,a.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:o,done:s}){if(s){r.close();return}se(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{i.cancel(o),r.ready.catch(s=>{if(!this.destroyed)throw s})}}),t.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,e._capability.resolve(new eSt(a,this))}),t.on("DocException",a=>{e._capability.reject(ir(a))}),t.on("PasswordRequest",a=>{D(this,Qs,Promise.withResolvers());try{if(!e.onPassword)throw ir(a);const r=i=>{i instanceof Error?p(this,Qs).reject(i):p(this,Qs).resolve({password:i})};e.onPassword(r,a.code)}catch(r){p(this,Qs).reject(r)}return p(this,Qs).promise}),t.on("DataLoaded",a=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),t.on("StartRenderPage",a=>{if(this.destroyed)return;p(this,Uo).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),t.on("commonobj",([a,r,i])=>{var o;if(this.destroyed||this.commonObjs.has(a))return null;switch(r){case"Font":if("error"in i){const h=i.error;Wt(`Error during font loading: ${h}`),this.commonObjs.resolve(a,h);break}const s=new ON(i),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,l=new o1t(s,c,i.extra,i.charProcOperatorList);this.fontLoader.bind(l).catch(()=>t.sendWithPromise("FontFallback",{id:a})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(a,l)});break;case"CopyLocalImage":const{imageRef:u}=i;se(u,"The imageRef must be defined.");for(const h of p(this,Uo).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===u)return f.dataLen?(this.commonObjs.resolve(a,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([a,r,i,o])=>{var c;if(this.destroyed)return;const s=p(this,Uo).get(r);if(!s.objs.has(a)){if(s._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(i){case"Image":case"Pattern":s.objs.resolve(a,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),t.on("DocProgress",a=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:a.loaded,total:a.total})}),t.on("FetchBinaryData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[a.type];if(!r)throw new Error(`${a.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&Wt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((a=this._fullReader)==null?void 0:a.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,a=p(this,Vp).get(e);if(a)return a;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&p(this,Wp).set(i.refStr,t);const o=new nSt(e,i,this,this._params.pdfBug);return p(this,Uo).set(e,o),o});return p(this,Vp).set(e,r),r}getPageIndex(t){return _N(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return O(this,Hu,Gg).call(this,"GetFieldObjects")}hasJSActions(){return O(this,Hu,Gg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return O(this,Hu,Gg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return O(this,Hu,Gg).call(this,"GetOptionalContentConfig").then(e=>new L1t(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=p(this,Ys).get(t);if(e)return e;const a=this.messageHandler.sendWithPromise(t,null).then(r=>{var i,o;return{info:r[0],metadata:r[1]?new j1t(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return p(this,Ys).set(t,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of p(this,Uo).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),p(this,Ys).clear(),this.filterFactory.destroy(!0),r0.cleanup()}}cachedPageNumber(t){if(!_N(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return p(this,Wp).get(e)??null}}Ys=new WeakMap,Uo=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,Qs=new WeakMap,Hu=new WeakSet,Gg=function(t,e=null){const a=p(this,Ys).get(t);if(a)return a;const r=this.messageHandler.sendWithPromise(t,e);return p(this,Ys).set(t,r),r};var Ll;class rSt{constructor(t){j(this,Ll,null);ht(this,"onContinue",null);ht(this,"onError",null);D(this,Ll,t)}get promise(){return p(this,Ll).capability.promise}cancel(t=0){p(this,Ll).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=p(this,Ll).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=p(this,Ll);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ll=new WeakMap;var Il,Vu;const Jd=class Jd{constructor({callback:t,params:e,objs:a,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:s,canvasFactory:c,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:y=!1,operationsFilter:w=null}){j(this,Il,null);this.callback=t,this.params=e,this.objs=a,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rSt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=y,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,l;if(this.cancelled)return;if(this._canvas){if(p(Jd,Vu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Jd,Vu).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:a,transform:r,background:i,dependencyTracker:o}=this.params,s=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new tp(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:a,transparency:t,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var a,r,i;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),p(this,Il)&&(window.cancelAnimationFrame(p(this,Il)),D(this,Il,null)),p(Jd,Vu).delete(this._canvas),t||(t=new TO(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(i=(r=this.task).onError)==null||i.call(r,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,Il,window.requestAnimationFrame(()=>{D(this,Il,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Jd,Vu).delete(this._canvas),this.callback())))}};Il=new WeakMap,Vu=new WeakMap,j(Jd,Vu,new WeakSet);let $N=Jd;const IK="5.4.296",iSt="f56dc8601";var Or,Wu,Kp,Mn,iy,Xp,Js,oy,Rl,eo,sy,Ce,GN,UN,zN,Vd,RK,rl;const or=class or{constructor({editor:t=null,uiManager:e=null}){j(this,Ce);j(this,Or,null);j(this,Wu,null);j(this,Kp);j(this,Mn,null);j(this,iy,!1);j(this,Xp,!1);j(this,Js,null);j(this,oy);j(this,Rl,null);j(this,eo,null);var a,r;t?(D(this,Xp,!1),D(this,Js,t)):D(this,Xp,!0),D(this,eo,(t==null?void 0:t._uiManager)||e),D(this,oy,p(this,eo)._eventBus),D(this,Kp,((a=t==null?void 0:t.color)==null?void 0:a.toUpperCase())||((r=p(this,eo))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),p(or,sy)||D(or,sy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ee(this,"_keyboardManager",new sv([[["Escape","mac+Escape"],or.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],or.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],or.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],or.prototype._moveToPrevious],[["Home","mac+Home"],or.prototype._moveToBeginning],[["End","mac+End"],or.prototype._moveToEnd]]))}renderButton(){const t=D(this,Or,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",p(this,Js)&&(t.ariaControls=`${p(this,Js).id}_colorpicker_dropdown`);const e=p(this,eo)._signal;t.addEventListener("click",O(this,Ce,Vd).bind(this),{signal:e}),t.addEventListener("keydown",O(this,Ce,zN).bind(this),{signal:e});const a=D(this,Wu,document.createElement("span"));return a.className="swatch",a.ariaHidden="true",a.style.backgroundColor=p(this,Kp),t.append(a),t}renderMainDropdown(){const t=D(this,Mn,O(this,Ce,GN).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===p(this,Or)){O(this,Ce,Vd).call(this,t);return}const e=t.target.getAttribute("data-color");e&&O(this,Ce,UN).call(this,e,t)}_moveToNext(t){var e,a;if(!p(this,Ce,rl)){O(this,Ce,Vd).call(this,t);return}if(t.target===p(this,Or)){(e=p(this,Mn).firstChild)==null||e.focus();return}(a=t.target.nextSibling)==null||a.focus()}_moveToPrevious(t){var e,a;if(t.target===((e=p(this,Mn))==null?void 0:e.firstChild)||t.target===p(this,Or)){p(this,Ce,rl)&&this._hideDropdownFromKeyboard();return}p(this,Ce,rl)||O(this,Ce,Vd).call(this,t),(a=t.target.previousSibling)==null||a.focus()}_moveToBeginning(t){var e;if(!p(this,Ce,rl)){O(this,Ce,Vd).call(this,t);return}(e=p(this,Mn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!p(this,Ce,rl)){O(this,Ce,Vd).call(this,t);return}(e=p(this,Mn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=p(this,Mn))==null||t.classList.add("hidden"),p(this,Or).ariaExpanded="false",(e=p(this,Rl))==null||e.abort(),D(this,Rl,null)}_hideDropdownFromKeyboard(){var t;if(!p(this,Xp)){if(!p(this,Ce,rl)){(t=p(this,Js))==null||t.unselect();return}this.hideDropdown(),p(this,Or).focus({preventScroll:!0,focusVisible:p(this,iy)})}}updateColor(t){if(p(this,Wu)&&(p(this,Wu).style.backgroundColor=t),!p(this,Mn))return;const e=p(this,eo).highlightColors.values();for(const a of p(this,Mn).children)a.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=p(this,Or))==null||t.remove(),D(this,Or,null),D(this,Wu,null),(e=p(this,Mn))==null||e.remove(),D(this,Mn,null)}};Or=new WeakMap,Wu=new WeakMap,Kp=new WeakMap,Mn=new WeakMap,iy=new WeakMap,Xp=new WeakMap,Js=new WeakMap,oy=new WeakMap,Rl=new WeakMap,eo=new WeakMap,sy=new WeakMap,Ce=new WeakSet,GN=function(){const t=document.createElement("div"),e=p(this,eo)._signal;t.addEventListener("contextmenu",Ni,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),p(this,Js)&&(t.id=`${p(this,Js).id}_colorpicker_dropdown`);for(const[a,r]of p(this,eo).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=a,i.setAttribute("data-l10n-id",p(or,sy)[a]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.ariaSelected=r===p(this,Kp),i.addEventListener("click",O(this,Ce,UN).bind(this,r),{signal:e}),t.append(i)}return t.addEventListener("keydown",O(this,Ce,zN).bind(this),{signal:e}),t},UN=function(t,e){e.stopPropagation(),p(this,oy).dispatch("switchannotationeditorparams",{source:this,type:oe.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},zN=function(t){or._keyboardManager.exec(this,t)},Vd=function(t){if(p(this,Ce,rl)){this.hideDropdown();return}if(D(this,iy,t.detail===0),p(this,Rl)||(D(this,Rl,new AbortController),window.addEventListener("pointerdown",O(this,Ce,RK).bind(this),{signal:p(this,eo).combinedSignal(p(this,Rl))})),p(this,Or).ariaExpanded="true",p(this,Mn)){p(this,Mn).classList.remove("hidden");return}const e=D(this,Mn,O(this,Ce,GN).call(this));p(this,Or).append(e)},RK=function(t){var e;(e=p(this,Mn))!=null&&e.contains(t.target)||this.hideDropdown()},rl=function(){return p(this,Mn)&&!p(this,Mn).classList.contains("hidden")},j(or,sy,null);let l1=or;var zo,cy,Yp,ly;const Zd=class Zd{constructor(t){j(this,zo,null);j(this,cy,null);j(this,Yp,null);D(this,cy,t),D(this,Yp,t._uiManager),p(Zd,ly)||D(Zd,ly,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(p(this,zo))return p(this,zo);const{editorType:t,colorType:e,colorValue:a}=p(this,cy),r=D(this,zo,document.createElement("input"));return r.type="color",r.value=a||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",p(Zd,ly)[t]),r.addEventListener("input",()=>{p(this,Yp).updateParams(e,r.value)},{signal:p(this,Yp)._signal}),r}update(t){p(this,zo)&&(p(this,zo).value=t)}destroy(){var t;(t=p(this,zo))==null||t.remove(),D(this,zo,null)}hideDropdown(){}};zo=new WeakMap,cy=new WeakMap,Yp=new WeakMap,ly=new WeakMap,j(Zd,ly,null);let d1=Zd;function rU(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function yg(n){return Math.max(0,Math.min(255,255*n))}class iU{static CMYK_G([t,e,a,r]){return["G",1-Math.min(1,.3*t+.59*a+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=yg(t),[t,t,t]}static G_HTML([t]){const e=rU(t);return`#${e}${e}${e}`}static RGB_G([t,e,a]){return["G",.3*t+.59*e+.11*a]}static RGB_rgb(t){return t.map(yg)}static RGB_HTML(t){return`#${t.map(rU).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,a,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,a+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,a,r]){return[yg(1-Math.min(1,t+r)),yg(1-Math.min(1,a+r)),yg(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,a]){const r=1-t,i=1-e,o=1-a,s=Math.min(r,i,o);return["CMYK",r,i,o,s]}}class oSt{create(t,e,a=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),a||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){je("Abstract method `_createSVG` called.")}}class u1 extends oSt{_createSVG(t){return document.createElementNS(_s,t)}}const sSt=9,Bm=new WeakSet,cSt=new Date().getTimezoneOffset()*60*1e3;class oU{static create(t){switch(t.data.annotationType){case An.LINK:return new OO(t);case An.TEXT:return new dSt(t);case An.WIDGET:switch(t.data.fieldType){case"Tx":return new uSt(t);case"Btn":return t.data.radioButton?new $K(t):t.data.checkBox?new hSt(t):new pSt(t);case"Ch":return new fSt(t);case"Sig":return new mSt(t)}return new Gm(t);case An.POPUP:return new HN(t);case An.FREETEXT:return new HK(t);case An.LINE:return new xSt(t);case An.SQUARE:return new ySt(t);case An.CIRCLE:return new vSt(t);case An.POLYLINE:return new VK(t);case An.CARET:return new wSt(t);case An.INK:return new LO(t);case An.POLYGON:return new bSt(t);case An.HIGHLIGHT:return new WK(t);case An.UNDERLINE:return new ASt(t);case An.SQUIGGLY:return new SSt(t);case An.STRIKEOUT:return new _St(t);case An.STAMP:return new KK(t);case An.FILEATTACHMENT:return new PSt(t);default:return new an(t)}}}var Ku,Qp,bi,dy,qN;const qO=class qO{constructor(t,{isRenderable:e=!1,ignoreBorder:a=!1,createQuadrilaterals:r=!1}={}){j(this,dy);j(this,Ku,null);j(this,Qp,!1);j(this,bi,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(a)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return qO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var a;const{data:t}=this,e=(a=this.annotationStorage)==null?void 0:a.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var s;const t=(s=this.annotationStorage)==null?void 0:s.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:a,rect:r}=this.data;let i=-1/0,o=-1/0;if((e==null?void 0:e.length)>=8){for(let c=0;c<e.length;c+=8)e[c+1]>o?(o=e[c+1],i=e[c+2]):e[c+1]===o&&(i=Math.max(i,e[c+2]));return[i,o]}if((a==null?void 0:a.length)>=1){for(const c of a)for(let l=0,u=c.length;l<u;l+=2)c[l+1]>o?(o=c[l+1],i=c[l]):c[l+1]===o&&(i=Math.max(i,c[l]));if(i!==1/0)return[i,o]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:i,pageY:o}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-i)/a,t[1]=100*(t[1]-o)/r,t}get commentText(){var e,a,r;const{data:t}=this;return((a=(e=this.annotationStorage.getRawValue(`${e0}${t.id}`))==null?void 0:e.popup)==null?void 0:a.contents)||((r=t.contentsObj)==null?void 0:r.str)||""}set commentText(t){const{data:e}=this,a={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:a})||this.annotationStorage.setValue(`${e0}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:a,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=p(this,bi))==null?void 0:t.popup)||this.popup)==null||e.remove(),D(this,bi,this.popup=null)}updateEdited(t){var i;if(!this.container)return;t.rect&&(p(this,Ku)||D(this,Ku,{rect:this.data.rect.slice(0)}));const{rect:e,popup:a}=t;e&&O(this,dy,qN).call(this,e);let r=((i=p(this,bi))==null?void 0:i.popup)||this.popup;!r&&(a!=null&&a.text)&&(this._createPopup(a),r=p(this,bi).popup),r&&(r.updateEdited(t),a!=null&&a.deleted&&(r.remove(),D(this,bi,null),this.popup=null))}resetEdited(){var t;p(this,Ku)&&(O(this,dy,qN).call(this,p(this,Ku).rect),(t=p(this,bi))==null||t.popup.resetEdited(),D(this,Ku,null))}_createContainer(t){const{data:e,parent:{page:a,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",e.id),!(this instanceof Gm)&&!(this instanceof OO)&&(i.tabIndex=0);const{style:o}=i;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(i.title=e.alternativeText),e.noRotate&&i.classList.add("norotate"),!e.rect||this instanceof HN){const{rotation:v}=e;return!e.hasOwnCanvas&&v!==0&&this.setRotation(v,i),i}const{width:s,height:c}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const v=e.borderStyle.horizontalCornerRadius,b=e.borderStyle.verticalCornerRadius;if(v>0||b>0){const _=`calc(${v}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;o.borderRadius=_}else if(this instanceof $K){const _=`calc(${s}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=_}switch(e.borderStyle.style){case kh.SOLID:o.borderStyle="solid";break;case kh.DASHED:o.borderStyle="dashed";break;case kh.BEVELED:Wt("Unimplemented border style: beveled");break;case kh.INSET:Wt("Unimplemented border style: inset");break;case kh.UNDERLINE:o.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(D(this,Qp,!0),o.borderColor=Pt.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const l=Pt.normalizeRect([e.rect[0],a.view[3]-e.rect[1]+a.view[1],e.rect[2],a.view[3]-e.rect[3]+a.view[1]]),{pageWidth:u,pageHeight:h,pageX:f,pageY:y}=r.rawDims;o.left=`${100*(l[0]-f)/u}%`,o.top=`${100*(l[1]-y)/h}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(o.width=`${100*s/u}%`,o.height=`${100*c/h}%`):this.setRotation(w,i),i}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:o}=this;t%180!==0&&([i,o]=[o,i]),e.style.width=`${100*i/a}%`,e.style.height=`${100*o/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,a,r)=>{const i=r.detail[e],o=i[0],s=i.slice(1);r.target.style[a]=iU[`${o}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[a]:iU[`${o}_rgb`](s)})};return ee(this,"_commonActions",{display:e=>{const{display:a}=e.detail,r=a%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:a===1||a===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:a}=e.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const a=e.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(t,e){const a=this._commonActions;for(const r of Object.keys(e.detail)){const i=t[r]||a[r];i==null||i(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const a=this._commonActions;for(const[r,i]of Object.entries(e)){const o=a[r];if(o){const s={detail:{[r]:i},target:t};o(s),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,a,r,i]=this.data.rect.map(v=>Math.fround(v));if(t.length===8){const[v,b,S,_]=t.subarray(2,6);if(r===v&&i===b&&e===S&&a===_)return}const{style:o}=this.container;let s;if(p(this,Qp)){const{borderColor:v,borderWidth:b}=o;o.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=r-e,l=i-a,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=u.createElement("defs");h.append(f);const y=u.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),f.append(y);for(let v=2,b=t.length;v<b;v+=8){const S=t[v],_=t[v+1],P=t[v+2],E=t[v+3],C=u.createElement("rect"),T=(P-e)/c,B=(i-_)/l,L=(S-P)/c,M=(_-E)/l;C.setAttribute("x",T),C.setAttribute("y",B),C.setAttribute("width",L),C.setAttribute("height",M),y.append(C),s==null||s.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${B}" width="${L}" height="${M}"/>`)}p(this,Qp)&&(s.push("</g></svg>')"),o.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let a,r;t?(a={str:t.text},r=t.date):(a=e.contentsObj,r=e.modificationDate);const i=D(this,bi,new HN({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:a,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!(p(this,bi)||this.popup||this.data.popupRef)}get extraPopupElement(){return p(this,bi)}render(){je("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const a=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:i,id:o,exportValues:s}of r){if(i===-1||o===e)continue;const c=typeof s=="string"?s:null,l=document.querySelector(`[data-element-id="${o}"]`);if(l&&!Bm.has(l)){Wt(`_getElementsByName - element not allowed: ${o}`);continue}a.push({id:o,exportValue:c,domElement:l})}return a}for(const r of document.getElementsByName(t)){const{exportValue:i}=r,o=r.getAttribute("data-element-id");o!==e&&Bm.has(r)&&a.push({id:o,exportValue:i,domElement:r})}return a}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ku=new WeakMap,Qp=new WeakMap,bi=new WeakMap,dy=new WeakSet,qN=function(t){const{container:{style:e},data:{rect:a,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:s,pageY:c}}}}=this;a==null||a.splice(0,4,...t),e.left=`${100*(t[0]-s)/i}%`,e.top=`${100*(o-t[3]+c)/o}%`,r===0?(e.width=`${100*(t[2]-t[0])/i}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(r)};let an=qO;class lSt extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Xr,Wd,MK,FK;class OO extends an{constructor(e,a=null){super(e,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});j(this,Xr);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:a}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(a.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(O(this,Xr,MK).call(this,r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(O(this,Xr,FK).call(this,r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(e,a,r=""){e.href=this.linkService.getDestinationHash(a),e.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&O(this,Xr,Wd).call(this),r&&(e.title=r)}_bindNamedAction(e,a,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(a),!1),r&&(e.title=r),O(this,Xr,Wd).call(this)}_bindJSAction(e,a){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(a.actions)){const o=r.get(i);o&&(e[o]=()=>{var s;return(s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:i}}),!1})}a.overlaidText&&(e.title=a.overlaidText),e.onclick||(e.onclick=()=>!1),O(this,Xr,Wd).call(this)}_bindResetFormAction(e,a){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),O(this,Xr,Wd).call(this),!this._fieldObjects){Wt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var h;r==null||r();const{fields:i,refs:o,include:s}=a,c=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const y of i){const w=this._fieldObjects[y]||[];for(const{id:v}of w)f.add(v)}for(const y of Object.values(this._fieldObjects))for(const w of y)f.has(w.id)===s&&c.push(w)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const l=this.annotationStorage,u=[];for(const f of c){const{id:y}=f;switch(u.push(y),f.type){case"text":{const v=f.defaultValue||"";l.setValue(y,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;l.setValue(y,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";l.setValue(y,{value:v});break}default:continue}const w=document.querySelector(`[data-element-id="${y}"]`);if(w){if(!Bm.has(w)){Wt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Xr=new WeakSet,Wd=function(){this.container.setAttribute("data-internal-link","")},MK=function(e,a,r="",i=null){e.href=this.linkService.getAnchorUrl(""),a.description?e.title=a.description:r&&(e.title=r),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(a.content,a.filename,i),!1},O(this,Xr,Wd).call(this)},FK=function(e,a,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(a),!1),r&&(e.title=r),O(this,Xr,Wd).call(this)};class dSt extends an{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Gm extends an{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ya.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,a,r,i){a.includes("mouse")?t.addEventListener(a,o=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(a,o=>{var s;if(a==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(a==="focus"){if(e.focused)return;e.focused=!0}i&&((s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o)}}))})}_setEventListeners(t,e,a,r){var i,o,s;for(const[c,l]of a)(l==="Action"||(i=this.data.actions)!=null&&i[l])&&((l==="Focus"||l==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,c,l,r),l==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!((s=this.data.actions)!=null&&s.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||sSt,i=t.style;let o;const s=2,c=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-s),u=Math.round(l/(zE*r))||1,h=l/u;o=Math.min(r,c(h/zE))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-s);o=Math.min(r,c(l/zE))}i.fontSize=`calc(${o}px * var(--total-scale-factor))`,i.color=Pt.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(i.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class uSt extends Gm{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,a,r){const i=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=a),i.setValue(o.id,{[r]:a})}render(){var r,i;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let s=o.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&s.length>c&&(s=s.slice(0,c));let l=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=l??s,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type=this.data.password?"password":"text",a.setAttribute("value",l??s),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),Bm.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:y}=this.data,w=!!f&&this.enableScripting;h&&(a.title=h),this._setRequired(a,this.data.required),c&&(a.maxLength=c),a.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(a,"value",b.target.value,"value"),u.formattedValue=null}),a.addEventListener("resetform",b=>{const S=this.data.defaultFieldValue??"";a.value=u.userValue=S,u.formattedValue=null});let v=b=>{const{formattedValue:S}=u;S!=null&&(b.target.value=S),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",S=>{var P;if(u.focused)return;const{target:_}=S;if(w&&(_.type=f,y&&(_.step=y)),u.userValue){const E=u.userValue;if(w)if(f==="time"){const C=new Date(E),T=[C.getHours(),C.getMinutes(),C.getSeconds()];_.value=T.map(B=>B.toString().padStart(2,"0")).join(":")}else _.value=new Date(E-cSt).toISOString().split(f==="date"?"T":".",1)[0];else _.value=E}u.lastCommittedValue=_.value,u.commitKey=1,(P=this.data.actions)!=null&&P.Focus||(u.focused=!0)}),a.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const _={value(P){u.userValue=P.detail.value??"",w||t.setValue(e,{value:u.userValue.toString()}),P.target.value=u.userValue},formattedValue(P){const{formattedValue:E}=P.detail;u.formattedValue=E,E!=null&&P.target!==document.activeElement&&(P.target.value=E);const C={formattedValue:E};w&&(C.value=E),t.setValue(e,C)},selRange(P){P.target.setSelectionRange(...P.detail.selRange)},charLimit:P=>{var B;const{charLimit:E}=P.detail,{target:C}=P;if(E===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",E);let T=u.userValue;!T||T.length<=E||(T=T.slice(0,E),C.value=u.userValue=T,t.setValue(e,{value:T}),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(_,S)}),a.addEventListener("keydown",S=>{var E;u.commitKey=1;let _=-1;if(S.key==="Escape"?_=0:S.key==="Enter"&&!this.data.multiLine?_=2:S.key==="Tab"&&(u.commitKey=3),_===-1)return;const{value:P}=S.target;u.lastCommittedValue!==P&&(u.lastCommittedValue=P,u.userValue=P,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:_,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const b=v;v=null,a.addEventListener("blur",S=>{var E,C;if(!u.focused||!S.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(u.focused=!1);const{target:_}=S;let{value:P}=_;if(w){if(P&&f==="time"){const T=P.split(":").map(B=>parseInt(B,10));P=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),_.step=""}else P.includes("T")||(P=`${P}T00:00`),P=new Date(P).valueOf();_.type="text"}u.userValue=P,u.lastCommittedValue!==P&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:u.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),b(S)}),(i=this.data.actions)!=null&&i.Keystroke&&a.addEventListener("beforeinput",S=>{var M;u.lastCommittedValue=null;const{data:_,target:P}=S,{value:E,selectionStart:C,selectionEnd:T}=P;let B=C,L=T;switch(S.inputType){case"deleteWordBackward":{const U=E.substring(0,C).match(/\w*[^\w]*$/);U&&(B-=U[0].length);break}case"deleteWordForward":{const U=E.substring(C).match(/^[^\w]*\w*/);U&&(L+=U[0].length);break}case"deleteContentBackward":C===T&&(B-=1);break;case"deleteContentForward":C===T&&(L+=1);break}S.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,change:_||"",willCommit:!1,selStart:B,selEnd:L}})}),this._setEventListeners(a,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(v&&a.addEventListener("blur",v),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/c;a.classList.add("comb"),a.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class mSt extends Gm{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class hSt extends Gm{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,a=e.id;let r=t.getValue(a,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(a,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Bm.add(i),i.setAttribute("data-element-id",a),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=0,i.addEventListener("change",o=>{const{name:s,checked:c}=o.target;for(const l of this._getElementsByName(s,a)){const u=c&&l.exportValue===e.exportValue;l.domElement&&(l.domElement.checked=u),t.setValue(l.id,{value:u})}t.setValue(a,{value:c})}),i.addEventListener("resetform",o=>{const s=e.defaultFieldValue||"Off";o.target.checked=s===e.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const s={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(a,{value:c.target.checked})}};this._dispatchEventFromSandbox(s,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class $K extends Gm{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,a=e.id;let r=t.getValue(a,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(a,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,a))t.setValue(o.id,{value:!1});const i=document.createElement("input");if(Bm.add(i),i.setAttribute("data-element-id",a),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",o=>{const{name:s,checked:c}=o.target;for(const l of this._getElementsByName(s,a))t.setValue(l.id,{value:!1});t.setValue(a,{value:c})}),i.addEventListener("resetform",o=>{const s=e.defaultFieldValue;o.target.checked=s!=null&&s===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;i.addEventListener("updatefromsandbox",s=>{const c={value:l=>{const u=o===l.detail.value;for(const h of this._getElementsByName(l.target.name)){const f=u&&h.id===a;h.domElement&&(h.domElement.checked=f),t.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,s)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class pSt extends OO{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),t}}class fSt extends Gm{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,a=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Bm.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,a.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),i=!1),r.append(h)}let o=null;if(i){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const s=u=>{const h=u?"value":"textContent",{options:f,multiple:y}=r;return y?Array.prototype.filter.call(f,w=>w.selected).map(w=>w[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=s(!1);const l=u=>{const h=u.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const h={value(f){o==null||o();const y=f.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const v of r.options)v.selected=w.has(v.value);t.setValue(e,{value:s(!0)}),c=s(!1)},multipleSelection(f){r.multiple=!0},remove(f){const y=r.options,w=f.detail.remove;y[w].selected=!1,r.remove(w),y.length>0&&Array.prototype.findIndex.call(y,b=>b.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:s(!0),items:l(f)}),c=s(!1)},clear(f){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),c=s(!1)},insert(f){const{index:y,displayValue:w,exportValue:v}=f.detail.insert,b=r.children[y],S=document.createElement("option");S.textContent=w,S.value=v,b?b.before(S):r.append(S),t.setValue(e,{value:s(!0),items:l(f)}),c=s(!1)},items(f){const{items:y}=f.detail;for(;r.length!==0;)r.remove(0);for(const w of y){const{displayValue:v,exportValue:b}=w,S=document.createElement("option");S.textContent=v,S.value=b,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:s(!0),items:l(f)}),c=s(!1)},indices(f){const y=new Set(f.detail.indices);for(const w of f.target.options)w.selected=y.has(w.index);t.setValue(e,{value:s(!0)}),c=s(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,u)}),r.addEventListener("input",u=>{var y;const h=s(!0),f=s(!1);t.setValue(e,{value:h}),u.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:s(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var uy,VN;class HN extends an{constructor(e){const{data:a,elements:r,parent:i}=e,o=!!i._commentManager;super(e,{isRenderable:!o&&an._hasPopupData(a)});j(this,uy);if(this.elements=r,o&&an._hasPopupData(a)){const s=this.popup=O(this,uy,VN).call(this);for(const c of r)c.popup=s}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const a=this.popup=O(this,uy,VN).call(this),r=[];for(const i of this.elements)i.popup=a,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${EO}${i}`).join(",")),this.container}}uy=new WeakSet,VN=function(){return new gSt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Lr,Ml,C1,E1,Jp,Zp,dn,qo,Fl,Xu,tf,ef,Ho,Ir,Zs,tc,Xn,ec,$l,my,nc,nf,Yu,Gl,Da,Ul,te,_w,WN,KN,XN,Pw,YN,GK,UK,zK,qK,kw,Cw,QN;class gSt{constructor({container:t,color:e,elements:a,titleObj:r,modificationDate:i,contentsObj:o,richText:s,parent:c,rect:l,parentRect:u,open:h,commentManager:f=null}){j(this,te);j(this,Lr,null);j(this,Ml,O(this,te,zK).bind(this));j(this,C1,O(this,te,QN).bind(this));j(this,E1,O(this,te,Cw).bind(this));j(this,Jp,O(this,te,kw).bind(this));j(this,Zp,null);j(this,dn,null);j(this,qo,null);j(this,Fl,null);j(this,Xu,null);j(this,tf,null);j(this,ef,null);j(this,Ho,!1);j(this,Ir,null);j(this,Zs,null);j(this,tc,null);j(this,Xn,null);j(this,ec,null);j(this,$l,null);j(this,my,null);j(this,nc,null);j(this,nf,null);j(this,Yu,null);j(this,Gl,!1);j(this,Da,null);j(this,Ul,null);D(this,dn,t),D(this,nf,r),D(this,qo,o),D(this,nc,s),D(this,tf,c),D(this,Zp,e),D(this,my,l),D(this,ef,u),D(this,Xu,a),D(this,Lr,f),D(this,Da,a[0]),D(this,Fl,a1.toDateObject(i)),this.trigger=a.flatMap(y=>y.getElementsToTriggerPopup()),f?this.renderCommentButton():(O(this,te,_w).call(this),p(this,dn).hidden=!0,h&&O(this,te,kw).call(this))}renderCommentButton(){if(p(this,Xn)||(p(this,ec)||O(this,te,WN).call(this),!p(this,ec)))return;const{signal:t}=D(this,Zs,new AbortController),e=!!p(this,Da).extraPopupElement,a=()=>{p(this,Lr).toggleCommentPopup(this,!0,void 0,!e)},r=()=>{p(this,Lr).toggleCommentPopup(this,!1,!0,!e)},i=()=>{p(this,Lr).toggleCommentPopup(this,!1,!1)};if(e){D(this,Xn,p(this,Da).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",p(this,Ml),{signal:t}),o.addEventListener("click",a,{signal:t}),o.addEventListener("pointerenter",r,{signal:t}),o.addEventListener("pointerleave",i,{signal:t}),o.classList.add("popupTriggerArea")}else{const o=D(this,Xn,document.createElement("button"));o.className="annotationCommentButton";const s=p(this,Da).container;o.style.zIndex=s.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),O(this,te,XN).call(this),O(this,te,KN).call(this),o.addEventListener("keydown",p(this,Ml),{signal:t}),o.addEventListener("click",a,{signal:t}),o.addEventListener("pointerenter",r,{signal:t}),o.addEventListener("pointerleave",i,{signal:t}),s.after(o)}}get commentButtonColor(){const{color:t,opacity:e}=p(this,Da).commentData;return t?p(this,tf)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=p(this,Xn))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:a,creationDate:r,modificationDate:i}=p(this,Da).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:a,creationDate:r,modificationDate:i}}get elementBeforePopup(){return p(this,Xn)}get comment(){return p(this,Ul)||D(this,Ul,p(this,Da).commentText),p(this,Ul)}set comment(t){t!==this.comment&&(p(this,Da).commentText=D(this,Ul,t))}get parentBoundingClientRect(){return p(this,Da).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){p(this,Xn)&&(p(this,Xn).classList.toggle("selected",t),p(this,Xn).ariaExpanded=e)}setSelectedCommentButton(t){p(this,Xn).classList.toggle("selected",t)}get commentPopupPosition(){if(p(this,$l))return p(this,$l);const{x:t,y:e,height:a}=p(this,Xn).getBoundingClientRect(),{x:r,y:i,width:o,height:s}=p(this,Da).layer.getBoundingClientRect();return[(t-r)/o,(e+a-i)/s]}set commentPopupPosition(t){D(this,$l,t)}hasDefaultPopupPosition(){return p(this,$l)===null}get commentButtonPosition(){return p(this,ec)}get commentButtonWidth(){return p(this,Xn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,a]=p(this,$l)||this.commentButtonPosition.map(l=>l/100),r=this.parentBoundingClientRect,{x:i,y:o,width:s,height:c}=r;p(this,Lr).showDialog(null,this,i+e*s,o+a*c,{...t,parentDimensions:r})}render(){var a,r;if(p(this,Ir))return;const t=D(this,Ir,document.createElement("div"));if(t.className="popup",p(this,Zp)){const i=t.style.outlineColor=Pt.makeHexColor(...p(this,Zp));t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",(a=p(this,nf))!=null&&a.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=p(this,nf)}if(t.append(e),p(this,Fl)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,Fl).valueOf()})),i.dateTime=p(this,Fl).toISOString(),e.append(i)}jW({html:p(this,te,Pw)||p(this,qo).str,dir:(r=p(this,qo))==null?void 0:r.dir,className:"popupContent"},t),p(this,dn).append(t)}updateEdited({rect:t,popup:e,deleted:a}){var r;if(p(this,Lr)){a?(this.remove(),D(this,Ul,null)):e&&(e.deleted?this.remove():(O(this,te,XN).call(this),D(this,Ul,e.text))),t&&(D(this,ec,null),O(this,te,WN).call(this),O(this,te,KN).call(this));return}if(a||e!=null&&e.deleted){this.remove();return}O(this,te,_w).call(this),p(this,Yu)||D(this,Yu,{contentsObj:p(this,qo),richText:p(this,nc)}),t&&D(this,tc,null),e&&e.text&&(D(this,nc,O(this,te,UK).call(this,e.text)),D(this,Fl,a1.toDateObject(e.date)),D(this,qo,null)),(r=p(this,Ir))==null||r.remove(),D(this,Ir,null)}resetEdited(){var t;p(this,Yu)&&({contentsObj:Bn(this,qo)._,richText:Bn(this,nc)._}=p(this,Yu),D(this,Yu,null),(t=p(this,Ir))==null||t.remove(),D(this,Ir,null),D(this,tc,null))}remove(){var t,e,a;if((t=p(this,Zs))==null||t.abort(),D(this,Zs,null),(e=p(this,Ir))==null||e.remove(),D(this,Ir,null),D(this,Gl,!1),D(this,Ho,!1),(a=p(this,Xn))==null||a.remove(),D(this,Xn,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){D(this,Gl,this.isVisible),p(this,Gl)&&(p(this,dn).hidden=!0)}maybeShow(){p(this,Lr)||(O(this,te,_w).call(this),p(this,Gl)&&(p(this,Ir)||O(this,te,Cw).call(this),D(this,Gl,!1),p(this,dn).hidden=!1))}get isVisible(){return p(this,Lr)?!1:p(this,dn).hidden===!1}}Lr=new WeakMap,Ml=new WeakMap,C1=new WeakMap,E1=new WeakMap,Jp=new WeakMap,Zp=new WeakMap,dn=new WeakMap,qo=new WeakMap,Fl=new WeakMap,Xu=new WeakMap,tf=new WeakMap,ef=new WeakMap,Ho=new WeakMap,Ir=new WeakMap,Zs=new WeakMap,tc=new WeakMap,Xn=new WeakMap,ec=new WeakMap,$l=new WeakMap,my=new WeakMap,nc=new WeakMap,nf=new WeakMap,Yu=new WeakMap,Gl=new WeakMap,Da=new WeakMap,Ul=new WeakMap,te=new WeakSet,_w=function(){var e;if(p(this,Zs))return;D(this,Zs,new AbortController);const{signal:t}=p(this,Zs);for(const a of this.trigger)a.addEventListener("click",p(this,Jp),{signal:t}),a.addEventListener("pointerenter",p(this,E1),{signal:t}),a.addEventListener("pointerleave",p(this,C1),{signal:t}),a.classList.add("popupTriggerArea");for(const a of p(this,Xu))(e=a.container)==null||e.addEventListener("keydown",p(this,Ml),{signal:t})},WN=function(){const t=p(this,Xu).find(e=>e.hasCommentButton);t&&D(this,ec,t._normalizePoint(t.commentButtonPosition))},KN=function(){if(p(this,Da).extraPopupElement&&!p(this,Da).editor)return;this.renderCommentButton();const[t,e]=p(this,ec),{style:a}=p(this,Xn);a.left=`calc(${t}%)`,a.top=`calc(${e}% - var(--comment-button-dim))`},XN=function(){p(this,Da).extraPopupElement||(this.renderCommentButton(),p(this,Xn).style.backgroundColor=this.commentButtonColor||"")},Pw=function(){const t=p(this,nc),e=p(this,qo);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&p(this,nc).html||null},YN=function(){var t,e,a;return((a=(e=(t=p(this,te,Pw))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:a.fontSize)||0},GK=function(){var t,e,a;return((a=(e=(t=p(this,te,Pw))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:a.color)||null},UK=function(t){const e=[],a={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:p(this,te,GK),fontSize:p(this,te,YN)?`calc(${p(this,te,YN)}px * var(--total-scale-factor))`:""}};for(const i of t.split(`
`))e.push({name:"span",value:i,attributes:r});return a},zK=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&p(this,Ho))&&O(this,te,kw).call(this)},qK=function(){if(p(this,tc)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:a,pageX:r,pageY:i}}}=p(this,tf);let o=!!p(this,ef),s=o?p(this,ef):p(this,my);for(const w of p(this,Xu))if(!s||Pt.intersect(w.data.rect,s)!==null){s=w.data.rect,o=!0;break}const c=Pt.normalizeRect([s[0],t[3]-s[1]+t[1],s[2],t[3]-s[3]+t[1]]),u=o?s[2]-s[0]+5:0,h=c[0]+u,f=c[1];D(this,tc,[100*(h-r)/e,100*(f-i)/a]);const{style:y}=p(this,dn);y.left=`${p(this,tc)[0]}%`,y.top=`${p(this,tc)[1]}%`},kw=function(){if(p(this,Lr)){p(this,Lr).toggleCommentPopup(this,!1);return}D(this,Ho,!p(this,Ho)),p(this,Ho)?(O(this,te,Cw).call(this),p(this,dn).addEventListener("click",p(this,Jp)),p(this,dn).addEventListener("keydown",p(this,Ml))):(O(this,te,QN).call(this),p(this,dn).removeEventListener("click",p(this,Jp)),p(this,dn).removeEventListener("keydown",p(this,Ml)))},Cw=function(){p(this,Ir)||this.render(),this.isVisible?p(this,Ho)&&p(this,dn).classList.add("focused"):(O(this,te,qK).call(this),p(this,dn).hidden=!1,p(this,dn).style.zIndex=parseInt(p(this,dn).style.zIndex)+1e3)},QN=function(){p(this,dn).classList.remove("focused"),!(p(this,Ho)||!this.isVisible)&&(p(this,dn).hidden=!0,p(this,dn).style.zIndex=parseInt(p(this,dn).style.zIndex)-1e3)};class HK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const a=document.createElement("span");a.textContent=e,t.append(a)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hy;class xSt extends an{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});j(this,hy,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:a,height:r}=this,i=this.svgFactory.create(a,r,!0),o=D(this,hy,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,hy)}addHighlightArea(){this.container.classList.add("highlightArea")}}hy=new WeakMap;var py;class ySt extends an{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});j(this,py,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:a,height:r}=this,i=this.svgFactory.create(a,r,!0),o=e.borderStyle.width,s=D(this,py,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",o/2),s.setAttribute("y",o/2),s.setAttribute("width",a-o),s.setAttribute("height",r-o),s.setAttribute("stroke-width",o||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap;var fy;class vSt extends an{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});j(this,fy,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:a,height:r}=this,i=this.svgFactory.create(a,r,!0),o=e.borderStyle.width,s=D(this,fy,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",a/2),s.setAttribute("cy",r/2),s.setAttribute("rx",a/2-o/2),s.setAttribute("ry",r/2-o/2),s.setAttribute("stroke-width",o||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}fy=new WeakMap;var gy;class VK extends an{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});j(this,gy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:a,borderStyle:r,popupRef:i},width:o,height:s}=this;if(!a)return this.container;const c=this.svgFactory.create(o,s,!0);let l=[];for(let h=0,f=a.length;h<f;h+=2){const y=a[h]-e[0],w=e[3]-a[h+1];l.push(`${y},${w}`)}l=l.join(" ");const u=D(this,gy,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",l),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}gy=new WeakMap;class bSt extends VK{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wSt extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xy,Qu,yy,JN;class LO extends an{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});j(this,yy);j(this,xy,null);j(this,Qu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xt.HIGHLIGHT:Xt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:a,inkLists:r,borderStyle:i,popupRef:o}}=this,{transform:s,width:c,height:l}=O(this,yy,JN).call(this,a,e),u=this.svgFactory.create(c,l,!0),h=D(this,xy,this.svgFactory.createElement("svg:g"));u.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",s);for(let f=0,y=r.length;f<y;f++){const w=this.svgFactory.createElement(this.svgElementName);p(this,Qu).push(w),w.setAttribute("points",r[f].join(",")),h.append(w)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:a,points:r,rect:i}=e,o=p(this,xy);if(a>=0&&o.setAttribute("stroke-width",a||1),r)for(let s=0,c=p(this,Qu).length;s<c;s++)p(this,Qu)[s].setAttribute("points",r[s].join(","));if(i){const{transform:s,width:c,height:l}=O(this,yy,JN).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${l}`),o.setAttribute("transform",s)}}getElementsToTriggerPopup(){return p(this,Qu)}addHighlightArea(){this.container.classList.add("highlightArea")}}xy=new WeakMap,Qu=new WeakMap,yy=new WeakSet,JN=function(e,a){switch(e){case 90:return{transform:`rotate(90) translate(${-a[0]},${a[1]}) scale(1,-1)`,width:a[3]-a[1],height:a[2]-a[0]};case 180:return{transform:`rotate(180) translate(${-a[2]},${a[1]}) scale(1,-1)`,width:a[2]-a[0],height:a[3]-a[1]};case 270:return{transform:`rotate(270) translate(${-a[2]},${a[3]}) scale(1,-1)`,width:a[3]-a[1],height:a[2]-a[0]};default:return{transform:`translate(${-a[0]},${a[3]}) scale(1,-1)`,width:a[2]-a[0],height:a[3]-a[1]}}};class WK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const a=document.createElement("mark");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class ASt extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const a=document.createElement("u");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class SSt extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const a=document.createElement("u");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class _St extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const a=document.createElement("s");a.classList.add("overlaidText"),a.textContent=t,this.container.append(a)}return this.container}}class KK extends an{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vy,by,ZN;class PSt extends an{constructor(e){var r;super(e,{isRenderable:!0});j(this,by);j(this,vy,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:a}=this;let r;a.hasAppearance||a.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),r.addEventListener("dblclick",O(this,by,ZN).bind(this)),D(this,vy,r);const{isMac:i}=ya.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&O(this,by,ZN).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return p(this,vy)}addHighlightArea(){this.container.classList.add("highlightArea")}}vy=new WeakMap,by=new WeakSet,ZN=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var af,Ju,rf,zl,wy,Zu,pd,eB,nB;const HO=class HO{constructor({div:t,accessibilityManager:e,annotationCanvasMap:a,annotationEditorUIManager:r,page:i,viewport:o,structTreeLayer:s,commentManager:c,linkService:l,annotationStorage:u}){j(this,pd);j(this,af,null);j(this,Ju,null);j(this,rf,null);j(this,zl,new Map);j(this,wy,null);j(this,Zu,null);this.div=t,D(this,af,e),D(this,Ju,a),D(this,wy,s||null),D(this,Zu,l||null),D(this,rf,u||new NO),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return p(this,zl).size>0}async render(t){var o,s,c;const{annotations:e}=t,a=this.div;Dm(a,this.viewport);const r=new Map,i={data:null,layer:a,linkService:p(this,Zu),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new u1,annotationStorage:p(this,rf),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===An.POPUP;if(u){const y=r.get(l.id);if(!y)continue;i.elements=y}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;i.data=l;const h=oU.create(i);if(!h.isRenderable)continue;if(!u&&l.popupRef){const y=r.get(l.popupRef);y?y.push(h):r.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),await O(this,pd,eB).call(this,f,l.id,i.elements),(s=(o=h.extraPopupElement)==null?void 0:o.popup)==null||s.renderCommentButton(),h._isEditable&&(p(this,zl).set(h.data.id,h),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(h))}O(this,pd,nB).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:p(this,Zu),svgFactory:new u1,parent:this};for(const a of t){a.borderStyle||(a.borderStyle=HO._defaultBorderStyle),e.data=a;const r=oU.create(e);if(!r.isRenderable)continue;const i=r.render();await O(this,pd,eB).call(this,i,a.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Dm(e,{rotation:t.rotation}),O(this,pd,nB).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(p(this,zl).values())}getEditableAnnotation(t){return p(this,zl).get(t)}addFakeAnnotation(t){var s;const{div:e}=this,{id:a,rotation:r}=t,i=new lSt({data:{id:a,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:p(this,Zu),annotationStorage:p(this,rf)}),o=i.render();return e.append(o),(s=p(this,af))==null||s.moveElementInDOM(e,o,o,!1),i.createOrUpdatePopup(),i}static get _defaultBorderStyle(){return ee(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:kh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};af=new WeakMap,Ju=new WeakMap,rf=new WeakMap,zl=new WeakMap,wy=new WeakMap,Zu=new WeakMap,pd=new WeakSet,eB=async function(t,e,a){var s,c;const r=t.firstChild||t,i=r.id=`${EO}${e}`,o=await((s=p(this,wy))==null?void 0:s.getAriaAttributes(i));if(o)for(const[l,u]of o)r.setAttribute(l,u);a?a.at(-1).container.after(t):(this.div.append(t),(c=p(this,af))==null||c.moveElementInDOM(this.div,t,r,!1))},nB=function(){var e;if(!p(this,Ju))return;const t=this.div;for(const[a,r]of p(this,Ju)){const i=t.querySelector(`[data-annotation-id="${a}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r);const s=p(this,zl).get(a);s&&(s._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(a,i.id,r),s._hasNoCanvas=!1):s.canvas=r)}p(this,Ju).clear()};let tB=HO;const nw=/\r\n?|\n/g;var Rr,Ay,tm,Mr,Tn,XK,YK,QK,Ew,wc,Tw,Dw,JK,rB,ZK;const Ue=class Ue extends Fe{constructor(e){super({...e,name:"freeTextEditor"});j(this,Tn);j(this,Rr,"");j(this,Ay,`${this.id}-editor`);j(this,tm,null);j(this,Mr);ht(this,"_colorPicker",null);this.color=e.color||Ue._defaultColor||Fe._defaultLineColor,D(this,Mr,e.fontSize||Ue._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Ue.prototype,a=o=>o.isEmpty(),r=Nm.TRANSLATE_SMALL,i=Nm.TRANSLATE_BIG;return ee(this,"_keyboardManager",new sv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:a}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:a}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:a}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:a}]]))}static initialize(e,a){Fe.initialize(e,a);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,a){switch(e){case oe.FREETEXT_SIZE:Ue._defaultFontSize=a;break;case oe.FREETEXT_COLOR:Ue._defaultColor=a;break}}updateParams(e,a){switch(e){case oe.FREETEXT_SIZE:O(this,Tn,XK).call(this,a);break;case oe.FREETEXT_COLOR:O(this,Tn,YK).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[oe.FREETEXT_SIZE,Ue._defaultFontSize],[oe.FREETEXT_COLOR,Ue._defaultColor||Fe._defaultLineColor]]}get propertiesToUpdate(){return[[oe.FREETEXT_SIZE,p(this,Mr)],[oe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new d1(this)),[["colorPicker",this._colorPicker]]}get colorType(){return oe.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,a){this._uiManager.translateSelectedEditors(e,a,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ue._internalPadding*e,-(Ue._internalPadding+p(this,Mr))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,tm,new AbortController);const e=this._uiManager.combinedSignal(p(this,tm));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,Ay)),this._isDraggable=!0,(e=p(this,tm))==null||e.abort(),D(this,tm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var a;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(a=this._initialOptions)!=null&&a.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=p(this,Rr),a=D(this,Rr,O(this,Tn,QK).call(this).trimEnd());if(e===a)return;const r=i=>{if(D(this,Rr,i),!i){this.remove();return}O(this,Tn,Dw).call(this),this._uiManager.rebuild(this),O(this,Tn,Ew).call(this)};this.addCommands({cmd:()=>{r(a)},undo:()=>{r(e)},mustExec:!1}),O(this,Tn,Ew).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ue._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,a;(this._isCopy||this.annotationElementId)&&(e=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,Ay)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${p(this,Mr)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[c,l]=this.getInitialTranslation();[c,l]=this.pageTranslationToScreen(c,l);const[u,h]=this.pageDimensions,[f,y]=this.pageTranslation;let w,v;switch(this.rotation){case 0:w=e+(s[0]-f)/u,v=a+this.height-(s[1]-y)/h;break;case 90:w=e+(s[0]-f)/u,v=a-(s[1]-y)/h,[c,l]=[l,-c];break;case 180:w=e-this.width+(s[0]-f)/u,v=a-(s[1]-y)/h,[c,l]=[-c,-l];break;case 270:w=e+(s[0]-f-this.height*h)/u,v=a+(s[1]-y-this.width*u)/h,[c,l]=[-l,c];break}this.setAt(w*i,v*o,c,l)}else this._moveAfterPaste(e,a);O(this,Tn,Dw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var w,v,b;const a=e.clipboardData||window.clipboardData,{types:r}=a;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=O(w=Ue,wc,rB).call(w,a.getData("text")||"").replaceAll(nw,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const s=o.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:l}=s,u=[],h=[];if(c.nodeType===Node.TEXT_NODE){const S=c.parentElement;if(h.push(c.nodeValue.slice(l).replaceAll(nw,"")),S!==this.editorDiv){let _=u;for(const P of this.editorDiv.childNodes){if(P===S){_=h;continue}_.push(O(v=Ue,wc,Tw).call(v,P))}}u.push(c.nodeValue.slice(0,l).replaceAll(nw,""))}else if(c===this.editorDiv){let S=u,_=0;for(const P of this.editorDiv.childNodes)_++===l&&(S=h),S.push(O(b=Ue,wc,Tw).call(b,P))}D(this,Rr,`${u.join(`
`)}${i}${h.join(`
`)}`),O(this,Tn,Dw).call(this);const f=new Range;let y=Math.sumPrecise(u.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const _=S.nodeValue.length;if(y<=_){f.setStart(S,y),f.setEnd(S,y);break}y-=_}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ue._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,a,r){var s;let i=null;if(e instanceof HK){const{data:{defaultAppearanceData:{fontSize:c,fontColor:l},rect:u,rotation:h,id:f,popupRef:y,richText:w,contentsObj:v,creationDate:b,modificationDate:S},textContent:_,textPosition:P,parent:{page:{pageNumber:E}}}=e;if(!_||_.length===0)return null;i=e={annotationType:Xt.FREETEXT,color:Array.from(l),fontSize:c,value:_.join(`
`),position:P,pageIndex:E-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:y,comment:(v==null?void 0:v.str)||null,richText:w,creationDate:b,modificationDate:S}}const o=await super.deserialize(e,a,r);return D(o,Mr,e.fontSize),o.color=Pt.makeHexColor(...e.color),D(o,Rr,O(s=Ue,wc,rB).call(s,e.value)),o._initialData=i,e.comment&&o.setCommentData(e),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=Fe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:a,fontSize:p(this,Mr),value:O(this,Tn,JK).call(this)});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!O(this,Tn,ZK).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const a=super.renderAnnotationElement(e);if(!a)return null;const{style:r}=a;r.fontSize=`calc(${p(this,Mr)}px * var(--total-scale-factor))`,r.color=this.color,a.replaceChildren();for(const i of p(this,Rr).split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),a.append(o)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:p(this,Rr)}}),a}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Rr=new WeakMap,Ay=new WeakMap,tm=new WeakMap,Mr=new WeakMap,Tn=new WeakSet,XK=function(e){const a=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-p(this,Mr))*this.parentScale),D(this,Mr,i),O(this,Tn,Ew).call(this)},r=p(this,Mr);this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},YK=function(e){const a=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},QK=function(){var r;const e=[];this.editorDiv.normalize();let a=null;for(const i of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(O(r=Ue,wc,Tw).call(r,i)),a=i);return e.join(`
`)},Ew=function(){const[e,a]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,s=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=s,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/a):(this.width=r.height/e,this.height=r.width/a),this.fixAndSetPosition()},wc=new WeakSet,Tw=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(nw,"")},Dw=function(){if(this.editorDiv.replaceChildren(),!!p(this,Rr))for(const e of p(this,Rr).split(`
`)){const a=document.createElement("div");a.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(a)}},JK=function(){return p(this,Rr).replaceAll(""," ")},rB=function(e){return e.replaceAll(" ","")},ZK=function(e){const{value:a,fontSize:r,color:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==a||e.fontSize!==r||e.color.some((s,c)=>s!==i[c])||e.pageIndex!==o},j(Ue,wc),ht(Ue,"_freeTextDefaultContent",""),ht(Ue,"_internalPadding",0),ht(Ue,"_defaultColor",null),ht(Ue,"_defaultFontSize",10),ht(Ue,"_type","freetext"),ht(Ue,"_editorType",Xt.FREETEXT);let aB=Ue;class St{toSVGPath(){je("Abstract method `toSVGPath` must be implemented.")}get box(){je("Abstract getter `box` must be implemented.")}serialize(t,e){je("Abstract method `serialize` must be implemented.")}static _rescale(t,e,a,r,i,o){o||(o=new Float32Array(t.length));for(let s=0,c=t.length;s<c;s+=2)o[s]=e+t[s]*r,o[s+1]=a+t[s+1]*i;return o}static _rescaleAndSwap(t,e,a,r,i,o){o||(o=new Float32Array(t.length));for(let s=0,c=t.length;s<c;s+=2)o[s]=e+t[s+1]*r,o[s+1]=a+t[s]*i;return o}static _translate(t,e,a,r){r||(r=new Float32Array(t.length));for(let i=0,o=t.length;i<o;i+=2)r[i]=e+t[i],r[i+1]=a+t[i+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,a,r,i){switch(i){case 90:return[1-e/a,t/r];case 180:return[1-t/a,1-e/r];case 270:return[e/a,1-t/r];default:return[t/a,e/r]}}static _normalizePagePoint(t,e,a){switch(a){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,a,r,i,o){return[(t+5*a)/6,(e+5*r)/6,(5*a+i)/6,(5*r+o)/6,(a+i)/2,(r+o)/2]}}ht(St,"PRECISION",1e-4);var Fr,no,of,sf,Vo,re,em,nm,Sy,_y,cf,lf,ql,Py,T1,D1,Gn,Ug,tX,eX,nX,aX,rX,iX;const Ts=class Ts{constructor({x:t,y:e},a,r,i,o,s=0){j(this,Gn);j(this,Fr);j(this,no,[]);j(this,of);j(this,sf);j(this,Vo,[]);j(this,re,new Float32Array(18));j(this,em);j(this,nm);j(this,Sy);j(this,_y);j(this,cf);j(this,lf);j(this,ql,[]);D(this,Fr,a),D(this,lf,i*r),D(this,sf,o),p(this,re).set([NaN,NaN,NaN,NaN,t,e],6),D(this,of,s),D(this,_y,p(Ts,Py)*r),D(this,Sy,p(Ts,D1)*r),D(this,cf,r),p(this,ql).push(t,e)}isEmpty(){return isNaN(p(this,re)[8])}add({x:t,y:e}){var M;D(this,em,t),D(this,nm,e);const[a,r,i,o]=p(this,Fr);let[s,c,l,u]=p(this,re).subarray(8,12);const h=t-l,f=e-u,y=Math.hypot(h,f);if(y<p(this,Sy))return!1;const w=y-p(this,_y),v=w/y,b=v*h,S=v*f;let _=s,P=c;s=l,c=u,l+=b,u+=S,(M=p(this,ql))==null||M.push(t,e);const E=-S/w,C=b/w,T=E*p(this,lf),B=C*p(this,lf);return p(this,re).set(p(this,re).subarray(2,8),0),p(this,re).set([l+T,u+B],4),p(this,re).set(p(this,re).subarray(14,18),12),p(this,re).set([l-T,u-B],16),isNaN(p(this,re)[6])?(p(this,Vo).length===0&&(p(this,re).set([s+T,c+B],2),p(this,Vo).push(NaN,NaN,NaN,NaN,(s+T-a)/i,(c+B-r)/o),p(this,re).set([s-T,c-B],14),p(this,no).push(NaN,NaN,NaN,NaN,(s-T-a)/i,(c-B-r)/o)),p(this,re).set([_,P,s,c,l,u],6),!this.isEmpty()):(p(this,re).set([_,P,s,c,l,u],6),Math.abs(Math.atan2(P-c,_-s)-Math.atan2(S,b))<Math.PI/2?([s,c,l,u]=p(this,re).subarray(2,6),p(this,Vo).push(NaN,NaN,NaN,NaN,((s+l)/2-a)/i,((c+u)/2-r)/o),[s,c,_,P]=p(this,re).subarray(14,18),p(this,no).push(NaN,NaN,NaN,NaN,((_+s)/2-a)/i,((P+c)/2-r)/o),!0):([_,P,s,c,l,u]=p(this,re).subarray(0,6),p(this,Vo).push(((_+5*s)/6-a)/i,((P+5*c)/6-r)/o,((5*s+l)/6-a)/i,((5*c+u)/6-r)/o,((s+l)/2-a)/i,((c+u)/2-r)/o),[l,u,s,c,_,P]=p(this,re).subarray(12,18),p(this,no).push(((_+5*s)/6-a)/i,((P+5*c)/6-r)/o,((5*s+l)/6-a)/i,((5*c+u)/6-r)/o,((s+l)/2-a)/i,((c+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=p(this,Vo),e=p(this,no);if(isNaN(p(this,re)[6])&&!this.isEmpty())return O(this,Gn,tX).call(this);const a=[];a.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?a.push(`L${t[r+4]} ${t[r+5]}`):a.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);O(this,Gn,nX).call(this,a);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?a.push(`L${e[r+4]} ${e[r+5]}`):a.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return O(this,Gn,eX).call(this,a),a.join(" ")}newFreeDrawOutline(t,e,a,r,i,o){return new oX(t,e,a,r,i,o)}getOutlines(){var h;const t=p(this,Vo),e=p(this,no),a=p(this,re),[r,i,o,s]=p(this,Fr),c=new Float32Array((((h=p(this,ql))==null?void 0:h.length)??0)+2);for(let f=0,y=c.length-2;f<y;f+=2)c[f]=(p(this,ql)[f]-r)/o,c[f+1]=(p(this,ql)[f+1]-i)/s;if(c[c.length-2]=(p(this,em)-r)/o,c[c.length-1]=(p(this,nm)-i)/s,isNaN(a[6])&&!this.isEmpty())return O(this,Gn,aX).call(this,c);const l=new Float32Array(p(this,Vo).length+24+p(this,no).length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){l[f]=l[f+1]=NaN;continue}l[f]=t[f],l[f+1]=t[f+1]}u=O(this,Gn,iX).call(this,l,u);for(let f=e.length-6;f>=6;f-=6)for(let y=0;y<6;y+=2){if(isNaN(e[f+y])){l[u]=l[u+1]=NaN,u+=2;continue}l[u]=e[f+y],l[u+1]=e[f+y+1],u+=2}return O(this,Gn,rX).call(this,l,u),this.newFreeDrawOutline(l,c,p(this,Fr),p(this,cf),p(this,of),p(this,sf))}};Fr=new WeakMap,no=new WeakMap,of=new WeakMap,sf=new WeakMap,Vo=new WeakMap,re=new WeakMap,em=new WeakMap,nm=new WeakMap,Sy=new WeakMap,_y=new WeakMap,cf=new WeakMap,lf=new WeakMap,ql=new WeakMap,Py=new WeakMap,T1=new WeakMap,D1=new WeakMap,Gn=new WeakSet,Ug=function(){const t=p(this,re).subarray(4,6),e=p(this,re).subarray(16,18),[a,r,i,o]=p(this,Fr);return[(p(this,em)+(t[0]-e[0])/2-a)/i,(p(this,nm)+(t[1]-e[1])/2-r)/o,(p(this,em)+(e[0]-t[0])/2-a)/i,(p(this,nm)+(e[1]-t[1])/2-r)/o]},tX=function(){const[t,e,a,r]=p(this,Fr),[i,o,s,c]=O(this,Gn,Ug).call(this);return`M${(p(this,re)[2]-t)/a} ${(p(this,re)[3]-e)/r} L${(p(this,re)[4]-t)/a} ${(p(this,re)[5]-e)/r} L${i} ${o} L${s} ${c} L${(p(this,re)[16]-t)/a} ${(p(this,re)[17]-e)/r} L${(p(this,re)[14]-t)/a} ${(p(this,re)[15]-e)/r} Z`},eX=function(t){const e=p(this,no);t.push(`L${e[4]} ${e[5]} Z`)},nX=function(t){const[e,a,r,i]=p(this,Fr),o=p(this,re).subarray(4,6),s=p(this,re).subarray(16,18),[c,l,u,h]=O(this,Gn,Ug).call(this);t.push(`L${(o[0]-e)/r} ${(o[1]-a)/i} L${c} ${l} L${u} ${h} L${(s[0]-e)/r} ${(s[1]-a)/i}`)},aX=function(t){const e=p(this,re),[a,r,i,o]=p(this,Fr),[s,c,l,u]=O(this,Gn,Ug).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(e[2]-a)/i,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-a)/i,(e[5]-r)/o,NaN,NaN,NaN,NaN,s,c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,(e[16]-a)/i,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-a)/i,(e[15]-r)/o],0),this.newFreeDrawOutline(h,t,p(this,Fr),p(this,cf),p(this,of),p(this,sf))},rX=function(t,e){const a=p(this,no);return t.set([NaN,NaN,NaN,NaN,a[4],a[5]],e),e+=6},iX=function(t,e){const a=p(this,re).subarray(4,6),r=p(this,re).subarray(16,18),[i,o,s,c]=p(this,Fr),[l,u,h,f]=O(this,Gn,Ug).call(this);return t.set([NaN,NaN,NaN,NaN,(a[0]-i)/s,(a[1]-o)/c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-i)/s,(r[1]-o)/c],e),e+=24},j(Ts,Py,8),j(Ts,T1,2),j(Ts,D1,p(Ts,Py)+p(Ts,T1));let m1=Ts;var df,am,ac,ky,$r,Cy,yn,N1,sX;class oX extends St{constructor(e,a,r,i,o,s){super();j(this,N1);j(this,df);j(this,am,new Float32Array(4));j(this,ac);j(this,ky);j(this,$r);j(this,Cy);j(this,yn);D(this,yn,e),D(this,$r,a),D(this,df,r),D(this,Cy,i),D(this,ac,o),D(this,ky,s),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],O(this,N1,sX).call(this,s);const[c,l,u,h]=p(this,am);for(let f=0,y=e.length;f<y;f+=2)e[f]=(e[f]-c)/u,e[f+1]=(e[f+1]-l)/h;for(let f=0,y=a.length;f<y;f+=2)a[f]=(a[f]-c)/u,a[f+1]=(a[f+1]-l)/h}toSVGPath(){const e=[`M${p(this,yn)[4]} ${p(this,yn)[5]}`];for(let a=6,r=p(this,yn).length;a<r;a+=6){if(isNaN(p(this,yn)[a])){e.push(`L${p(this,yn)[a+4]} ${p(this,yn)[a+5]}`);continue}e.push(`C${p(this,yn)[a]} ${p(this,yn)[a+1]} ${p(this,yn)[a+2]} ${p(this,yn)[a+3]} ${p(this,yn)[a+4]} ${p(this,yn)[a+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,a,r,i],o){const s=r-e,c=i-a;let l,u;switch(o){case 0:l=St._rescale(p(this,yn),e,i,s,-c),u=St._rescale(p(this,$r),e,i,s,-c);break;case 90:l=St._rescaleAndSwap(p(this,yn),e,a,s,c),u=St._rescaleAndSwap(p(this,$r),e,a,s,c);break;case 180:l=St._rescale(p(this,yn),r,a,-s,c),u=St._rescale(p(this,$r),r,a,-s,c);break;case 270:l=St._rescaleAndSwap(p(this,yn),r,i,-s,-c),u=St._rescaleAndSwap(p(this,$r),r,i,-s,-c);break}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return p(this,am)}newOutliner(e,a,r,i,o,s=0){return new m1(e,a,r,i,o,s)}getNewOutline(e,a){const[r,i,o,s]=p(this,am),[c,l,u,h]=p(this,df),f=o*u,y=s*h,w=r*u+c,v=i*h+l,b=this.newOutliner({x:p(this,$r)[0]*f+w,y:p(this,$r)[1]*y+v},p(this,df),p(this,Cy),e,p(this,ky),a??p(this,ac));for(let S=2;S<p(this,$r).length;S+=2)b.add({x:p(this,$r)[S]*f+w,y:p(this,$r)[S+1]*y+v});return b.getOutlines()}}df=new WeakMap,am=new WeakMap,ac=new WeakMap,ky=new WeakMap,$r=new WeakMap,Cy=new WeakMap,yn=new WeakMap,N1=new WeakSet,sX=function(e){const a=p(this,yn);let r=a[4],i=a[5];const o=[r,i,r,i];let s=r,c=i,l=r,u=i;const h=e?Math.max:Math.min,f=new Float32Array(4);for(let w=6,v=a.length;w<v;w+=6){const b=a[w+4],S=a[w+5];isNaN(a[w])?(Pt.pointBoundingBox(b,S,o),c>S?(s=b,c=S):c===S&&(s=h(s,b)),u<S?(l=b,u=S):u===S&&(l=h(l,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,Pt.bezierBoundingBox(r,i,...a.slice(w,w+6),f),Pt.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(s=f[0],c=f[1]):c===f[1]&&(s=h(s,f[0])),u<f[3]?(l=f[2],u=f[3]):u===f[3]&&(l=h(l,f[2]))),r=b,i=S}const y=p(this,am);y[0]=o[0]-p(this,ac),y[1]=o[1]-p(this,ac),y[2]=o[2]-o[0]+2*p(this,ac),y[3]=o[3]-o[1]+2*p(this,ac),this.firstPoint=[s,c],this.lastPoint=[l,u]};var Ey,Ty,Dy,Hl,ao,Ya,cX,Nw,lX,dX,oB;class iB{constructor(t,e=0,a=0,r=!0){j(this,Ya);j(this,Ey);j(this,Ty);j(this,Dy);j(this,Hl,[]);j(this,ao,[]);const i=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:b,width:S,height:_}of t){const P=Math.floor((v-e)/o)*o,E=Math.ceil((v+S+e)/o)*o,C=Math.floor((b-e)/o)*o,T=Math.ceil((b+_+e)/o)*o,B=[P,C,T,!0],L=[E,C,T,!1];p(this,Hl).push(B,L),Pt.rectBoundingBox(P,C,E,T,i)}const s=i[2]-i[0]+2*a,c=i[3]-i[1]+2*a,l=i[0]-a,u=i[1]-a;let h=r?-1/0:1/0,f=1/0;const y=p(this,Hl).at(r?-1:-2),w=[y[0],y[2]];for(const v of p(this,Hl)){const[b,S,_,P]=v;!P&&r?S<f?(f=S,h=b):S===f&&(h=Math.max(h,b)):P&&!r&&(S<f?(f=S,h=b):S===f&&(h=Math.min(h,b))),v[0]=(b-l)/s,v[1]=(S-u)/c,v[2]=(_-u)/c}D(this,Ey,new Float32Array([l,u,s,c])),D(this,Ty,[h,f]),D(this,Dy,w)}getOutlines(){p(this,Hl).sort((e,a)=>e[0]-a[0]||e[1]-a[1]||e[2]-a[2]);const t=[];for(const e of p(this,Hl))e[3]?(t.push(...O(this,Ya,oB).call(this,e)),O(this,Ya,lX).call(this,e)):(O(this,Ya,dX).call(this,e),t.push(...O(this,Ya,oB).call(this,e)));return O(this,Ya,cX).call(this,t)}}Ey=new WeakMap,Ty=new WeakMap,Dy=new WeakMap,Hl=new WeakMap,ao=new WeakMap,Ya=new WeakSet,cX=function(t){const e=[],a=new Set;for(const o of t){const[s,c,l]=o;e.push([s,c,o],[s,l,o])}e.sort((o,s)=>o[1]-s[1]||o[0]-s[0]);for(let o=0,s=e.length;o<s;o+=2){const c=e[o][2],l=e[o+1][2];c.push(l),l.push(c),a.add(c),a.add(l)}const r=[];let i;for(;a.size>0;){const o=a.values().next().value;let[s,c,l,u,h]=o;a.delete(o);let f=s,y=c;for(i=[s,l],r.push(i);;){let w;if(a.has(u))w=u;else if(a.has(h))w=h;else break;a.delete(w),[s,c,l,u,h]=w,f!==s&&(i.push(f,y,s,y===c?c:l),f=s),y=y===c?l:c}i.push(f,y)}return new kSt(r,p(this,Ey),p(this,Ty),p(this,Dy))},Nw=function(t){const e=p(this,ao);let a=0,r=e.length-1;for(;a<=r;){const i=a+r>>1,o=e[i][0];if(o===t)return i;o<t?a=i+1:r=i-1}return r+1},lX=function([,t,e]){const a=O(this,Ya,Nw).call(this,t);p(this,ao).splice(a,0,[t,e])},dX=function([,t,e]){const a=O(this,Ya,Nw).call(this,t);for(let r=a;r<p(this,ao).length;r++){const[i,o]=p(this,ao)[r];if(i!==t)break;if(i===t&&o===e){p(this,ao).splice(r,1);return}}for(let r=a-1;r>=0;r--){const[i,o]=p(this,ao)[r];if(i!==t)break;if(i===t&&o===e){p(this,ao).splice(r,1);return}}},oB=function(t){const[e,a,r]=t,i=[[e,a,r]],o=O(this,Ya,Nw).call(this,r);for(let s=0;s<o;s++){const[c,l]=p(this,ao)[s];for(let u=0,h=i.length;u<h;u++){const[,f,y]=i[u];if(!(l<=f||y<=c)){if(f>=c){if(y>l)i[u][1]=l;else{if(h===1)return[];i.splice(u,1),u--,h--}continue}i[u][2]=c,y>l&&i.push([e,l,y])}}}return i};var Ny,uf;class kSt extends St{constructor(e,a,r,i){super();j(this,Ny);j(this,uf);D(this,uf,e),D(this,Ny,a),this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const a of p(this,uf)){let[r,i]=a;e.push(`M${r} ${i}`);for(let o=2;o<a.length;o+=2){const s=a[o],c=a[o+1];s===r?(e.push(`V${c}`),i=c):c===i&&(e.push(`H${s}`),r=s)}e.push("Z")}return e.join(" ")}serialize([e,a,r,i],o){const s=[],c=r-e,l=i-a;for(const u of p(this,uf)){const h=new Array(u.length);for(let f=0;f<u.length;f+=2)h[f]=e+u[f]*c,h[f+1]=i-u[f+1]*l;s.push(h)}return s}get box(){return p(this,Ny)}get classNamesForOutlining(){return["highlightOutline"]}}Ny=new WeakMap,uf=new WeakMap;class sB extends m1{newFreeDrawOutline(t,e,a,r,i,o){return new CSt(t,e,a,r,i,o)}}class CSt extends oX{newOutliner(t,e,a,r,i,o=0){return new sB(t,e,a,r,i,o)}}var mf,By,rc,rm,jy,mr,Oy,Ly,im,Gr,Ur,la,hf,pf,Na,ff,wi,Iy,Zt,cB,Bw,uX,mX,hX,lB,Kd,Si,Bh,pX,jw,Ow,fX,gX,xX,yX,vX;const pe=class pe extends Fe{constructor(e){super({...e,name:"highlightEditor"});j(this,Zt);j(this,mf,null);j(this,By,0);j(this,rc);j(this,rm,null);j(this,jy,null);j(this,mr,null);j(this,Oy,null);j(this,Ly,0);j(this,im,null);j(this,Gr,null);j(this,Ur,null);j(this,la,!1);j(this,hf,null);j(this,pf,null);j(this,Na,null);j(this,ff,"");j(this,wi);j(this,Iy,"");this.color=e.color||pe._defaultColor,D(this,wi,e.thickness||pe._defaultThickness),this.opacity=e.opacity||pe._defaultOpacity,D(this,rc,e.boxes||null),D(this,Iy,e.methodOfCreation||""),D(this,ff,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(D(this,la,!0),O(this,Zt,Bw).call(this,e),O(this,Zt,Kd).call(this)):p(this,rc)&&(D(this,mf,e.anchorNode),D(this,By,e.anchorOffset),D(this,Oy,e.focusNode),D(this,Ly,e.focusOffset),O(this,Zt,cB).call(this),O(this,Zt,Kd).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=pe.prototype;return ee(this,"_keyboardManager",new sv([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,la)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:p(this,wi),methodOfCreation:p(this,Iy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,a){var r;Fe.initialize(e,a),pe._defaultColor||(pe._defaultColor=((r=a.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,a){switch(e){case oe.HIGHLIGHT_COLOR:pe._defaultColor=a;break;case oe.HIGHLIGHT_THICKNESS:pe._defaultThickness=a;break}}translateInPage(e,a){}get toolbarPosition(){return p(this,pf)}get commentButtonPosition(){return p(this,hf)}updateParams(e,a){switch(e){case oe.HIGHLIGHT_COLOR:O(this,Zt,uX).call(this,a);break;case oe.HIGHLIGHT_THICKNESS:O(this,Zt,mX).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,pe._defaultColor],[oe.HIGHLIGHT_THICKNESS,pe._defaultThickness]]}get propertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,this.color||pe._defaultColor],[oe.HIGHLIGHT_THICKNESS,p(this,wi)||pe._defaultThickness],[oe.HIGHLIGHT_FREE,p(this,la)]]}onUpdatedColor(){var e,a;(e=this.parent)==null||e.drawLayer.updateProperties(p(this,Ur),{root:{fill:this.color,"fill-opacity":this.opacity}}),(a=p(this,jy))==null||a.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",D(this,jy,new l1({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(O(this,Zt,Ow).call(this))}getBaseTranslation(){return[0,0]}getRect(e,a){return super.getRect(e,a,O(this,Zt,Ow).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){O(this,Zt,lB).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(O(this,Zt,Kd).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let a=!1;this.parent&&!e?O(this,Zt,lB).call(this):e&&(O(this,Zt,Kd).call(this,e),a=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),a&&this.select()}rotate(e){var i,o,s;const{drawLayer:a}=this.parent;let r;p(this,la)?(e=(e-this.rotation+360)%360,r=O(i=pe,Si,Bh).call(i,p(this,Gr).box,e)):r=O(o=pe,Si,Bh).call(o,[this.x,this.y,this.width,this.height],e),a.updateProperties(p(this,Ur),{bbox:r,root:{"data-main-rotation":e}}),a.updateProperties(p(this,Na),{bbox:O(s=pe,Si,Bh).call(s,p(this,mr).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();p(this,ff)&&(e.setAttribute("aria-label",p(this,ff)),e.setAttribute("role","mark")),p(this,la)?e.classList.add("free"):this.div.addEventListener("keydown",O(this,Zt,pX).bind(this),{signal:this._uiManager._signal});const a=D(this,im,document.createElement("div"));return e.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=p(this,rm),this.setDims(this.width,this.height),FW(this,p(this,im),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(p(this,Na),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(p(this,Na),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:O(this,Zt,jw).call(this,!0);break;case 1:case 3:O(this,Zt,jw).call(this,!1);break}}select(){var e;super.select(),p(this,Na)&&((e=this.parent)==null||e.drawLayer.updateProperties(p(this,Na),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),p(this,Na)&&((e=this.parent)==null||e.drawLayer.updateProperties(p(this,Na),{rootClass:{selected:!1}}),p(this,la)||O(this,Zt,jw).call(this,!1))}get _mustFixPosition(){return!p(this,la)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(p(this,Ur),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(p(this,Na),{rootClass:{hidden:!e}}))}static startHighlighting(e,a,{target:r,x:i,y:o}){const{x:s,y:c,width:l,height:u}=r.getBoundingClientRect(),h=new AbortController,f=e.combinedSignal(h),y=w=>{h.abort(),O(this,Si,yX).call(this,e,w)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",pn,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ni,{signal:f}),r.addEventListener("pointermove",O(this,Si,xX).bind(this,e),{signal:f}),this._freeHighlight=new sB({x:i,y:o},[s,c,l,u],e.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,a,r){var v,b,S,_;let i=null;if(e instanceof WK){const{data:{quadPoints:P,rect:E,rotation:C,id:T,color:B,opacity:L,popupRef:M,richText:U,contentsObj:F,creationDate:G,modificationDate:$},parent:{page:{pageNumber:H}}}=e;i=e={annotationType:Xt.HIGHLIGHT,color:Array.from(B),opacity:L,quadPoints:P,boxes:null,pageIndex:H-1,rect:E.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:U,comment:(F==null?void 0:F.str)||null,creationDate:G,modificationDate:$}}else if(e instanceof LO){const{data:{inkLists:P,rect:E,rotation:C,id:T,color:B,borderStyle:{rawWidth:L},popupRef:M,richText:U,contentsObj:F,creationDate:G,modificationDate:$},parent:{page:{pageNumber:H}}}=e;i=e={annotationType:Xt.HIGHLIGHT,color:Array.from(B),thickness:L,inkLists:P,boxes:null,pageIndex:H-1,rect:E.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:U,comment:(F==null?void 0:F.str)||null,creationDate:G,modificationDate:$}}const{color:o,quadPoints:s,inkLists:c,opacity:l}=e,u=await super.deserialize(e,a,r);u.color=Pt.makeHexColor(...o),u.opacity=l||1,c&&D(u,wi,e.thickness),u._initialData=i,e.comment&&u.setCommentData(e);const[h,f]=u.pageDimensions,[y,w]=u.pageTranslation;if(s){const P=D(u,rc,[]);for(let E=0;E<s.length;E+=8)P.push({x:(s[E]-y)/h,y:1-(s[E+1]-w)/f,width:(s[E+2]-s[E])/h,height:(s[E+1]-s[E+5])/f});O(v=u,Zt,cB).call(v),O(b=u,Zt,Kd).call(b),u.rotate(u.rotation)}else if(c){D(u,la,!0);const P=c[0],E={x:P[0]-y,y:f-(P[1]-w)},C=new sB(E,[0,0,h,f],1,p(u,wi)/2,!0,.001);for(let L=0,M=P.length;L<M;L+=2)E.x=P[L]-y,E.y=f-(P[L+1]-w),C.add(E);const{id:T,clipPathId:B}=a.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);O(S=u,Zt,Bw).call(S,{highlightOutlines:C.getOutlines(),highlightId:T,clipPathId:B}),O(_=u,Zt,Kd).call(_),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const a=Fe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:a,opacity:this.opacity,thickness:p(this,wi),quadPoints:O(this,Zt,fX).call(this),outlines:O(this,Zt,gX).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!O(this,Zt,vX).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};mf=new WeakMap,By=new WeakMap,rc=new WeakMap,rm=new WeakMap,jy=new WeakMap,mr=new WeakMap,Oy=new WeakMap,Ly=new WeakMap,im=new WeakMap,Gr=new WeakMap,Ur=new WeakMap,la=new WeakMap,hf=new WeakMap,pf=new WeakMap,Na=new WeakMap,ff=new WeakMap,wi=new WeakMap,Iy=new WeakMap,Zt=new WeakSet,cB=function(){const e=new iB(p(this,rc),.001);D(this,Gr,e.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,Gr).box;const a=new iB(p(this,rc),.0025,.001,this._uiManager.direction==="ltr");D(this,mr,a.getOutlines());const{firstPoint:r}=p(this,Gr);D(this,hf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:i}=p(this,mr);D(this,pf,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Bw=function({highlightOutlines:e,highlightId:a,clipPathId:r}){var f,y;if(D(this,Gr,e),D(this,mr,e.getNewOutline(p(this,wi)/2+1.5,.0025)),a>=0)D(this,Ur,a),D(this,rm,r),this.parent.drawLayer.finalizeDraw(a,{bbox:e.box,path:{d:e.toSVGPath()}}),D(this,Na,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,mr).box,path:{d:p(this,mr).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,Ur),{bbox:O(f=pe,Si,Bh).call(f,p(this,Gr).box,(w-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,Na),{bbox:O(y=pe,Si,Bh).call(y,p(this,mr).box,w),path:{d:p(this,mr).toSVGPath()}})}const[o,s,c,l]=e.box;switch(this.rotation){case 0:this.x=o,this.y=s,this.width=c,this.height=l;break;case 90:{const[w,v]=this.parentDimensions;this.x=s,this.y=1-o,this.width=c*v/w,this.height=l*w/v;break}case 180:this.x=1-o,this.y=1-s,this.width=c,this.height=l;break;case 270:{const[w,v]=this.parentDimensions;this.x=1-s,this.y=o,this.width=c*v/w,this.height=l*w/v;break}}const{firstPoint:u}=e;D(this,hf,[(u[0]-o)/c,(u[1]-s)/l]);const{lastPoint:h}=p(this,mr);D(this,pf,[(h[0]-o)/c,(h[1]-s)/l])},uX=function(e){const a=(o,s)=>{this.color=o,this.opacity=s,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:a.bind(this,e,pe._defaultOpacity),undo:a.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},mX=function(e){const a=p(this,wi),r=i=>{D(this,wi,i),O(this,Zt,hX).call(this,i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},hX=function(e){p(this,la)&&(O(this,Zt,Bw).call(this,{highlightOutlines:p(this,Gr).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},lB=function(){p(this,Ur)===null||!this.parent||(this.parent.drawLayer.remove(p(this,Ur)),D(this,Ur,null),this.parent.drawLayer.remove(p(this,Na)),D(this,Na,null))},Kd=function(e=this.parent){p(this,Ur)===null&&({id:Bn(this,Ur)._,clipPathId:Bn(this,rm)._}=e.drawLayer.draw({bbox:p(this,Gr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:p(this,la)},path:{d:p(this,Gr).toSVGPath()}},!1,!0),D(this,Na,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,la)},bbox:p(this,mr).box,path:{d:p(this,mr).toSVGPath()}},p(this,la))),p(this,im)&&(p(this,im).style.clipPath=p(this,rm)))},Si=new WeakSet,Bh=function([e,a,r,i],o){switch(o){case 90:return[1-a-i,e,i,r];case 180:return[1-e-r,1-a-i,r,i];case 270:return[a,1-e-r,i,r]}return[e,a,r,i]},pX=function(e){pe._keyboardManager.exec(this,e)},jw=function(e){if(!p(this,mf))return;const a=window.getSelection();e?a.setPosition(p(this,mf),p(this,By)):a.setPosition(p(this,Oy),p(this,Ly))},Ow=function(){return p(this,la)?this.rotation:0},fX=function(){if(p(this,la))return null;const[e,a]=this.pageDimensions,[r,i]=this.pageTranslation,o=p(this,rc),s=new Float32Array(o.length*8);let c=0;for(const{x:l,y:u,width:h,height:f}of o){const y=l*e+r,w=(1-u)*a+i;s[c]=s[c+4]=y,s[c+1]=s[c+3]=w,s[c+2]=s[c+6]=y+h*e,s[c+5]=s[c+7]=w-f*a,c+=8}return s},gX=function(e){return p(this,Gr).serialize(e,O(this,Zt,Ow).call(this))},xX=function(e,a){this._freeHighlight.add(a)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},yX=function(e,a){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},vX=function(e){const{color:a}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==a[i])},j(pe,Si),ht(pe,"_defaultColor",null),ht(pe,"_defaultOpacity",1),ht(pe,"_defaultThickness",12),ht(pe,"_type","highlight"),ht(pe,"_editorType",Xt.HIGHLIGHT),ht(pe,"_freeHighlightId",-1),ht(pe,"_freeHighlight",null),ht(pe,"_freeHighlightClipId","");let h1=pe;var om;class bX{constructor(){j(this,om,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,a]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,a)}updateSVGProperty(t,e){p(this,om)[t]=e}toSVGProperties(){const t=p(this,om);return D(this,om,Object.create(null)),{root:t}}reset(){D(this,om,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){je("Not implemented")}}om=new WeakMap;var zr,gf,Yn,sm,cm,Vl,Wl,Kl,lm,de,dB,uB,mB,zg,wX,Lw,qg,jh;const Tt=class Tt extends Fe{constructor(e){super(e);j(this,de);j(this,zr,null);j(this,gf);ht(this,"_colorPicker",null);ht(this,"_drawId",null);D(this,gf,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(O(this,de,dB).call(this,e),O(this,de,zg).call(this))}static _mergeSVGProperties(e,a){const r=new Set(Object.keys(e));for(const[i,o]of Object.entries(a))r.has(i)?Object.assign(e[i],o):e[i]=o;return e}static getDefaultDrawingOptions(e){je("Not implemented")}static get typesMap(){je("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,a){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,a),this._currentParent&&(p(Tt,Yn).updateProperty(r,a),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,a){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,a)}static get defaultPropertiesToUpdate(){const e=[],a=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,a[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:a}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,a[i]]);return e}_updateProperty(e,a,r){const i=this._drawingOptions,o=i[a],s=c=>{var u;i.updateProperty(a,c);const l=p(this,zr).updateProperty(a,c);l&&O(this,de,qg).call(this,l),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:s.bind(this,r),undo:s.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Tt._mergeSVGProperties(p(this,zr).getPathResizingSVGProperties(O(this,de,Lw).call(this)),{bbox:O(this,de,jh).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Tt._mergeSVGProperties(p(this,zr).getPathResizedSVGProperties(O(this,de,Lw).call(this)),{bbox:O(this,de,jh).call(this)}))}_onTranslating(e,a){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:O(this,de,jh).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Tt._mergeSVGProperties(p(this,zr).getPathTranslatedSVGProperties(O(this,de,Lw).call(this),this.parentDimensions),{bbox:O(this,de,jh).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,gf)&&(D(this,gf,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){O(this,de,mB).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(O(this,de,zg).call(this),O(this,de,qg).call(this,p(this,zr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let a=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),O(this,de,mB).call(this)):e&&(this._uiManager.addShouldRescale(this),O(this,de,zg).call(this,e),a=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),a&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Tt._mergeSVGProperties({bbox:O(this,de,jh).call(this)},p(this,zr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&O(this,de,qg).call(this,p(this,zr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,a;this._isCopy&&(e=this.x,a=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,a),r}static createDrawerInstance(e,a,r,i,o){je("Not implemented")}static startDrawing(e,a,r,i){var b;const{target:o,offsetX:s,offsetY:c,pointerId:l,pointerType:u}=i;if(p(Tt,Wl)&&p(Tt,Wl)!==u)return;const{viewport:{rotation:h}}=e,{width:f,height:y}=o.getBoundingClientRect(),w=D(Tt,sm,new AbortController),v=e.combinedSignal(w);if(p(Tt,Vl)||D(Tt,Vl,l),p(Tt,Wl)??D(Tt,Wl,u),window.addEventListener("pointerup",S=>{var _;p(Tt,Vl)===S.pointerId?this._endDraw(S):(_=p(Tt,Kl))==null||_.delete(S.pointerId)},{signal:v}),window.addEventListener("pointercancel",S=>{var _;p(Tt,Vl)===S.pointerId?this._currentParent.endDrawingSession():(_=p(Tt,Kl))==null||_.delete(S.pointerId)},{signal:v}),window.addEventListener("pointerdown",S=>{p(Tt,Wl)===S.pointerType&&((p(Tt,Kl)||D(Tt,Kl,new Set)).add(S.pointerId),p(Tt,Yn).isCancellable()&&(p(Tt,Yn).removeLastElement(),p(Tt,Yn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ni,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",S=>{S.timeStamp===p(Tt,lm)&&pn(S)},{signal:v}),e.toggleDrawing(),(b=a._editorUndoBar)==null||b.hide(),p(Tt,Yn)){e.drawLayer.updateProperties(this._currentDrawId,p(Tt,Yn).startNew(s,c,f,y,h));return}a.updateUIForDefaultProperties(this),D(Tt,Yn,this.createDrawerInstance(s,c,f,y,h)),D(Tt,cm,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(p(Tt,cm).toSVGProperties(),p(Tt,Yn).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(D(Tt,lm,-1),!p(Tt,Yn))return;const{offsetX:a,offsetY:r,pointerId:i}=e;if(p(Tt,Vl)===i){if(((o=p(Tt,Kl))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(Tt,Yn).add(a,r)),D(Tt,lm,e.timeStamp),pn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,D(Tt,Yn,null),D(Tt,cm,null),D(Tt,Wl,null),D(Tt,lm,NaN)),p(Tt,sm)&&(p(Tt,sm).abort(),D(Tt,sm,null),D(Tt,Vl,NaN),D(Tt,Kl,null))}static _endDraw(e){const a=this._currentParent;if(a){if(a.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===a.div&&a.drawLayer.updateProperties(this._currentDrawId,p(Tt,Yn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=p(Tt,Yn),i=this._currentDrawId,o=r.getLastElement();a.addCommands({cmd:()=>{a.drawLayer.updateProperties(i,r.setLastElement(o))},undo:()=>{a.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:oe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const a=this._currentParent;if(!a)return null;if(a.toggleDrawing(!0),a.cleanUndoStack(oe.DRAW_STEP),!p(Tt,Yn).isEmpty()){const{pageDimensions:[r,i],scale:o}=a,s=a.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(Tt,Yn).getOutlines(r*o,i*o,o,this._INNER_MARGIN),drawingOptions:p(Tt,cm),mustBeCommitted:!e});return this._cleanup(!0),s}return a.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,a,r,i,o,s){je("Not implemented")}static async deserialize(e,a,r){var h,f;const{rawDims:{pageWidth:i,pageHeight:o,pageX:s,pageY:c}}=a.viewport,l=this.deserializeDraw(s,c,i,o,this._INNER_MARGIN,e),u=await super.deserialize(e,a,r);return u.createDrawingOptions(e),O(h=u,de,dB).call(h,{drawOutlines:l}),O(f=u,de,zg).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[a,r]=this.pageTranslation,[i,o]=this.pageDimensions;return p(this,zr).serialize([a,r,i,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};zr=new WeakMap,gf=new WeakMap,Yn=new WeakMap,sm=new WeakMap,cm=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,lm=new WeakMap,de=new WeakSet,dB=function({drawOutlines:e,drawId:a,drawingOptions:r}){D(this,zr,e),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),a>=0?(this._drawId=a,this.parent.drawLayer.finalizeDraw(a,e.defaultProperties)):this._drawId=O(this,de,uB).call(this,e,this.parent),O(this,de,qg).call(this,e.box)},uB=function(e,a){const{id:r}=a.drawLayer.draw(Tt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},mB=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},zg=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=O(this,de,uB).call(this,p(this,zr),e)}},wX=function([e,a,r,i]){const{parentDimensions:[o,s],rotation:c}=this;switch(c){case 90:return[a,1-e,r*(s/o),i*(o/s)];case 180:return[1-e,1-a,r,i];case 270:return[1-a,e,r*(s/o),i*(o/s)];default:return[e,a,r,i]}},Lw=function(){const{x:e,y:a,width:r,height:i,parentDimensions:[o,s],rotation:c}=this;switch(c){case 90:return[1-a,e,r*(o/s),i*(s/o)];case 180:return[1-e,1-a,r,i];case 270:return[a,1-e,r*(o/s),i*(s/o)];default:return[e,a,r,i]}},qg=function(e){[this.x,this.y,this.width,this.height]=O(this,de,wX).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},jh=function(){const{x:e,y:a,width:r,height:i,rotation:o,parentRotation:s,parentDimensions:[c,l]}=this;switch((o*4+s)/90){case 1:return[1-a-i,e,i,r];case 2:return[1-e-r,1-a-i,r,i];case 3:return[a,1-e-r,i,r];case 4:return[e,a-r*(c/l),i*(l/c),r*(c/l)];case 5:return[1-a,e,r*(c/l),i*(l/c)];case 6:return[1-e-i*(l/c),1-a,i*(l/c),r*(c/l)];case 7:return[a-r*(c/l),1-e-i*(l/c),r*(c/l),i*(l/c)];case 8:return[e-r,a-i,r,i];case 9:return[1-a,e-r,i,r];case 10:return[1-e,1-a,r,i];case 11:return[a-i,1-e,i,r];case 12:return[e-i*(l/c),a,i*(l/c),r*(c/l)];case 13:return[1-a-r*(c/l),e-i*(l/c),r*(c/l),i*(l/c)];case 14:return[1-e,1-a-r*(c/l),i*(l/c),r*(c/l)];case 15:return[a,1-e,r*(c/l),i*(l/c)];default:return[e,a,r,i]}},ht(Tt,"_currentDrawId",-1),ht(Tt,"_currentParent",null),j(Tt,Yn,null),j(Tt,sm,null),j(Tt,cm,null),j(Tt,Vl,NaN),j(Tt,Wl,null),j(Tt,Kl,null),j(Tt,lm,NaN),ht(Tt,"_INNER_MARGIN",3);let p1=Tt;var Wo,Qn,Jn,dm,xf,Ua,da,Ai,um,mm,hm,yf,Iw;class ESt{constructor(t,e,a,r,i,o){j(this,yf);j(this,Wo,new Float64Array(6));j(this,Qn);j(this,Jn);j(this,dm);j(this,xf);j(this,Ua);j(this,da,"");j(this,Ai,0);j(this,um,new lv);j(this,mm);j(this,hm);D(this,mm,a),D(this,hm,r),D(this,dm,i),D(this,xf,o),[t,e]=O(this,yf,Iw).call(this,t,e);const s=D(this,Qn,[NaN,NaN,NaN,NaN,t,e]);D(this,Ua,[t,e]),D(this,Jn,[{line:s,points:p(this,Ua)}]),p(this,Wo).set(s,0)}updateProperty(t,e){t==="stroke-width"&&D(this,xf,e)}isEmpty(){return!p(this,Jn)||p(this,Jn).length===0}isCancellable(){return p(this,Ua).length<=10}add(t,e){[t,e]=O(this,yf,Iw).call(this,t,e);const[a,r,i,o]=p(this,Wo).subarray(2,6),s=t-i,c=e-o;return Math.hypot(p(this,mm)*s,p(this,hm)*c)<=2?null:(p(this,Ua).push(t,e),isNaN(a)?(p(this,Wo).set([i,o,t,e],2),p(this,Qn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(p(this,Wo)[0])&&p(this,Qn).splice(6,6),p(this,Wo).set([a,r,i,o,t,e],0),p(this,Qn).push(...St.createBezierPoints(a,r,i,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const a=this.add(t,e);return a||(p(this,Ua).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,a,r,i){D(this,mm,a),D(this,hm,r),D(this,dm,i),[t,e]=O(this,yf,Iw).call(this,t,e);const o=D(this,Qn,[NaN,NaN,NaN,NaN,t,e]);D(this,Ua,[t,e]);const s=p(this,Jn).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),p(this,Jn).push({line:o,points:p(this,Ua)}),p(this,Wo).set(o,0),D(this,Ai,0),this.toSVGPath(),null}getLastElement(){return p(this,Jn).at(-1)}setLastElement(t){return p(this,Jn)?(p(this,Jn).push(t),D(this,Qn,t.line),D(this,Ua,t.points),D(this,Ai,0),{path:{d:this.toSVGPath()}}):p(this,um).setLastElement(t)}removeLastElement(){if(!p(this,Jn))return p(this,um).removeLastElement();p(this,Jn).pop(),D(this,da,"");for(let t=0,e=p(this,Jn).length;t<e;t++){const{line:a,points:r}=p(this,Jn)[t];D(this,Qn,a),D(this,Ua,r),D(this,Ai,0),this.toSVGPath()}return{path:{d:p(this,da)}}}toSVGPath(){const t=St.svgRound(p(this,Qn)[4]),e=St.svgRound(p(this,Qn)[5]);if(p(this,Ua).length===2)return D(this,da,`${p(this,da)} M ${t} ${e} Z`),p(this,da);if(p(this,Ua).length<=6){const r=p(this,da).lastIndexOf("M");D(this,da,`${p(this,da).slice(0,r)} M ${t} ${e}`),D(this,Ai,6)}if(p(this,Ua).length===4){const r=St.svgRound(p(this,Qn)[10]),i=St.svgRound(p(this,Qn)[11]);return D(this,da,`${p(this,da)} L ${r} ${i}`),D(this,Ai,12),p(this,da)}const a=[];p(this,Ai)===0&&(a.push(`M ${t} ${e}`),D(this,Ai,6));for(let r=p(this,Ai),i=p(this,Qn).length;r<i;r+=6){const[o,s,c,l,u,h]=p(this,Qn).slice(r,r+6).map(St.svgRound);a.push(`C${o} ${s} ${c} ${l} ${u} ${h}`)}return D(this,da,p(this,da)+a.join(" ")),D(this,Ai,p(this,Qn).length),p(this,da)}getOutlines(t,e,a,r){const i=p(this,Jn).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),p(this,um).build(p(this,Jn),t,e,a,p(this,dm),p(this,xf),r),D(this,Wo,null),D(this,Qn,null),D(this,Jn,null),D(this,da,null),p(this,um)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Wo=new WeakMap,Qn=new WeakMap,Jn=new WeakMap,dm=new WeakMap,xf=new WeakMap,Ua=new WeakMap,da=new WeakMap,Ai=new WeakMap,um=new WeakMap,mm=new WeakMap,hm=new WeakMap,yf=new WeakSet,Iw=function(t,e){return St._normalizePoint(t,e,p(this,mm),p(this,hm),p(this,dm))};var za,Ry,My,qr,Ko,Xo,vf,bf,pm,pa,ks,AX,SX,_X;class lv extends St{constructor(){super(...arguments);j(this,pa);j(this,za);j(this,Ry,0);j(this,My);j(this,qr);j(this,Ko);j(this,Xo);j(this,vf);j(this,bf);j(this,pm)}build(e,a,r,i,o,s,c){D(this,Ko,a),D(this,Xo,r),D(this,vf,i),D(this,bf,o),D(this,pm,s),D(this,My,c??0),D(this,qr,e),O(this,pa,SX).call(this)}get thickness(){return p(this,pm)}setLastElement(e){return p(this,qr).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,qr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:a}of p(this,qr)){if(e.push(`M${St.svgRound(a[4])} ${St.svgRound(a[5])}`),a.length===6){e.push("Z");continue}if(a.length===12&&isNaN(a[6])){e.push(`L${St.svgRound(a[10])} ${St.svgRound(a[11])}`);continue}for(let r=6,i=a.length;r<i;r+=6){const[o,s,c,l,u,h]=a.subarray(r,r+6).map(St.svgRound);e.push(`C${o} ${s} ${c} ${l} ${u} ${h}`)}}return e.join("")}serialize([e,a,r,i],o){const s=[],c=[],[l,u,h,f]=O(this,pa,AX).call(this);let y,w,v,b,S,_,P,E,C;switch(p(this,bf)){case 0:C=St._rescale,y=e,w=a+i,v=r,b=-i,S=e+l*r,_=a+(1-u-f)*i,P=e+(l+h)*r,E=a+(1-u)*i;break;case 90:C=St._rescaleAndSwap,y=e,w=a,v=r,b=i,S=e+u*r,_=a+l*i,P=e+(u+f)*r,E=a+(l+h)*i;break;case 180:C=St._rescale,y=e+r,w=a,v=-r,b=i,S=e+(1-l-h)*r,_=a+u*i,P=e+(1-l)*r,E=a+(u+f)*i;break;case 270:C=St._rescaleAndSwap,y=e+r,w=a+i,v=-r,b=-i,S=e+(1-u-f)*r,_=a+(1-l-h)*i,P=e+(1-u)*r,E=a+(1-l)*i;break}for(const{line:T,points:B}of p(this,qr))s.push(C(T,y,w,v,b,o?new Array(T.length):null)),c.push(C(B,y,w,v,b,o?new Array(B.length):null));return{lines:s,points:c,rect:[S,_,P,E]}}static deserialize(e,a,r,i,o,{paths:{lines:s,points:c},rotation:l,thickness:u}){const h=[];let f,y,w,v,b;switch(l){case 0:b=St._rescale,f=-e/r,y=a/i+1,w=1/r,v=-1/i;break;case 90:b=St._rescaleAndSwap,f=-a/i,y=-e/r,w=1/i,v=1/r;break;case 180:b=St._rescale,f=e/r+1,y=-a/i,w=-1/r,v=1/i;break;case 270:b=St._rescaleAndSwap,f=a/i+1,y=e/r+1,w=-1/i,v=-1/r;break}if(!s){s=[];for(const _ of c){const P=_.length;if(P===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(P===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const E=new Float32Array(3*(P-2));s.push(E);let[C,T,B,L]=_.subarray(0,4);E.set([NaN,NaN,NaN,NaN,C,T],0);for(let M=4;M<P;M+=2){const U=_[M],F=_[M+1];E.set(St.createBezierPoints(C,T,B,L,U,F),(M-2)*3),[C,T,B,L]=[B,L,U,F]}}}for(let _=0,P=s.length;_<P;_++)h.push({line:b(s[_].map(E=>E??NaN),f,y,w,v),points:b(c[_].map(E=>E??NaN),f,y,w,v)});const S=new this.prototype.constructor;return S.build(h,r,i,1,l,u,o),S}get box(){return p(this,za)}updateProperty(e,a){return e==="stroke-width"?O(this,pa,_X).call(this,a):null}updateParentDimensions([e,a],r){const[i,o]=O(this,pa,ks).call(this);D(this,Ko,e),D(this,Xo,a),D(this,vf,r);const[s,c]=O(this,pa,ks).call(this),l=s-i,u=c-o,h=p(this,za);return h[0]-=l,h[1]-=u,h[2]+=2*l,h[3]+=2*u,h}updateRotation(e){return D(this,Ry,e),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,za).map(St.svgRound).join(" ")}get defaultProperties(){const[e,a]=p(this,za);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(e)} ${St.svgRound(a)}`}}}get rotationTransform(){const[,,e,a]=p(this,za);let r=0,i=0,o=0,s=0,c=0,l=0;switch(p(this,Ry)){case 90:i=a/e,o=-e/a,c=e;break;case 180:r=-1,s=-1,c=e,l=a;break;case 270:i=-a/e,o=e/a,l=a;break;default:return""}return`matrix(${r} ${i} ${o} ${s} ${St.svgRound(c)} ${St.svgRound(l)})`}getPathResizingSVGProperties([e,a,r,i]){const[o,s]=O(this,pa,ks).call(this),[c,l,u,h]=p(this,za);if(Math.abs(u-o)<=St.PRECISION||Math.abs(h-s)<=St.PRECISION){const b=e+r/2-(c+u/2),S=a+i/2-(l+h/2);return{path:{"transform-origin":`${St.svgRound(e)} ${St.svgRound(a)}`,transform:`${this.rotationTransform} translate(${b} ${S})`}}}const f=(r-2*o)/(u-2*o),y=(i-2*s)/(h-2*s),w=u/r,v=h/i;return{path:{"transform-origin":`${St.svgRound(c)} ${St.svgRound(l)}`,transform:`${this.rotationTransform} scale(${w} ${v}) translate(${St.svgRound(o)} ${St.svgRound(s)}) scale(${f} ${y}) translate(${St.svgRound(-o)} ${St.svgRound(-s)})`}}}getPathResizedSVGProperties([e,a,r,i]){const[o,s]=O(this,pa,ks).call(this),c=p(this,za),[l,u,h,f]=c;if(c[0]=e,c[1]=a,c[2]=r,c[3]=i,Math.abs(h-o)<=St.PRECISION||Math.abs(f-s)<=St.PRECISION){const S=e+r/2-(l+h/2),_=a+i/2-(u+f/2);for(const{line:P,points:E}of p(this,qr))St._translate(P,S,_,P),St._translate(E,S,_,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(e)} ${St.svgRound(a)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(r-2*o)/(h-2*o),w=(i-2*s)/(f-2*s),v=-y*(l+o)+e+o,b=-w*(u+s)+a+s;if(y!==1||w!==1||v!==0||b!==0)for(const{line:S,points:_}of p(this,qr))St._rescale(S,v,b,y,w,S),St._rescale(_,v,b,y,w,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(e)} ${St.svgRound(a)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,a],r){const[i,o]=r,s=p(this,za),c=e-s[0],l=a-s[1];if(p(this,Ko)===i&&p(this,Xo)===o)for(const{line:u,points:h}of p(this,qr))St._translate(u,c,l,u),St._translate(h,c,l,h);else{const u=p(this,Ko)/i,h=p(this,Xo)/o;D(this,Ko,i),D(this,Xo,o);for(const{line:f,points:y}of p(this,qr))St._rescale(f,c,l,u,h,f),St._rescale(y,c,l,u,h,y);s[2]*=u,s[3]*=h}return s[0]=e,s[1]=a,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(e)} ${St.svgRound(a)}`}}}get defaultSVGProperties(){const e=p(this,za);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(e[0])} ${St.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}za=new WeakMap,Ry=new WeakMap,My=new WeakMap,qr=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,vf=new WeakMap,bf=new WeakMap,pm=new WeakMap,pa=new WeakSet,ks=function(e=p(this,pm)){const a=p(this,My)+e/2*p(this,vf);return p(this,bf)%180===0?[a/p(this,Ko),a/p(this,Xo)]:[a/p(this,Xo),a/p(this,Ko)]},AX=function(){const[e,a,r,i]=p(this,za),[o,s]=O(this,pa,ks).call(this,0);return[e+o,a+s,r-2*o,i-2*s]},SX=function(){const e=D(this,za,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of p(this,qr)){if(i.length<=12){for(let c=4,l=i.length;c<l;c+=6)Pt.pointBoundingBox(i[c],i[c+1],e);continue}let o=i[4],s=i[5];for(let c=6,l=i.length;c<l;c+=6){const[u,h,f,y,w,v]=i.subarray(c,c+6);Pt.bezierBoundingBox(o,s,u,h,f,y,w,v,e),o=w,s=v}}const[a,r]=O(this,pa,ks).call(this);e[0]=Va(e[0]-a,0,1),e[1]=Va(e[1]-r,0,1),e[2]=Va(e[2]+a,0,1),e[3]=Va(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]},_X=function(e){const[a,r]=O(this,pa,ks).call(this);D(this,pm,e);const[i,o]=O(this,pa,ks).call(this),[s,c]=[i-a,o-r],l=p(this,za);return l[0]-=s,l[1]-=c,l[2]+=2*s,l[3]+=2*c,l};class _S extends bX{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Fe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new _S(this._viewParameters);return t.updateAll(this),t}}var B1,PX;const Wh=class Wh extends p1{constructor(e){super({...e,name:"inkEditor"});j(this,B1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,a){Fe.initialize(e,a),this._defaultDrawingOptions=new _S(a.viewParameters)}static getDefaultDrawingOptions(e){const a=this._defaultDrawingOptions.clone();return a.updateProperties(e),a}static get supportMultipleDrawings(){return!0}static get typesMap(){return ee(this,"typesMap",new Map([[oe.INK_THICKNESS,"stroke-width"],[oe.INK_COLOR,"stroke"],[oe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,a,r,i,o){return new ESt(e,a,r,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,a,r,i,o,s){return lv.deserialize(e,a,r,i,o,s)}static async deserialize(e,a,r){let i=null;if(e instanceof LO){const{data:{inkLists:s,rect:c,rotation:l,id:u,color:h,opacity:f,borderStyle:{rawWidth:y},popupRef:w,richText:v,contentsObj:b,creationDate:S,modificationDate:_},parent:{page:{pageNumber:P}}}=e;i=e={annotationType:Xt.INK,color:Array.from(h),thickness:y,opacity:f,paths:{points:s},boxes:null,pageIndex:P-1,rect:c.slice(0),rotation:l,annotationElementId:u,id:u,deleted:!1,popupRef:w,richText:v,comment:(b==null?void 0:b.str)||null,creationDate:S,modificationDate:_}}const o=await super.deserialize(e,a,r);return o._initialData=i,e.comment&&o.setCommentData(e),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new d1(this)),[["colorPicker",this._colorPicker]]}get colorType(){return oe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:a,parent:r}=this;a.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,a.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:a,opacity:r}){this._drawingOptions=Wh.getDefaultDrawingOptions({stroke:Pt.makeHexColor(...e),"stroke-width":a,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:a,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":o,"stroke-width":s}}=this,c=Object.assign(super.serialize(e),{color:Fe._colorManager.convert(i),opacity:o,thickness:s,paths:{lines:a,points:r}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!O(this,B1,PX).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:a,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:a,popup:this.comment}),null}};B1=new WeakSet,PX=function(e){const{color:a,thickness:r,opacity:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((s,c)=>s!==a[c])||e.thickness!==r||e.opacity!==i||e.pageIndex!==o},ht(Wh,"_type","ink"),ht(Wh,"_editorType",Xt.INK),ht(Wh,"_defaultDrawingOptions",null);let hB=Wh;class pB extends lv{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const aw=8,vg=3;var fm,ye,fB,ro,kX,CX,gB,Rw,EX,TX,DX,xB,yB,NX;class dc{static extractContoursFromText(t,{fontFamily:e,fontStyle:a,fontWeight:r},i,o,s,c){let l=new OffscreenCanvas(1,1),u=l.getContext("2d",{alpha:!1});const h=200,f=u.font=`${a} ${r} ${h}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:v,actualBoundingBoxDescent:b,fontBoundingBoxAscent:S,fontBoundingBoxDescent:_,width:P}=u.measureText(t),E=1.5,C=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,P)*E),T=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||h,Math.abs(S)+Math.abs(_)||h)*E);l=new OffscreenCanvas(C,T),u=l.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,C,T),u.fillStyle="black",u.fillText(t,C*(E-1)/2,T*(3-E)/2);const B=O(this,ye,xB).call(this,u.getImageData(0,0,C,T).data),L=O(this,ye,DX).call(this,B),M=O(this,ye,yB).call(this,L),U=O(this,ye,gB).call(this,B,C,T,M);return this.processDrawnLines({lines:{curves:U,width:C,height:T},pageWidth:i,pageHeight:o,rotation:s,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,e,a,r,i){const[o,s,c]=O(this,ye,NX).call(this,t),[l,u]=O(this,ye,TX).call(this,o,s,c,Math.hypot(s,c)*p(this,fm).sigmaSFactor,p(this,fm).sigmaR,p(this,fm).kernelSize),h=O(this,ye,yB).call(this,u),f=O(this,ye,gB).call(this,l,s,c,h);return this.processDrawnLines({lines:{curves:f,width:s,height:c},pageWidth:e,pageHeight:a,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:a,rotation:r,innerMargin:i,mustSmooth:o,areContours:s}){r%180!==0&&([e,a]=[a,e]);const{curves:c,width:l,height:u}=t,h=t.thickness??0,f=[],y=Math.min(e/l,a/u),w=y/e,v=y/a,b=[];for(const{points:_}of c){const P=o?O(this,ye,EX).call(this,_):_;if(!P)continue;b.push(P);const E=P.length,C=new Float32Array(E),T=new Float32Array(3*(E===2?2:E-2));if(f.push({line:T,points:C}),E===2){C[0]=P[0]*w,C[1]=P[1]*v,T.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[B,L,M,U]=P;B*=w,L*=v,M*=w,U*=v,C.set([B,L,M,U],0),T.set([NaN,NaN,NaN,NaN,B,L],0);for(let F=4;F<E;F+=2){const G=C[F]=P[F]*w,$=C[F+1]=P[F+1]*v;T.set(St.createBezierPoints(B,L,M,U,G,$),(F-2)*3),[B,L,M,U]=[M,U,G,$]}}if(f.length===0)return null;const S=s?new pB:new lv;return S.build(f,e,a,1,r,s?0:h,i),{outline:S,newCurves:b,areContours:s,thickness:h,width:l,height:u}}static async compressSignature({outlines:t,areContours:e,thickness:a,width:r,height:i}){let o=1/0,s=-1/0,c=0;for(const P of t){c+=P.length;for(let E=2,C=P.length;E<C;E++){const T=P[E]-P[E-2];o=Math.min(o,T),s=Math.max(s,T)}}let l;o>=-128&&s<=127?l=Int8Array:o>=-32768&&s<=32767?l=Int16Array:l=Int32Array;const u=t.length,h=aw+vg*u,f=new Uint32Array(h);let y=0;f[y++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*l.BYTES_PER_ELEMENT,f[y++]=0,f[y++]=r,f[y++]=i,f[y++]=e?0:1,f[y++]=Math.max(0,Math.floor(a??0)),f[y++]=u,f[y++]=l.BYTES_PER_ELEMENT;for(const P of t)f[y++]=P.length-2,f[y++]=P[0],f[y++]=P[1];const w=new CompressionStream("deflate-raw"),v=w.writable.getWriter();await v.ready,v.write(f);const b=l.prototype.constructor;for(const P of t){const E=new b(P.length-2);for(let C=2,T=P.length;C<T;C++)E[C-2]=P[C]-P[C-2];v.write(E)}v.close();const S=await new Response(w.readable).arrayBuffer(),_=new Uint8Array(S);return NW(_)}static async decompressSignature(t){try{const e=HAt(t),{readable:a,writable:r}=new DecompressionStream("deflate-raw"),i=r.getWriter();await i.ready,i.write(e).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let o=null,s=0;for await(const P of a)o||(o=new Uint8Array(new Uint32Array(P.buffer,0,4)[0])),o.set(P,s),s+=P.length;const c=new Uint32Array(o.buffer,0,o.length>>2),l=c[1];if(l!==0)throw new Error(`Invalid version: ${l}`);const u=c[2],h=c[3],f=c[4]===0,y=c[5],w=c[6],v=c[7],b=[],S=(aw+vg*w)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(v){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(o.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(o.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(o.buffer,S);break}s=0;for(let P=0;P<w;P++){const E=c[vg*P+aw],C=new Float32Array(E+2);b.push(C);for(let T=0;T<vg-1;T++)C[T]=c[vg*P+aw+T+1];for(let T=0;T<E;T++)C[T+2]=C[T]+_[s++]}return{areContours:f,thickness:y,outlines:b,width:u,height:h}}catch(e){return Wt(`decompressSignature: ${e}`),null}}}fm=new WeakMap,ye=new WeakSet,fB=function(t,e,a,r){return a-=t,r-=e,a===0?r>0?0:4:a===1?r+6:2-r},ro=new WeakMap,kX=function(t,e,a,r,i,o,s){const c=O(this,ye,fB).call(this,a,r,i,o);for(let l=0;l<8;l++){const u=(-l+c-s+16)%8,h=p(this,ro)[2*u],f=p(this,ro)[2*u+1];if(t[(a+h)*e+(r+f)]!==0)return u}return-1},CX=function(t,e,a,r,i,o,s){const c=O(this,ye,fB).call(this,a,r,i,o);for(let l=0;l<8;l++){const u=(l+c+s+16)%8,h=p(this,ro)[2*u],f=p(this,ro)[2*u+1];if(t[(a+h)*e+(r+f)]!==0)return u}return-1},gB=function(t,e,a,r){const i=t.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=t[u]<=r?1:0;for(let u=1;u<a-1;u++)o[u*e]=o[u*e+e-1]=0;for(let u=0;u<e;u++)o[u]=o[e*a-1-u]=0;let s=1,c;const l=[];for(let u=1;u<a-1;u++){c=1;for(let h=1;h<e-1;h++){const f=u*e+h,y=o[f];if(y===0)continue;let w=u,v=h;if(y===1&&o[f-1]===0)s+=1,v-=1;else if(y>=1&&o[f+1]===0)s+=1,v+=1,y>1&&(c=y);else{y!==1&&(c=Math.abs(y));continue}const b=[h,u],S=v===h+1,_={isHole:S,points:b,id:s,parent:0};l.push(_);let P;for(const F of l)if(F.id===c){P=F;break}P?P.isHole?_.parent=S?P.parent:c:_.parent=S?c:P.parent:_.parent=S?c:0;const E=O(this,ye,kX).call(this,o,e,u,h,w,v,0);if(E===-1){o[f]=-s,o[f]!==1&&(c=Math.abs(o[f]));continue}let C=p(this,ro)[2*E],T=p(this,ro)[2*E+1];const B=u+C,L=h+T;w=B,v=L;let M=u,U=h;for(;;){const F=O(this,ye,CX).call(this,o,e,M,U,w,v,1);C=p(this,ro)[2*F],T=p(this,ro)[2*F+1];const G=M+C,$=U+T;b.push($,G);const H=M*e+U;if(o[H+1]===0?o[H]=-s:o[H]===1&&(o[H]=s),G===u&&$===h&&M===B&&U===L){o[f]!==1&&(c=Math.abs(o[f]));break}else w=M,v=U,M=G,U=$}}}return l},Rw=function(t,e,a,r){if(a-e<=4){for(let B=e;B<a-2;B+=2)r.push(t[B],t[B+1]);return}const i=t[e],o=t[e+1],s=t[a-4]-i,c=t[a-3]-o,l=Math.hypot(s,c),u=s/l,h=c/l,f=u*o-h*i,y=c/s,w=1/l,v=Math.atan(y),b=Math.cos(v),S=Math.sin(v),_=w*(Math.abs(b)+Math.abs(S)),P=w*(1-_+_**2),E=Math.max(Math.atan(Math.abs(S+b)*P),Math.atan(Math.abs(S-b)*P));let C=0,T=e;for(let B=e+2;B<a-2;B+=2){const L=Math.abs(f-u*t[B+1]+h*t[B]);L>C&&(T=B,C=L)}C>(l*E)**2?(O(this,ye,Rw).call(this,t,e,T+2,r),O(this,ye,Rw).call(this,t,T,a,r)):r.push(i,o)},EX=function(t){const e=[],a=t.length;return O(this,ye,Rw).call(this,t,0,a,e),e.push(t[a-2],t[a-1]),e.length<=4?null:e},TX=function(t,e,a,r,i,o){const s=new Float32Array(o**2),c=-2*r**2,l=o>>1;for(let v=0;v<o;v++){const b=(v-l)**2;for(let S=0;S<o;S++)s[v*o+S]=Math.exp((b+(S-l)**2)/c)}const u=new Float32Array(256),h=-2*i**2;for(let v=0;v<256;v++)u[v]=Math.exp(v**2/h);const f=t.length,y=new Uint8Array(f),w=new Uint32Array(256);for(let v=0;v<a;v++)for(let b=0;b<e;b++){const S=v*e+b,_=t[S];let P=0,E=0;for(let T=0;T<o;T++){const B=v+T-l;if(!(B<0||B>=a))for(let L=0;L<o;L++){const M=b+L-l;if(M<0||M>=e)continue;const U=t[B*e+M],F=s[T*o+L]*u[Math.abs(U-_)];P+=U*F,E+=F}}const C=y[S]=Math.round(P/E);w[C]++}return[y,w]},DX=function(t){const e=new Uint32Array(256);for(const a of t)e[a]++;return e},xB=function(t){const e=t.length,a=new Uint8ClampedArray(e>>2);let r=-1/0,i=1/0;for(let s=0,c=a.length;s<c;s++){const l=a[s]=t[s<<2];r=Math.max(r,l),i=Math.min(i,l)}const o=255/(r-i);for(let s=0,c=a.length;s<c;s++)a[s]=(a[s]-i)*o;return a},yB=function(t){let e,a=-1/0,r=-1/0;const i=t.findIndex(c=>c!==0);let o=i,s=i;for(e=i;e<256;e++){const c=t[e];c>a&&(e-o>r&&(r=e-o,s=e-1),a=c,o=e)}for(e=s-1;e>=0&&!(t[e]>t[e+1]);e--);return e},NX=function(t){const e=t,{width:a,height:r}=t,{maxDim:i}=p(this,fm);let o=a,s=r;if(a>i||r>i){let f=a,y=r,w=Math.log2(Math.max(a,r)/i);const v=Math.floor(w);w=w===v?v-1:v;for(let S=0;S<w;S++){o=Math.ceil(f/2),s=Math.ceil(y/2);const _=new OffscreenCanvas(o,s);_.getContext("2d").drawImage(t,0,0,f,y,0,0,o,s),f=o,y=s,t!==e&&t.close(),t=_.transferToImageBitmap()}const b=Math.min(i/o,i/s);o=Math.round(o*b),s=Math.round(s*b)}const l=new OffscreenCanvas(o,s).getContext("2d",{willReadFrequently:!0});l.fillStyle="white",l.fillRect(0,0,o,s),l.filter="grayscale(1)",l.drawImage(t,0,0,t.width,t.height,0,0,o,s);const u=l.getImageData(0,0,o,s).data;return[O(this,ye,xB).call(this,u),o,s]},j(dc,ye),j(dc,fm,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(dc,ro,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class IO extends bX{constructor(){super(),super.updateProperties({fill:Fe._defaultLineColor,"stroke-width":0})}clone(){const t=new IO;return t.updateAll(this),t}}class RO extends _S{constructor(t){super(t),super.updateProperties({stroke:Fe._defaultLineColor,"stroke-width":1})}clone(){const t=new RO(this._viewParameters);return t.updateAll(this),t}}var Xl,Yo,Yl,gm;const Cr=class Cr extends p1{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});j(this,Xl,!1);j(this,Yo,null);j(this,Yl,null);j(this,gm,null);this._willKeepAspectRatio=!0,D(this,Yl,e.signatureData||null),D(this,Yo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,a){Fe.initialize(e,a),this._defaultDrawingOptions=new IO,this._defaultDrawnSignatureOptions=new RO(a.viewParameters)}static getDefaultDrawingOptions(e){const a=this._defaultDrawingOptions.clone();return a.updateProperties(e),a}static get supportMultipleDrawings(){return!1}static get typesMap(){return ee(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(this,Yo)}}static computeTelemetryFinalData(e){const a=e.get("hasDescription");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,a;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,a=this.y),super.render(),this._drawId===null)if(p(this,Yl)){const{lines:i,mustSmooth:o,areContours:s,description:c,uuid:l,heightInPage:u}=p(this,Yl),{rawDims:{pageWidth:h,pageHeight:f},rotation:y}=this.parent.viewport,w=dc.processDrawnLines({lines:i,pageWidth:h,pageHeight:f,rotation:y,innerMargin:Cr._INNER_MARGIN,mustSmooth:o,areContours:s});this.addSignature(w,u,c,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:p(this,Yo)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,a)),this.div}setUuid(e){D(this,gm,e),this.addEditToolbar()}getUuid(){return p(this,gm)}get description(){return p(this,Yo)}set description(e){D(this,Yo,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(a=>{a==null||a.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:a,thickness:r,width:i,height:o}=p(this,Yl),s=Math.max(i,o),c=dc.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:i,height:o},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:a});return{areContours:a,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,a,r,i){const{x:o,y:s}=this,{outline:c}=D(this,Yl,e);D(this,Xl,c instanceof pB),this.description=r;let l;p(this,Xl)?l=Cr.getDefaultDrawingOptions():(l=Cr._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:l});const[,u]=this.pageDimensions;let h=a/u;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:a,pageHeight:r},rotation:i}=this.parent.viewport;return dc.process(e,a,r,i,Cr._INNER_MARGIN)}getFromText(e,a){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return dc.extractContoursFromText(e,a,r,i,o,Cr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:a,pageHeight:r},rotation:i}=this.parent.viewport;return dc.processDrawnLines({lines:e,pageWidth:a,pageHeight:r,rotation:i,innerMargin:Cr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:a}){e?this._drawingOptions=Cr.getDefaultDrawingOptions():(this._drawingOptions=Cr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":a}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:a,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,o=Object.assign(super.serialize(e),{isSignature:!0,areContours:p(this,Xl),color:[0,0,0],thickness:p(this,Xl)?0:i});return this.addComment(o),e?(o.paths={lines:a,points:r},o.uuid=p(this,gm),o.isCopy=!0):o.lines=a,p(this,Yo)&&(o.accessibilityData={type:"Figure",alt:p(this,Yo)}),o}static deserializeDraw(e,a,r,i,o,s){return s.areContours?pB.deserialize(e,a,r,i,o,s):lv.deserialize(e,a,r,i,o,s)}static async deserialize(e,a,r){var o;const i=await super.deserialize(e,a,r);return D(i,Xl,e.areContours),i.description=((o=e.accessibilityData)==null?void 0:o.alt)||"",D(i,gm,e.uuid),i}};Xl=new WeakMap,Yo=new WeakMap,Yl=new WeakMap,gm=new WeakMap,ht(Cr,"_type","signature"),ht(Cr,"_editorType",Xt.SIGNATURE),ht(Cr,"_defaultDrawingOptions",null);let vB=Cr;var Ke,Zn,Ql,ic,Jl,wf,oc,xm,Qo,Hr,Af,ue,Hg,Vg,Mw,Fw,$w,wB,Gw,BX;class bB extends Fe{constructor(e){super({...e,name:"stampEditor"});j(this,ue);j(this,Ke,null);j(this,Zn,null);j(this,Ql,null);j(this,ic,null);j(this,Jl,null);j(this,wf,"");j(this,oc,null);j(this,xm,!1);j(this,Qo,null);j(this,Hr,!1);j(this,Af,!1);D(this,ic,e.bitmapUrl),D(this,Jl,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,a){Fe.initialize(e,a)}static isHandlingMimeForPasting(e){return aN.includes(e)}static paste(e,a){a.pasteEditor({mode:Xt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const a=e.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(e=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:s}=e||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:o,height:s,channels:i.length/(o*s)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const l=c.output;return await this.setGuessedAltText(l),a&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}remove(){var e;p(this,Zn)&&(D(this,Ke,null),this._uiManager.imageManager.deleteId(p(this,Zn)),(e=p(this,oc))==null||e.remove(),D(this,oc,null),p(this,Qo)&&(clearTimeout(p(this,Qo)),D(this,Qo,null))),super.remove()}rebuild(){if(!this.parent){p(this,Zn)&&O(this,ue,Mw).call(this);return}super.rebuild(),this.div!==null&&(p(this,Zn)&&p(this,oc)===null&&O(this,ue,Mw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(p(this,Ql)||p(this,Ke)||p(this,ic)||p(this,Jl)||p(this,Zn)||p(this,xm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,a;return this._isCopy&&(e=this.x,a=this.y),super.render(),this.div.hidden=!0,this.createAltText(),p(this,xm)||(p(this,Ke)?O(this,ue,Fw).call(this):O(this,ue,Mw).call(this)),this._isCopy&&this._moveAfterPaste(e,a),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,a){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,a);a.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(D(this,Zn,r),i&&D(this,Ke,i),D(this,xm,!1),O(this,ue,Fw).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,Qo)!==null&&clearTimeout(p(this,Qo)),D(this,Qo,setTimeout(()=>{D(this,Qo,null),O(this,ue,wB).call(this)},200))}copyCanvas(e,a,r=!1){e||(e=224);const{width:i,height:o}=p(this,Ke),s=new us;let c=p(this,Ke),l=i,u=o,h=null;if(a){if(i>a||o>a){const B=Math.min(a/i,a/o);l=Math.floor(i*B),u=Math.floor(o*B)}h=document.createElement("canvas");const y=h.width=Math.ceil(l*s.sx),w=h.height=Math.ceil(u*s.sy);p(this,Hr)||(c=O(this,ue,$w).call(this,y,w));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let b="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":QAt.isDarkMode&&(b="#8f8f9d",S="#42414d");const _=15,P=_*s.sx,E=_*s.sy,C=new OffscreenCanvas(P*2,E*2),T=C.getContext("2d");T.fillStyle=b,T.fillRect(0,0,P*2,E*2),T.fillStyle=S,T.fillRect(0,0,P,E),T.fillRect(P,E,P,E),v.fillStyle=v.createPattern(C,"repeat"),v.fillRect(0,0,y,w),v.drawImage(c,0,0,c.width,c.height,0,0,y,w)}let f=null;if(r){let y,w;if(s.symmetric&&c.width<e&&c.height<e)y=c.width,w=c.height;else if(c=p(this,Ke),i>e||o>e){const S=Math.min(e/i,e/o);y=Math.floor(i*S),w=Math.floor(o*S),p(this,Hr)||(c=O(this,ue,$w).call(this,y,w))}const b=new OffscreenCanvas(y,w).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,y,w),f={width:y,height:w,data:b.getImageData(0,0,y,w).data}}return{canvas:h,width:l,height:u,imageData:f}}static async deserialize(e,a,r){var b;let i=null,o=!1;if(e instanceof KK){const{data:{rect:S,rotation:_,id:P,structParent:E,popupRef:C,richText:T,contentsObj:B,creationDate:L,modificationDate:M},container:U,parent:{page:{pageNumber:F}},canvas:G}=e;let $,H;G?(delete e.canvas,{id:$,bitmap:H}=r.imageManager.getFromCanvas(U.id,G),G.remove()):(o=!0,e._hasNoCanvas=!0);const X=((b=await a._structTree.getAriaAttributes(`${EO}${P}`))==null?void 0:b.get("aria-label"))||"";i=e={annotationType:Xt.STAMP,bitmapId:$,bitmap:H,pageIndex:F-1,rect:S.slice(0),rotation:_,annotationElementId:P,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:E,popupRef:C,richText:T,comment:(B==null?void 0:B.str)||null,creationDate:L,modificationDate:M}}const s=await super.deserialize(e,a,r),{rect:c,bitmap:l,bitmapUrl:u,bitmapId:h,isSvg:f,accessibilityData:y}=e;o?(r.addMissingCanvas(e.id,s),D(s,xm,!0)):h&&r.imageManager.isValidId(h)?(D(s,Zn,h),l&&D(s,Ke,l)):D(s,ic,u),D(s,Hr,f);const[w,v]=s.pageDimensions;return s.width=(c[2]-c[0])/w,s.height=(c[3]-c[1])/v,y&&(s.altTextData=y),s._initialData=i,e.comment&&s.setCommentData(e),D(s,Af,!!i),s}serialize(e=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:p(this,Zn),isSvg:p(this,Hr)});if(this.addComment(r),e)return r.bitmapUrl=O(this,ue,Gw).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=O(this,ue,BX).call(this,r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(a===null)return r;a.stamps||(a.stamps=new Map);const s=p(this,Hr)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!a.stamps.has(p(this,Zn)))a.stamps.set(p(this,Zn),{area:s,serialized:r}),r.bitmap=O(this,ue,Gw).call(this,!1);else if(p(this,Hr)){const c=a.stamps.get(p(this,Zn));s>c.area&&(c.area=s,c.serialized.bitmap.close(),c.serialized.bitmap=O(this,ue,Gw).call(this,!1))}return r}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ke=new WeakMap,Zn=new WeakMap,Ql=new WeakMap,ic=new WeakMap,Jl=new WeakMap,wf=new WeakMap,oc=new WeakMap,xm=new WeakMap,Qo=new WeakMap,Hr=new WeakMap,Af=new WeakMap,ue=new WeakSet,Hg=function(e,a=!1){if(!e){this.remove();return}D(this,Ke,e.bitmap),a||(D(this,Zn,e.id),D(this,Hr,e.isSvg)),e.file&&D(this,wf,e.file.name),O(this,ue,Fw).call(this)},Vg=function(){if(D(this,Ql,null),this._uiManager.enableWaiting(!1),!!p(this,oc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Ke)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Ke)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Mw=function(){if(p(this,Zn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Zn)).then(r=>O(this,ue,Hg).call(this,r,!0)).finally(()=>O(this,ue,Vg).call(this));return}if(p(this,ic)){const r=p(this,ic);D(this,ic,null),this._uiManager.enableWaiting(!0),D(this,Ql,this._uiManager.imageManager.getFromUrl(r).then(i=>O(this,ue,Hg).call(this,i)).finally(()=>O(this,ue,Vg).call(this)));return}if(p(this,Jl)){const r=p(this,Jl);D(this,Jl,null),this._uiManager.enableWaiting(!0),D(this,Ql,this._uiManager.imageManager.getFromFile(r).then(i=>O(this,ue,Hg).call(this,i)).finally(()=>O(this,ue,Vg).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=aN.join(",");const a=this._uiManager._signal;D(this,Ql,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),O(this,ue,Hg).call(this,i)}r()},{signal:a}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:a})}).finally(()=>O(this,ue,Vg).call(this))),e.click()},Fw=function(){var l;const{div:e}=this;let{width:a,height:r}=p(this,Ke);const[i,o]=this.pageDimensions,s=.75;if(this.width)a=this.width*i,r=this.height*o;else if(a>s*i||r>s*o){const u=Math.min(s*i/a,s*o/r);a*=u,r*=u}this._uiManager.enableWaiting(!1);const c=D(this,oc,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=a/i,this.height=r/o,this.setDims(),(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),O(this,ue,wB).call(this),p(this,Af)||(this.parent.addUndoableEditor(this),D(this,Af,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,wf)&&this.div.setAttribute("aria-description",p(this,wf)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},$w=function(e,a){const{width:r,height:i}=p(this,Ke);let o=r,s=i,c=p(this,Ke);for(;o>2*e||s>2*a;){const l=o,u=s;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),s>2*a&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const h=new OffscreenCanvas(o,s);h.getContext("2d").drawImage(c,0,0,l,u,0,0,o,s),c=h.transferToImageBitmap()}return c},wB=function(){const[e,a]=this.parentDimensions,{width:r,height:i}=this,o=new us,s=Math.ceil(r*e*o.sx),c=Math.ceil(i*a*o.sy),l=p(this,oc);if(!l||l.width===s&&l.height===c)return;l.width=s,l.height=c;const u=p(this,Hr)?p(this,Ke):O(this,ue,$w).call(this,s,c),h=l.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,s,c)},Gw=function(e){if(e){if(p(this,Hr)){const i=this._uiManager.imageManager.getSvgUrl(p(this,Zn));if(i)return i}const a=document.createElement("canvas");return{width:a.width,height:a.height}=p(this,Ke),a.getContext("2d").drawImage(p(this,Ke),0,0),a.toDataURL()}if(p(this,Hr)){const[a,r]=this.pageDimensions,i=Math.round(this.width*a*md.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*md.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,o);return s.getContext("2d").drawImage(p(this,Ke),0,0,p(this,Ke).width,p(this,Ke).height,0,0,i,o),s.transferToImageBitmap()}return structuredClone(p(this,Ke))},BX=function(e){var s;const{pageIndex:a,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===a,o=(((s=e.accessibilityData)==null?void 0:s.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},ht(bB,"_type","stamp"),ht(bB,"_editorType",Xt.STAMP);var ym,Sf,Zl,td,sc,hr,ed,_f,Pf,io,cc,ta,lc,nd,kf,jt,ad,Ne,SB,jX,Co,_B,PB,Uw;const Wi=class Wi{constructor({uiManager:t,pageIndex:e,div:a,structTreeLayer:r,accessibilityManager:i,annotationLayer:o,drawLayer:s,textLayer:c,viewport:l,l10n:u}){j(this,Ne);j(this,ym);j(this,Sf,!1);j(this,Zl,null);j(this,td,null);j(this,sc,null);j(this,hr,new Map);j(this,ed,!1);j(this,_f,!1);j(this,Pf,!1);j(this,io,null);j(this,cc,null);j(this,ta,null);j(this,lc,null);j(this,nd,null);j(this,kf,-1);j(this,jt);const h=[...p(Wi,ad).values()];if(!Wi._initialized){Wi._initialized=!0;for(const f of h)f.initialize(u,t)}t.registerEditorTypes(h),D(this,jt,t),this.pageIndex=e,this.div=a,D(this,ym,i),D(this,Zl,o),this.viewport=l,D(this,ta,c),this.drawLayer=s,this._structTree=r,p(this,jt).addLayer(this)}get isEmpty(){return p(this,hr).size===0}get isInvisible(){return this.isEmpty&&p(this,jt).getMode()===Xt.NONE}updateToolbar(t){p(this,jt).updateToolbar(t)}updateMode(t=p(this,jt).getMode()){switch(O(this,Ne,Uw).call(this),t){case Xt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Xt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const a of p(Wi,ad).values())e.toggle(`${a._type}Editing`,t===a._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=p(this,ta))==null?void 0:e.div)}setEditingState(t){p(this,jt).setEditingState(t)}addCommands(t){p(this,jt).addCommands(t)}cleanUndoStack(t){p(this,jt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=p(this,Zl))==null||e.div.classList.toggle("disabled",!t)}async enable(){var a;D(this,Pf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(a=p(this,nd))==null||a.abort(),D(this,nd,null);const t=new Set;for(const r of p(this,Ne,SB))r.enableEditing(),r.show(!0),r.annotationElementId&&(p(this,jt).removeChangedExistingAnnotation(r),t.add(r.annotationElementId));const e=p(this,Zl);if(e)for(const r of e.getEditableAnnotations()){if(r.hide(),p(this,jt).isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}D(this,Pf,!1),p(this,jt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var a;if(D(this,_f,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),p(this,ta)&&!p(this,nd)){D(this,nd,new AbortController);const r=p(this,jt).combinedSignal(p(this,nd));p(this,ta).div.addEventListener("pointerdown",i=>{const{clientX:s,clientY:c,timeStamp:l}=i,u=p(this,kf);if(l-u>500){D(this,kf,l);return}D(this,kf,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(s,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let y;const w=new RegExp(`^${e0}[0-9]+$`);for(const b of f)if(w.test(b.id)){y=b.id;break}if(!y)return;const v=p(this,hr).get(y);(v==null?void 0:v.annotationElementId)===null&&(i.stopPropagation(),i.preventDefault(),v.dblclick(i))},{signal:r,capture:!0})}const t=p(this,Zl);if(t){const r=new Map,i=new Map;for(const s of p(this,Ne,SB)){if(s.disableEditing(),!s.annotationElementId){s.updateFakeAnnotationElement(t);continue}if(s.serialize()!==null){r.set(s.annotationElementId,s);continue}else i.set(s.annotationElementId,s);(a=this.getEditableAnnotation(s.annotationElementId))==null||a.show(),s.remove()}const o=t.getEditableAnnotations();for(const s of o){const{id:c}=s.data;if(p(this,jt).isDeletedAnnotationElement(c)){s.updateEdited({deleted:!0});continue}let l=i.get(c);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=r.get(c),l&&(p(this,jt).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}O(this,Ne,Uw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const r of p(Wi,ad).values())e.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),D(this,_f,!1)}getEditableAnnotation(t){var e;return((e=p(this,Zl))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){p(this,jt).getActive()!==t&&p(this,jt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=p(this,ta))!=null&&t.div&&!p(this,lc)){D(this,lc,new AbortController);const e=p(this,jt).combinedSignal(p(this,lc));p(this,ta).div.addEventListener("pointerdown",O(this,Ne,jX).bind(this),{signal:e}),p(this,ta).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=p(this,ta))!=null&&t.div&&p(this,lc)&&(p(this,lc).abort(),D(this,lc,null),p(this,ta).div.classList.remove("highlighting"))}enableClick(){if(p(this,td))return;D(this,td,new AbortController);const t=p(this,jt).combinedSignal(p(this,td));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=p(this,td))==null||t.abort(),D(this,td,null)}attach(t){p(this,hr).set(t.id,t);const{annotationElementId:e}=t;e&&p(this,jt).isDeletedAnnotationElement(e)&&p(this,jt).removeDeletedAnnotationElement(t)}detach(t){var e;p(this,hr).delete(t.id),(e=p(this,ym))==null||e.removePointerInTextLayer(t.contentDiv),!p(this,_f)&&t.annotationElementId&&p(this,jt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),p(this,jt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(p(this,jt).addDeletedAnnotationElement(t.annotationElementId),Fe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),p(this,jt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!p(this,Pf)),p(this,jt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var a;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!p(this,sc)&&(t._focusEventsAllowed=!1,D(this,sc,setTimeout(()=>{D(this,sc,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:p(this,jt)._signal}),e.focus())},0))),t._structTreeParentId=(a=p(this,ym))==null?void 0:a.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),a=()=>{t.remove()};this.addCommands({cmd:e,undo:a,mustExec:!1})}getEditorByUID(t){for(const e of p(this,hr).values())if(e.uid===t)return e;return null}getNextId(){return p(this,jt).getId()}combinedSignal(t){return p(this,jt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=p(this,Ne,Co))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await p(this,jt).updateMode(t.mode);const{offsetX:a,offsetY:r}=O(this,Ne,PB).call(this),i=this.getNextId(),o=O(this,Ne,_B).call(this,{parent:this,id:i,x:a,y:r,uiManager:p(this,jt),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=p(Wi,ad).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,p(this,jt)))||null}createAndAddNewEditor(t,e,a={}){const r=this.getNextId(),i=O(this,Ne,_B).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:p(this,jt),isCentered:e,...a});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(O(this,Ne,PB).call(this),!0,t)}setSelected(t){p(this,jt).setSelected(t)}toggleSelected(t){p(this,jt).toggleSelected(t)}unselect(t){p(this,jt).unselect(t)}pointerup(t){var r;const{isMac:e}=ya.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!p(this,ed)||(D(this,ed,!1),(r=p(this,Ne,Co))!=null&&r.isDrawer&&p(this,Ne,Co).supportMultipleDrawings))return;if(!p(this,Sf)){D(this,Sf,!0);return}const a=p(this,jt).getMode();if(a===Xt.STAMP||a===Xt.SIGNATURE){p(this,jt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var r;if(p(this,jt).getMode()===Xt.HIGHLIGHT&&this.enableTextSelection(),p(this,ed)){D(this,ed,!1);return}const{isMac:e}=ya.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(D(this,ed,!0),(r=p(this,Ne,Co))!=null&&r.isDrawer){this.startDrawingSession(t);return}const a=p(this,jt).getActive();D(this,Sf,!a||a.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),p(this,io)){p(this,Ne,Co).startDrawing(this,p(this,jt),!1,t);return}p(this,jt).setCurrentDrawingSession(this),D(this,io,new AbortController);const e=p(this,jt).combinedSignal(p(this,io));this.div.addEventListener("blur",({relatedTarget:a})=>{a&&!this.div.contains(a)&&(D(this,cc,null),this.commitOrRemove())},{signal:e}),p(this,Ne,Co).startDrawing(this,p(this,jt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&D(this,cc,e);return}p(this,cc)&&setTimeout(()=>{var e;(e=p(this,cc))==null||e.focus(),D(this,cc,null)},0)}endDrawingSession(t=!1){return p(this,io)?(p(this,jt).setCurrentDrawingSession(null),p(this,io).abort(),D(this,io,null),D(this,cc,null),p(this,Ne,Co).endDrawing(t)):null}findNewParent(t,e,a){const r=p(this,jt).findParent(e,a);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return p(this,io)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,io)&&p(this,Ne,Co).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=p(this,jt).getActive())==null?void 0:t.parent)===this&&(p(this,jt).commitOrRemove(),p(this,jt).setActiveEditor(null)),p(this,sc)&&(clearTimeout(p(this,sc)),D(this,sc,null));for(const a of p(this,hr).values())(e=p(this,ym))==null||e.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,p(this,hr).clear(),p(this,jt).removeLayer(this)}render({viewport:t}){this.viewport=t,Dm(this.div,t);for(const e of p(this,jt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){p(this,jt).commitOrRemove(),O(this,Ne,Uw).call(this);const e=this.viewport.rotation,a=t.rotation;if(this.viewport=t,Dm(this.div,{rotation:a}),e!==a)for(const r of p(this,hr).values())r.rotate(a)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return p(this,jt).viewParameters.realScale}};ym=new WeakMap,Sf=new WeakMap,Zl=new WeakMap,td=new WeakMap,sc=new WeakMap,hr=new WeakMap,ed=new WeakMap,_f=new WeakMap,Pf=new WeakMap,io=new WeakMap,cc=new WeakMap,ta=new WeakMap,lc=new WeakMap,nd=new WeakMap,kf=new WeakMap,jt=new WeakMap,ad=new WeakMap,Ne=new WeakSet,SB=function(){return p(this,hr).size!==0?p(this,hr).values():p(this,jt).getEditors(this.pageIndex)},jX=function(t){p(this,jt).unselectAll();const{target:e}=t;if(e===p(this,ta).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&p(this,ta).div.contains(e)){const{isMac:a}=ya.platform;if(t.button!==0||t.ctrlKey&&a)return;p(this,jt).showAllEditors("highlight",!0,!0),p(this,ta).div.classList.add("free"),this.toggleDrawing(),h1.startHighlighting(this,p(this,jt).direction==="ltr",{target:p(this,ta).div,x:t.x,y:t.y}),p(this,ta).div.addEventListener("pointerup",()=>{p(this,ta).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,jt)._signal}),t.preventDefault()}},Co=function(){return p(Wi,ad).get(p(this,jt).getMode())},_B=function(t){const e=p(this,Ne,Co);return e?new e.prototype.constructor(t):null},PB=function(){const{x:t,y:e,width:a,height:r}=this.boundingClientRect,i=Math.max(0,t),o=Math.max(0,e),s=Math.min(window.innerWidth,t+a),c=Math.min(window.innerHeight,e+r),l=(i+s)/2-t,u=(o+c)/2-e,[h,f]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:h,offsetY:f}},Uw=function(){for(const t of p(this,hr).values())t.isEmpty()&&t.remove()},ht(Wi,"_initialized",!1),j(Wi,ad,new Map([aB,hB,bB,h1,vB].map(t=>[t._editorType,t])));let AB=Wi;var oo,qa,vm,Fy,j1,OX,ms,CB,LX,EB;const In=class In{constructor({pageIndex:t}){j(this,ms);j(this,oo,null);j(this,qa,new Map);j(this,vm,new Map);this.pageIndex=t}setParent(t){if(!p(this,oo)){D(this,oo,t);return}if(p(this,oo)!==t){if(p(this,qa).size>0)for(const e of p(this,qa).values())e.remove(),t.append(e);D(this,oo,t)}}static get _svgFactory(){return ee(this,"_svgFactory",new u1)}draw(t,e=!1,a=!1){const r=Bn(In,Fy)._++,i=O(this,ms,CB).call(this),o=In._svgFactory.createElement("defs");i.append(o);const s=In._svgFactory.createElement("path");o.append(s);const c=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",c),s.setAttribute("vector-effect","non-scaling-stroke"),e&&p(this,vm).set(r,s);const l=a?O(this,ms,LX).call(this,o,c):null,u=In._svgFactory.createElement("use");return i.append(u),u.setAttribute("href",`#${c}`),this.updateProperties(i,t),p(this,qa).set(r,i),{id:r,clipPathId:`url(#${l})`}}drawOutline(t,e){const a=Bn(In,Fy)._++,r=O(this,ms,CB).call(this),i=In._svgFactory.createElement("defs");r.append(i);const o=In._svgFactory.createElement("path");i.append(o);const s=`path_p${this.pageIndex}_${a}`;o.setAttribute("id",s),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e){const h=In._svgFactory.createElement("mask");i.append(h),c=`mask_p${this.pageIndex}_${a}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=In._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const y=In._svgFactory.createElement("use");h.append(y),y.setAttribute("href",`#${s}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const l=In._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),c&&l.setAttribute("mask",`url(#${c})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),p(this,qa).set(a,r),a}finalizeDraw(t,e){p(this,vm).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var c;if(!e)return;const{root:a,bbox:r,rootClass:i,path:o}=e,s=typeof t=="number"?p(this,qa).get(t):t;if(s){if(a&&O(this,ms,EB).call(this,s,a),r&&O(c=In,j1,OX).call(c,s,r),i){const{classList:l}=s;for(const[u,h]of Object.entries(i))l.toggle(u,h)}if(o){const u=s.firstChild.firstChild;O(this,ms,EB).call(this,u,o)}}}updateParent(t,e){if(e===this)return;const a=p(this,qa).get(t);a&&(p(e,oo).append(a),p(this,qa).delete(t),p(e,qa).set(t,a))}remove(t){p(this,vm).delete(t),p(this,oo)!==null&&(p(this,qa).get(t).remove(),p(this,qa).delete(t))}destroy(){D(this,oo,null);for(const t of p(this,qa).values())t.remove();p(this,qa).clear(),p(this,vm).clear()}};oo=new WeakMap,qa=new WeakMap,vm=new WeakMap,Fy=new WeakMap,j1=new WeakSet,OX=function(t,[e,a,r,i]){const{style:o}=t;o.top=`${100*a}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*i}%`},ms=new WeakSet,CB=function(){const t=In._svgFactory.create(1,1,!0);return p(this,oo).append(t),t.setAttribute("aria-hidden",!0),t},LX=function(t,e){const a=In._svgFactory.createElement("clipPath");t.append(a);const r=`clip_${e}`;a.setAttribute("id",r),a.setAttribute("clipPathUnits","objectBoundingBox");const i=In._svgFactory.createElement("use");return a.append(i),i.setAttribute("href",`#${e}`),i.classList.add("clip"),r},EB=function(t,e){for(const[a,r]of Object.entries(e))r===null?t.removeAttribute(a):t.setAttribute(a,r)},j(In,j1),j(In,Fy,0);let kB=In;globalThis._pdfjsTestingUtils={HighlightOutliner:iB};globalThis.pdfjsLib={AbortException:ud,AnnotationEditorLayer:AB,AnnotationEditorParamsType:oe,AnnotationEditorType:Xt,AnnotationEditorUIManager:Nm,AnnotationLayer:tB,AnnotationMode:ll,AnnotationType:An,applyOpacity:ZAt,build:iSt,ColorPicker:l1,createValidAbsoluteUrl:CW,CSSConstants:JAt,DOMSVGFactory:u1,DrawLayer:kB,FeatureTest:ya,fetchData:rv,findContrastColor:t1t,getDocument:BK,getFilenameFromUrl:VAt,getPdfFilenameFromUrl:WAt,getRGB:ov,getUuid:DW,getXfaPageViewport:XAt,GlobalWorkerOptions:Jo,ImageKind:dw,InvalidPDFException:eN,isDataScheme:AS,isPdfFile:DO,isValidExplicitDest:d1t,MathClamp:Va,noContextMenu:Ni,normalizeUnicode:zAt,OPS:n0,OutputScale:us,PasswordResponses:OAt,PDFDataRangeTransport:jK,PDFDateString:a1,PDFWorker:i0,PermissionFlag:jAt,PixelsPerInch:md,RenderingCancelledException:TO,renderRichText:jW,ResponseException:n1,setLayerDimensions:Dm,shadow:ee,SignatureExtractor:dc,stopEvent:pn,SupportedImageMimeTypes:aN,TextLayer:r0,TouchManager:i1,updateUrlHash:EW,Util:Pt,VerbosityLevel:vS,version:IK,XfaLayer:BW};function IX({onUploadSuccess:n}){const[t,e]=I.useState(!1),[a,r]=I.useState(null),[i,o]=I.useState(!1),[s,c]=I.useState(0),[l,u]=I.useState(""),[h,f]=I.useState(!1),[y,w]=I.useState(""),v=I.useRef(!1),b=I.useRef(null),S=I.useRef(null);Jo.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${IK}/pdf.worker.min.js`,I.useEffect(()=>()=>{S.current&&clearInterval(S.current)},[]);const _=I.useCallback(G=>{G.preventDefault(),e(!0)},[]),P=I.useCallback(G=>{G.preventDefault(),e(!1)},[]),E=I.useCallback(G=>{G.preventDefault(),e(!1);const H=Array.from(G.dataTransfer.files)[0];H&&(H.type==="application/pdf"||H.type==="application/epub+zip")?H.size<=50*1024*1024?(r(H),H.size/(1024*1024)>20&&Nt("Large file selected. Upload will use direct streaming.",{icon:"",duration:3e3})):Nt.error("File size must be less than 50MB"):Nt.error("Please upload a PDF or EPUB file")},[]),C=I.useCallback(G=>{var H;const $=(H=G.target.files)==null?void 0:H[0];$&&($.size<=50*1024*1024?(r($),$.size/(1024*1024)>20&&Nt("Large file selected. Upload will use direct streaming.",{icon:"",duration:3e3})):Nt.error("File size must be less than 50MB"))},[]),T=()=>{o(!1),c(0),r(null),u(""),f(!1),w(""),b.current=null,v.current=!1,S.current&&(clearInterval(S.current),S.current=null)},B=async()=>{try{v.current=!0,b.current&&await kt.from("books").update({processing_status:"cancelled"}).eq("id",b.current),Nt("Upload cancelled",{icon:""}),T()}catch(G){console.error("Cancel error:",G),T()}},L=async G=>{try{const $=await G.arrayBuffer(),H=await BK({data:$}).promise;let X="";const Q=H.numPages;for(let W=1;W<=Math.min(Q,500);W++){if(v.current)throw new Error("Cancelled");const nt=(await(await H.getPage(W)).getTextContent()).items.map(z=>z.str).join(" ");if(X+=nt+`

`,W%10===0){const z=60+Math.round(W/Q*20);c(Math.min(z,80)),u(`Extracting text... (${W}/${Q} pages)`)}}return X}catch($){throw $.message==="Cancelled"?$:(console.error("PDF extraction error:",$),new Error("Failed to extract PDF text"))}},M=G=>{S.current&&clearInterval(S.current),S.current=setInterval(async()=>{try{const{data:$,error:H}=await kt.from("books").select("processing_status, ai_analysis, total_chapters").eq("id",G).single();if(H){console.error("Error checking AI status:",H);return}($==null?void 0:$.processing_status)==="completed"?(w("AI analysis complete!"),f(!1),Nt.success(`Book analyzed! ${$.total_chapters||0} chapters found.`),S.current&&(clearInterval(S.current),S.current=null)):($==null?void 0:$.processing_status)==="failed"?(w("AI analysis failed"),f(!1),Nt.error("AI analysis failed. You can retry from book details."),S.current&&(clearInterval(S.current),S.current=null)):(($==null?void 0:$.processing_status)==="analyzing"||($==null?void 0:$.processing_status)==="processing_chapters")&&($.ai_analysis?w("Generating chapters..."):w("Analyzing book content..."))}catch($){console.error("AI status check error:",$)}},3e3)},U=async()=>{if(a){v.current=!1,o(!0),c(10),u("Preparing upload...");try{const{data:{user:G},error:$}=await kt.auth.getUser();if($||!G)throw new Error("Please log in to upload books");if(v.current)return;const H=a.size/(1024*1024);console.log(`Starting direct storage upload for ${H.toFixed(2)}MB file`),c(20),u(`Uploading ${H.toFixed(1)}MB file...`);const X=Date.now(),Q=a.name.replace(/[^a-zA-Z0-9.-]/g,"_"),W=`${G.id}/${X}-${Q}`,{data:V,error:tt}=await kt.storage.from("learnty-storage").upload(W,a,{cacheControl:"3600",upsert:!1});if(tt)throw console.error("Storage upload error:",tt),new Error(`Upload failed: ${tt.message}`);if(!V)throw new Error("Upload succeeded but no data returned");if(console.log("File uploaded to storage successfully:",V.path),v.current)return;c(50),u("Creating book record...");const{data:nt}=kt.storage.from("learnty-storage").getPublicUrl(W),z=nt.publicUrl,{data:K,error:it}=await kt.from("books").insert({user_id:G.id,title:a.name.replace(/\.[^/.]+$/,""),author:"Unknown",file_url:z,file_type:a.type,upload_date:new Date().toISOString(),processing_status:"uploaded",ai_analysis:null}).select().single();if(it)throw console.error("Database insert error:",it),new Error(`Failed to create book record: ${it.message}`);if(!K)throw new Error("Book created but no data returned");if(console.log("Book record created:",K.id),b.current=K.id,v.current)return;if(c(60),u("Extracting text from PDF..."),a.type==="application/pdf")try{const ft=await L(a);if(v.current)return;c(85),u("Starting AI analysis..."),kt.functions.invoke("process-book-ai-openrouter",{body:{bookId:K.id,bookText:ft}}).then(({error:ct})=>{ct?(console.error("AI processing error:",ct),Nt.error("Failed to start AI analysis. You can retry from book details."),f(!1)):(console.log("AI analysis started successfully"),f(!0),w("Analyzing book content..."),M(K.id))}).catch(ct=>{console.error("AI invocation error:",ct),f(!1)})}catch(ft){if(ft.message==="Cancelled")return;console.error("PDF extraction error:",ft),Nt.error("Failed to extract PDF text. Book uploaded but AI analysis incomplete.")}if(v.current)return;c(100),u("Upload complete!"),Nt.success("Book uploaded successfully!");try{await kt.functions.invoke("award-achievement",{body:{userId:G.id,achievementType:"milestone"}})}catch(ft){console.log("Achievement update error (non-critical):",ft)}setTimeout(()=>{v.current||(h?(o(!1),c(0),u(""),Nt("Book is ready! AI analysis running in background.",{icon:"",duration:5e3}),n(K)):(n(K),T()))},800)}catch(G){if(G.message==="Cancelled"||v.current)return;console.error("Upload error:",G);let $="Upload failed";G.message.includes("Failed to fetch")||G.message.includes("Network Error")?$="Network error. Please check your internet connection.":G.message.includes("log in")?$=G.message:$="Upload failed: "+(G.message||"Unknown error. Please try again."),Nt.error($,{duration:6e3}),T()}}},F=G=>{if(G===0)return"0 Bytes";const $=1024,H=["Bytes","KB","MB","GB"],X=Math.floor(Math.log(G)/Math.log($));return Math.round(G/Math.pow($,X)*100)/100+" "+H[X]};return x.jsxs("div",{className:"space-y-6","data-matrix-id":"src/components/BookUpload.tsx:420:4","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"420","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onDragOver:_,onDragLeave:P,onDrop:E,className:`
          relative border-2 border-dashed rounded-3xl p-6 sm:p-8 lg:p-12 text-center transition-all
          ${t?"border-blue-500 bg-blue-50":"border-gray-300 bg-card hover:border-blue-400"}
        `,children:[x.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:".pdf,.epub",onChange:C,disabled:i,"data-matrix-id":"src/components/BookUpload.tsx:436:8","data-matrix-name":"input","data-component-path":"src/components/BookUpload.tsx","data-component-line":"436","data-component-file":"BookUpload.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22file%22%2C%22id%22%3A%22file-upload%22%2C%22className%22%3A%22hidden%22%2C%22accept%22%3A%22.pdf%2C.epub%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D"}),a?x.jsxs("div",{className:"space-y-4","data-matrix-id":"src/components/BookUpload.tsx:465:10","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"465","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-center gap-3","data-matrix-id":"src/components/BookUpload.tsx:466:12","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"466","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20gap-3%22%7D",children:[x.jsx(rJ,{className:"w-10 h-10 text-primary","data-matrix-id":"src/components/BookUpload.tsx:467:14","data-matrix-name":"File","data-component-path":"src/components/BookUpload.tsx","data-component-line":"467","data-component-file":"BookUpload.tsx","data-component-name":"File","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-primary%22%7D"}),x.jsxs("div",{className:"text-left","data-matrix-id":"src/components/BookUpload.tsx:468:14","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"468","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-left%22%7D",children:[x.jsx("p",{className:"font-semibold text-foreground","data-matrix-id":"src/components/BookUpload.tsx:469:16","data-matrix-name":"p","data-component-path":"src/components/BookUpload.tsx","data-component-line":"469","data-component-file":"BookUpload.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:a.name}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/BookUpload.tsx:472:16","data-matrix-name":"p","data-component-path":"src/components/BookUpload.tsx","data-component-line":"472","data-component-file":"BookUpload.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:F(a.size)})]}),!i&&x.jsx("button",{onClick:()=>r(null),className:"ml-auto p-2 hover:bg-muted rounded-full transition-colors","data-matrix-id":"src/components/BookUpload.tsx:477:16","data-matrix-name":"button","data-component-path":"src/components/BookUpload.tsx","data-component-line":"477","data-component-file":"BookUpload.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22ml-auto%20p-2%20hover%3Abg-muted%20rounded-full%20transition-colors%22%7D",children:x.jsx(mc,{className:"w-5 h-5 text-muted-foreground","data-matrix-id":"src/components/BookUpload.tsx:481:18","data-matrix-name":"X","data-component-path":"src/components/BookUpload.tsx","data-component-line":"481","data-component-file":"BookUpload.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-muted-foreground%22%7D"})})]}),i?x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/BookUpload.tsx:494:14","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"494","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden","data-matrix-id":"src/components/BookUpload.tsx:495:16","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"495","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-3%20overflow-hidden%22%7D",children:x.jsx(st.div,{initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3},className:"h-full bg-primary"})}),x.jsxs("div",{className:"flex items-center justify-between text-sm","data-matrix-id":"src/components/BookUpload.tsx:503:16","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"503","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20text-sm%22%7D",children:[x.jsx("span",{className:"text-foreground","data-matrix-id":"src/components/BookUpload.tsx:504:18","data-matrix-name":"span","data-component-path":"src/components/BookUpload.tsx","data-component-line":"504","data-component-file":"BookUpload.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-foreground%22%7D",children:l}),x.jsxs("span",{className:"font-semibold text-primary","data-matrix-id":"src/components/BookUpload.tsx:505:18","data-matrix-name":"span","data-component-path":"src/components/BookUpload.tsx","data-component-line":"505","data-component-file":"BookUpload.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-primary%22%7D",children:[s,"%"]})]}),x.jsx("button",{onClick:B,className:"w-full py-2 border-2 border-red-500 text-red-500 rounded-xl font-semibold hover:bg-red-50 transition-colors","data-matrix-id":"src/components/BookUpload.tsx:507:16","data-matrix-name":"button","data-component-path":"src/components/BookUpload.tsx","data-component-line":"507","data-component-file":"BookUpload.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20py-2%20border-2%20border-red-500%20text-red-500%20rounded-xl%20font-semibold%20hover%3Abg-red-50%20transition-colors%22%7D",children:"Cancel Upload"})]}):x.jsx("button",{onClick:U,className:"w-full py-3 bg-primary text-primary-foreground rounded-xl font-semibold hover:opacity-90 transition-opacity shadow-lg","data-matrix-id":"src/components/BookUpload.tsx:487:14","data-matrix-name":"button","data-component-path":"src/components/BookUpload.tsx","data-component-line":"487","data-component-file":"BookUpload.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20py-3%20bg-primary%20text-primary-foreground%20rounded-xl%20font-semibold%20hover%3Aopacity-90%20transition-opacity%20shadow-lg%22%7D",children:"Upload Book"})]}):x.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer","data-matrix-id":"src/components/BookUpload.tsx:446:10","data-matrix-name":"label","data-component-path":"src/components/BookUpload.tsx","data-component-line":"446","data-component-file":"BookUpload.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22file-upload%22%2C%22className%22%3A%22cursor-pointer%22%7D",children:x.jsxs("div",{className:"flex flex-col items-center gap-4","data-matrix-id":"src/components/BookUpload.tsx:447:12","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"447","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20gap-4%22%7D",children:[x.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary flex items-center justify-center","data-matrix-id":"src/components/BookUpload.tsx:448:14","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"448","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20sm%3Aw-20%20sm%3Ah-20%20rounded-full%20bg-primary%20flex%20items-center%20justify-center%22%7D",children:x.jsx(yJ,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white","data-matrix-id":"src/components/BookUpload.tsx:449:16","data-matrix-name":"Upload","data-component-path":"src/components/BookUpload.tsx","data-component-line":"449","data-component-file":"BookUpload.tsx","data-component-name":"Upload","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20sm%3Aw-10%20sm%3Ah-10%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/BookUpload.tsx:451:14","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"451","data-component-file":"BookUpload.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-lg sm:text-xl font-bold text-foreground mb-2","data-matrix-id":"src/components/BookUpload.tsx:452:16","data-matrix-name":"h3","data-component-path":"src/components/BookUpload.tsx","data-component-line":"452","data-component-file":"BookUpload.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Drop your book here"}),x.jsx("p",{className:"text-muted-foreground mb-2","data-matrix-id":"src/components/BookUpload.tsx:455:16","data-matrix-name":"p","data-component-path":"src/components/BookUpload.tsx","data-component-line":"455","data-component-file":"BookUpload.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-2%22%7D",children:"or click to browse"}),x.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/components/BookUpload.tsx:458:16","data-matrix-name":"p","data-component-path":"src/components/BookUpload.tsx","data-component-line":"458","data-component-file":"BookUpload.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:"Supports PDF and EPUB (max 50MB)"})]})]})})]}),h&&x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:x.jsxs("div",{className:"flex items-start gap-3","data-matrix-id":"src/components/BookUpload.tsx:526:10","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"526","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",children:[x.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin","data-matrix-id":"src/components/BookUpload.tsx:527:12","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"527","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20border-2%20border-blue-600%20border-t-transparent%20rounded-full%20animate-spin%22%7D"}),x.jsxs("div",{className:"flex-1","data-matrix-id":"src/components/BookUpload.tsx:528:12","data-matrix-name":"div","data-component-path":"src/components/BookUpload.tsx","data-component-line":"528","data-component-file":"BookUpload.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[x.jsx("h4",{className:"font-semibold text-blue-900 mb-1","data-matrix-id":"src/components/BookUpload.tsx:529:14","data-matrix-name":"h4","data-component-path":"src/components/BookUpload.tsx","data-component-line":"529","data-component-file":"BookUpload.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-blue-900%20mb-1%22%7D",children:"AI Analysis in Progress"}),x.jsx("p",{className:"text-sm text-blue-700","data-matrix-id":"src/components/BookUpload.tsx:530:14","data-matrix-name":"p","data-component-path":"src/components/BookUpload.tsx","data-component-line":"530","data-component-file":"BookUpload.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-blue-700%22%7D",children:y})]})]})})]})}function RX({onBookSelect:n,refreshTrigger:t}){const{user:e}=qe(),[a,r]=I.useState([]),[i,o]=I.useState(!0),[s,c]=I.useState(new Set);I.useEffect(()=>{e!=null&&e.id&&l()},[e==null?void 0:e.id,t]);const l=async()=>{try{o(!0);const{data:v,error:b}=await kt.from("books").select("*").eq("user_id",e==null?void 0:e.id).order("upload_date",{ascending:!1});if(b)throw b;r(v||[])}catch(v){console.error("Error loading books:",v)}finally{o(!1)}},u=async(v,b)=>{b.stopPropagation();try{c(E=>new Set(E).add(v.id)),console.log(`[BookLibrary] Retrying processing for book ${v.id}`);const{data:S}=await kt.storage.from("learnty-storage").download(v.file_url);if(!S)throw new Error("Could not download book file");const _=await S.text();await kt.from("books").update({processing_status:"uploaded",processing_details:null,ai_analysis:null}).eq("id",v.id);const{error:P}=await kt.functions.invoke("process-book-ai",{body:{bookId:v.id,bookText:_}});P&&(console.error("[BookLibrary] Retry processing error:",P),await kt.from("books").update({processing_status:"failed",processing_details:{retryError:P.message,retryAt:new Date().toISOString()}}).eq("id",v.id)),await l()}catch(S){console.error("[BookLibrary] Error retrying book processing:",S)}finally{c(S=>{const _=new Set(S);return _.delete(v.id),_})}},h=v=>{if(!["analyzing","processing_chapters"].includes(v.processing_status))return!1;const b=new Date(v.created_at).getTime(),S=Date.now(),_=5*60*1e3;return S-b>_},f=async(v,b)=>{b.stopPropagation();try{c(S=>new Set(S).add(v.id)),console.log(`[BookLibrary] Cancelling processing for book ${v.id}`),await kt.from("books").update({processing_status:"failed",processing_details:{cancelledAt:new Date().toISOString(),cancelReason:"User cancelled stuck analysis"}}).eq("id",v.id),await l()}catch(S){console.error("[BookLibrary] Error cancelling book processing:",S)}finally{c(S=>{const _=new Set(S);return _.delete(v.id),_})}},y=v=>{switch(v==null?void 0:v.toLowerCase()){case"beginner":return"bg-green-600";case"intermediate":return"bg-primary";case"advanced":return"bg-orange-600";default:return"bg-gray-600"}},w=v=>{const{processing_status:b}=v,S=s.has(v.id),_=h(v);switch(b){case"completed":return x.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full","data-matrix-id":"src/components/BookLibrary.tsx:189:10","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"189","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-2%20py-1%20bg-green-100%20text-green-700%20text-xs%20font-medium%20rounded-full%22%7D",children:"Ready"});case"analyzing":return x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/components/BookLibrary.tsx:195:10","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"195","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${_?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,"data-matrix-id":"src/components/BookLibrary.tsx:196:12","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"196","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx(gr,{className:"w-3 h-3 animate-spin","data-matrix-id":"src/components/BookLibrary.tsx:199:14","data-matrix-name":"Loader2","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"199","data-component-file":"BookLibrary.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20animate-spin%22%7D"}),_?"Stuck":"Analyzing"]}),_&&!S&&x.jsx("button",{onClick:P=>f(v,P),className:"p-1 hover:bg-muted rounded-full transition-colors",title:"Cancel analysis","data-matrix-id":"src/components/BookLibrary.tsx:203:14","data-matrix-name":"button","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"203","data-component-file":"BookLibrary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-muted%20rounded-full%20transition-colors%22%2C%22title%22%3A%22Cancel%20analysis%22%7D",children:x.jsx(rw,{className:"w-3 h-3 text-orange-600","data-matrix-id":"src/components/BookLibrary.tsx:208:16","data-matrix-name":"RefreshCw","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"208","data-component-file":"BookLibrary.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-orange-600%22%7D"})}),S&&x.jsx(gr,{className:"w-3 h-3 text-muted-foreground animate-spin","data-matrix-id":"src/components/BookLibrary.tsx:212:14","data-matrix-name":"Loader2","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"212","data-component-file":"BookLibrary.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-muted-foreground%20animate-spin%22%7D"})]});case"processing_chapters":return x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/components/BookLibrary.tsx:218:10","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"218","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${_?"bg-orange-100 text-orange-700":"bg-purple-100 text-purple-700"}`,"data-matrix-id":"src/components/BookLibrary.tsx:219:12","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"219","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx(gr,{className:"w-3 h-3 animate-spin","data-matrix-id":"src/components/BookLibrary.tsx:222:14","data-matrix-name":"Loader2","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"222","data-component-file":"BookLibrary.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20animate-spin%22%7D"}),_?"Stuck":"Chapters"]}),_&&!S&&x.jsx("button",{onClick:P=>f(v,P),className:"p-1 hover:bg-muted rounded-full transition-colors",title:"Cancel analysis","data-matrix-id":"src/components/BookLibrary.tsx:226:14","data-matrix-name":"button","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"226","data-component-file":"BookLibrary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-muted%20rounded-full%20transition-colors%22%2C%22title%22%3A%22Cancel%20analysis%22%7D",children:x.jsx(rw,{className:"w-3 h-3 text-orange-600","data-matrix-id":"src/components/BookLibrary.tsx:231:16","data-matrix-name":"RefreshCw","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"231","data-component-file":"BookLibrary.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-orange-600%22%7D"})}),S&&x.jsx(gr,{className:"w-3 h-3 text-muted-foreground animate-spin","data-matrix-id":"src/components/BookLibrary.tsx:235:14","data-matrix-name":"Loader2","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"235","data-component-file":"BookLibrary.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-muted-foreground%20animate-spin%22%7D"})]});case"uploaded":return x.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full","data-matrix-id":"src/components/BookLibrary.tsx:241:10","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"241","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-2%20py-1%20bg-yellow-100%20text-yellow-700%20text-xs%20font-medium%20rounded-full%22%7D",children:"Uploaded"});case"failed":return x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/components/BookLibrary.tsx:247:10","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"247","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full flex items-center gap-1","data-matrix-id":"src/components/BookLibrary.tsx:248:12","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"248","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-2%20py-1%20bg-red-100%20text-red-700%20text-xs%20font-medium%20rounded-full%20flex%20items-center%20gap-1%22%7D",children:[x.jsx(gU,{className:"w-3 h-3","data-matrix-id":"src/components/BookLibrary.tsx:249:14","data-matrix-name":"AlertCircle","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"249","data-component-file":"BookLibrary.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),"Failed"]}),!S&&x.jsx("button",{onClick:P=>u(v,P),className:"p-1 hover:bg-muted rounded-full transition-colors",title:"Retry processing","data-matrix-id":"src/components/BookLibrary.tsx:253:14","data-matrix-name":"button","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"253","data-component-file":"BookLibrary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-muted%20rounded-full%20transition-colors%22%2C%22title%22%3A%22Retry%20processing%22%7D",children:x.jsx(rw,{className:"w-3 h-3 text-muted-foreground","data-matrix-id":"src/components/BookLibrary.tsx:258:16","data-matrix-name":"RefreshCw","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"258","data-component-file":"BookLibrary.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-muted-foreground%22%7D"})}),S&&x.jsx(gr,{className:"w-3 h-3 text-muted-foreground animate-spin","data-matrix-id":"src/components/BookLibrary.tsx:262:14","data-matrix-name":"Loader2","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"262","data-component-file":"BookLibrary.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-muted-foreground%20animate-spin%22%7D"})]});default:return null}};return i?x.jsx("div",{className:"flex items-center justify-center py-12","data-matrix-id":"src/components/BookLibrary.tsx:273:6","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"273","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20py-12%22%7D",children:x.jsx(gr,{className:"w-8 h-8 text-primary animate-spin","data-matrix-id":"src/components/BookLibrary.tsx:274:8","data-matrix-name":"Loader2","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"274","data-component-file":"BookLibrary.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%20animate-spin%22%7D"})}):a.length===0?x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[x.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4","data-matrix-id":"src/components/BookLibrary.tsx:286:8","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"286","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-24%20h-24%20bg-muted%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-4%22%7D",children:x.jsx(QQ,{className:"w-12 h-12 text-gray-400","data-matrix-id":"src/components/BookLibrary.tsx:287:10","data-matrix-name":"Book","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"287","data-component-file":"BookLibrary.tsx","data-component-name":"Book","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-gray-400%22%7D"})}),x.jsx("h3",{className:"text-xl font-bold text-foreground mb-2","data-matrix-id":"src/components/BookLibrary.tsx:289:8","data-matrix-name":"h3","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"289","data-component-file":"BookLibrary.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"No books yet"}),x.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/components/BookLibrary.tsx:290:8","data-matrix-name":"p","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"290","data-component-file":"BookLibrary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Upload your first book to start learning"})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4","data-matrix-id":"src/components/BookLibrary.tsx:298:4","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"298","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20lg%3Agrid-cols-3%20xl%3Agrid-cols-4%20gap-3%20sm%3Agap-4%22%7D",children:a.map((v,b)=>{var P;const S=v.ai_analysis,_=(S==null?void 0:S.difficulty)||"intermediate";return x.jsxs(st.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:b*.05},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(v),className:"bg-card rounded-2xl p-3 sm:p-4 shadow-lg hover:shadow-xl transition-all text-left",children:[x.jsxs("div",{className:`
              w-full aspect-[3/4] rounded-xl mb-3 sm:mb-4 overflow-hidden
              ${y(_)}
              flex items-center justify-center relative
            `,"data-matrix-id":"src/components/BookLibrary.tsx:315:12","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"315","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx(xU,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white opacity-50","data-matrix-id":"src/components/BookLibrary.tsx:320:14","data-matrix-name":"FileText","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"320","data-component-file":"BookLibrary.tsx","data-component-name":"FileText","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20sm%3Aw-16%20sm%3Ah-16%20text-white%20opacity-50%22%7D"}),x.jsx("div",{className:"absolute top-1 right-1 sm:top-2 sm:right-2","data-matrix-id":"src/components/BookLibrary.tsx:321:14","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"321","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-1%20right-1%20sm%3Atop-2%20sm%3Aright-2%22%7D",children:w(v)})]}),x.jsx("h3",{className:"font-bold text-foreground mb-1 line-clamp-2 break-words overflow-hidden text-sm sm:text-base","data-matrix-id":"src/components/BookLibrary.tsx:327:12","data-matrix-name":"h3","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"327","data-component-file":"BookLibrary.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-bold%20text-foreground%20mb-1%20line-clamp-2%20break-words%20overflow-hidden%20text-sm%20sm%3Atext-base%22%7D",children:v.title}),x.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2 sm:mb-3","data-matrix-id":"src/components/BookLibrary.tsx:330:12","data-matrix-name":"p","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"330","data-component-file":"BookLibrary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%20mb-2%20sm%3Amb-3%22%7D",children:["by ",v.author]}),v.processing_status==="failed"&&x.jsxs("div",{className:"mb-2 sm:mb-3 p-2 bg-red-50 border border-red-200 rounded-lg","data-matrix-id":"src/components/BookLibrary.tsx:336:14","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"336","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-2%20sm%3Amb-3%20p-2%20bg-red-50%20border%20border-red-200%20rounded-lg%22%7D",children:[x.jsx("p",{className:"text-xs text-red-700 mb-1","data-matrix-id":"src/components/BookLibrary.tsx:337:16","data-matrix-name":"p","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"337","data-component-file":"BookLibrary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-red-700%20mb-1%22%7D",children:"Processing failed"}),((P=v.processing_details)==null?void 0:P.error)&&x.jsx("p",{className:"text-xs text-red-600","data-matrix-id":"src/components/BookLibrary.tsx:339:18","data-matrix-name":"p","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"339","data-component-file":"BookLibrary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-red-600%22%7D",children:v.processing_details.error})]}),h(v)&&x.jsx("div",{className:"mb-2 sm:mb-3 p-2 bg-orange-50 border border-orange-200 rounded-lg","data-matrix-id":"src/components/BookLibrary.tsx:347:14","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"347","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-2%20sm%3Amb-3%20p-2%20bg-orange-50%20border%20border-orange-200%20rounded-lg%22%7D",children:x.jsx("p",{className:"text-xs text-orange-700","data-matrix-id":"src/components/BookLibrary.tsx:348:16","data-matrix-name":"p","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"348","data-component-file":"BookLibrary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-orange-700%22%7D",children:"Processing is taking longer than expected. The book is still being analyzed."})}),S&&x.jsxs("div",{className:"space-y-1 sm:space-y-2","data-matrix-id":"src/components/BookLibrary.tsx:355:14","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"355","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-1%20sm%3Aspace-y-2%22%7D",children:[S.topics&&S.topics.length>0&&x.jsx("div",{className:"flex flex-wrap gap-1","data-matrix-id":"src/components/BookLibrary.tsx:358:18","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"358","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-1%22%7D",children:S.topics.slice(0,2).map((E,C)=>x.jsx("span",{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 bg-muted text-foreground text-xs rounded-full","data-matrix-id":"src/components/BookLibrary.tsx:360:22","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"360","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-0.5%20sm%3Apx-2%20sm%3Apy-1%20bg-muted%20text-foreground%20text-xs%20rounded-full%22%7D",children:E},C))}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs text-muted-foreground","data-matrix-id":"src/components/BookLibrary.tsx:371:16","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"371","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-4%20text-xs%20text-muted-foreground%22%7D",children:[S.estimatedMinutes&&x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/components/BookLibrary.tsx:373:20","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"373","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(xr,{className:"w-3 h-3","data-matrix-id":"src/components/BookLibrary.tsx:374:22","data-matrix-name":"Clock","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"374","data-component-file":"BookLibrary.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),x.jsxs("span",{className:"text-xs","data-matrix-id":"src/components/BookLibrary.tsx:375:22","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"375","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:[S.estimatedMinutes,"min"]})]}),x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/components/BookLibrary.tsx:379:20","data-matrix-name":"div","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"379","data-component-file":"BookLibrary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(jm,{className:"w-3 h-3","data-matrix-id":"src/components/BookLibrary.tsx:380:22","data-matrix-name":"TrendingUp","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"380","data-component-file":"BookLibrary.tsx","data-component-name":"TrendingUp","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),x.jsx("span",{className:"text-xs","data-matrix-id":"src/components/BookLibrary.tsx:381:22","data-matrix-name":"span","data-component-path":"src/components/BookLibrary.tsx","data-component-line":"381","data-component-file":"BookLibrary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:_})]})]})]})]},v.id)})})}function MX({onWipeComplete:n}){const[t,e]=I.useState(!1),[a,r]=I.useState(""),[i,o]=I.useState(!1),{user:s}=qe(),c=()=>{e(!0),r("")},l=async()=>{if(a!=="DELETE ALL"){Nt.error('Please type "DELETE ALL" to confirm');return}if(!s){Nt.error("You must be logged in to delete data");return}o(!0);try{console.log("Starting data wipe process...");const{data:u}=await kt.from("books").select("id").eq("user_id",s.id),h=(u==null?void 0:u.map(v=>v.id))||[];if(h.length>0){const{error:v}=await kt.from("book_chapters").delete().in("book_id",h);v?console.warn("Failed to delete chapters:",v):console.log("Deleted all book chapters");const{error:b}=await kt.from("learning_sessions").delete().in("book_id",h);b?console.warn("Failed to delete learning sessions:",b):console.log("Deleted all learning sessions");const{error:S}=await kt.from("milestone_dependencies").delete().in("book_id",h);S?console.warn("Failed to delete milestone dependencies:",S):console.log("Deleted all milestone dependencies")}const{error:f}=await kt.from("achievements").delete().eq("user_id",s.id).like("type","%book%");f?console.warn("Failed to delete book achievements:",f):console.log("Deleted book achievements");const{data:y}=await kt.from("books").select("id, file_url").eq("user_id",s.id);if(y&&y.length>0){const v=y.filter(b=>b.file_url).map(b=>`books/${b.file_url.split("/").pop()}`);if(v.length>0){const{error:b}=await kt.storage.from("learnty-storage").remove(v);b?console.warn("Failed to delete some files from storage:",b):console.log(`Deleted ${v.length} files from storage`)}}const{error:w}=await kt.from("books").delete().eq("user_id",s.id);if(w)throw new Error(`Failed to delete books: ${w.message}`);console.log(`Successfully deleted all data for user ${s.id}`),Nt.success("All books and data deleted successfully!"),e(!1),n()}catch(u){console.error("Data wipe failed:",u),Nt.error("Failed to delete data: "+(u.message||"Unknown error"))}finally{o(!1)}};return x.jsxs(x.Fragment,{children:[x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 text-white rounded-full flex items-center justify-center shadow-lg",title:"Data Management",children:x.jsx(AU,{className:"w-5 h-5 sm:w-6 sm:h-6","data-matrix-id":"src/components/DataWipe.tsx:161:8","data-matrix-name":"Settings","data-component-path":"src/components/DataWipe.tsx","data-component-line":"161","data-component-file":"DataWipe.tsx","data-component-name":"Settings","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%22%7D"})}),x.jsx(kc,{"data-matrix-id":"src/components/DataWipe.tsx:165:6","data-matrix-name":"AnimatePresence","data-component-path":"src/components/DataWipe.tsx","data-component-line":"165","data-component-file":"DataWipe.tsx","data-component-name":"AnimatePresence",children:t&&x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>!i&&e(!1),children:x.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card rounded-3xl p-6 sm:p-8 w-full max-w-md space-y-6",onClick:u=>u.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center gap-4","data-matrix-id":"src/components/DataWipe.tsx:182:14","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"182","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center","data-matrix-id":"src/components/DataWipe.tsx:183:16","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"183","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-red-100%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(qR,{className:"w-6 h-6 text-red-600","data-matrix-id":"src/components/DataWipe.tsx:184:18","data-matrix-name":"Trash2","data-component-path":"src/components/DataWipe.tsx","data-component-line":"184","data-component-file":"DataWipe.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-red-600%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/DataWipe.tsx:186:16","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"186","data-component-file":"DataWipe.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-xl font-bold text-foreground","data-matrix-id":"src/components/DataWipe.tsx:187:18","data-matrix-name":"h3","data-component-path":"src/components/DataWipe.tsx","data-component-line":"187","data-component-file":"DataWipe.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%22%7D",children:"Delete All Data"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/DataWipe.tsx:188:18","data-matrix-name":"p","data-component-path":"src/components/DataWipe.tsx","data-component-line":"188","data-component-file":"DataWipe.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Permanent and irreversible"})]})]}),x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4","data-matrix-id":"src/components/DataWipe.tsx:193:14","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"193","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-red-50%20border%20border-red-200%20rounded-2xl%20p-4%22%7D",children:x.jsxs("div",{className:"flex items-start gap-3","data-matrix-id":"src/components/DataWipe.tsx:194:16","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"194","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",children:[x.jsx(SU,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0","data-matrix-id":"src/components/DataWipe.tsx:195:18","data-matrix-name":"AlertTriangle","data-component-path":"src/components/DataWipe.tsx","data-component-line":"195","data-component-file":"DataWipe.tsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-red-600%20mt-0.5%20flex-shrink-0%22%7D"}),x.jsxs("div",{className:"text-sm","data-matrix-id":"src/components/DataWipe.tsx:196:18","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"196","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:[x.jsx("p",{className:"font-semibold text-red-800 mb-2","data-matrix-id":"src/components/DataWipe.tsx:197:20","data-matrix-name":"p","data-component-path":"src/components/DataWipe.tsx","data-component-line":"197","data-component-file":"DataWipe.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-red-800%20mb-2%22%7D",children:"This will permanently delete:"}),x.jsxs("ul",{className:"text-red-700 space-y-1","data-matrix-id":"src/components/DataWipe.tsx:198:20","data-matrix-name":"ul","data-component-path":"src/components/DataWipe.tsx","data-component-line":"198","data-component-file":"DataWipe.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22text-red-700%20space-y-1%22%7D",children:[x.jsx("li",{"data-matrix-id":"src/components/DataWipe.tsx:199:22","data-matrix-name":"li","data-component-path":"src/components/DataWipe.tsx","data-component-line":"199","data-component-file":"DataWipe.tsx","data-component-name":"li",children:" All uploaded books"}),x.jsx("li",{"data-matrix-id":"src/components/DataWipe.tsx:200:22","data-matrix-name":"li","data-component-path":"src/components/DataWipe.tsx","data-component-line":"200","data-component-file":"DataWipe.tsx","data-component-name":"li",children:" All AI analysis and chapters"}),x.jsx("li",{"data-matrix-id":"src/components/DataWipe.tsx:201:22","data-matrix-name":"li","data-component-path":"src/components/DataWipe.tsx","data-component-line":"201","data-component-file":"DataWipe.tsx","data-component-name":"li",children:" All learning progress and milestones"}),x.jsx("li",{"data-matrix-id":"src/components/DataWipe.tsx:202:22","data-matrix-name":"li","data-component-path":"src/components/DataWipe.tsx","data-component-line":"202","data-component-file":"DataWipe.tsx","data-component-name":"li",children:" All achievement history"}),x.jsx("li",{"data-matrix-id":"src/components/DataWipe.tsx:203:22","data-matrix-name":"li","data-component-path":"src/components/DataWipe.tsx","data-component-line":"203","data-component-file":"DataWipe.tsx","data-component-name":"li",children:" All uploaded files from storage"})]})]})]})}),x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/DataWipe.tsx:210:14","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"210","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsxs("label",{className:"block text-sm font-medium text-foreground","data-matrix-id":"src/components/DataWipe.tsx:211:16","data-matrix-name":"label","data-component-path":"src/components/DataWipe.tsx","data-component-line":"211","data-component-file":"DataWipe.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%22%7D",children:["Type ",x.jsx("span",{className:"font-mono bg-muted px-1 rounded","data-matrix-id":"src/components/DataWipe.tsx:212:23","data-matrix-name":"span","data-component-path":"src/components/DataWipe.tsx","data-component-line":"212","data-component-file":"DataWipe.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-mono%20bg-muted%20px-1%20rounded%22%7D",children:"DELETE ALL"})," to confirm:"]}),x.jsx("input",{type:"text",value:a,onChange:u=>r(u.target.value),placeholder:"Type DELETE ALL",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500",disabled:i,"data-matrix-id":"src/components/DataWipe.tsx:214:16","data-matrix-name":"input","data-component-path":"src/components/DataWipe.tsx","data-component-line":"214","data-component-file":"DataWipe.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22Type%20DELETE%20ALL%22%2C%22className%22%3A%22w-full%20px-4%20py-3%20border%20border-gray-300%20rounded-xl%20focus%3Aring-2%20focus%3Aring-red-500%20focus%3Aborder-red-500%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D"})]}),x.jsxs("div",{className:"flex gap-3","data-matrix-id":"src/components/DataWipe.tsx:225:14","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"225","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-3%22%7D",children:[x.jsx("button",{onClick:()=>e(!1),disabled:i,className:"flex-1 py-3 px-4 bg-muted text-foreground rounded-xl font-semibold hover:bg-muted/80 transition-colors disabled:opacity-50","data-matrix-id":"src/components/DataWipe.tsx:226:16","data-matrix-name":"button","data-component-path":"src/components/DataWipe.tsx","data-component-line":"226","data-component-file":"DataWipe.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20py-3%20px-4%20bg-muted%20text-foreground%20rounded-xl%20font-semibold%20hover%3Abg-muted%2F80%20transition-colors%20disabled%3Aopacity-50%22%7D",children:"Cancel"}),x.jsx("button",{onClick:l,disabled:a!=="DELETE ALL"||i,className:"flex-1 py-3 px-4 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2","data-matrix-id":"src/components/DataWipe.tsx:233:16","data-matrix-name":"button","data-component-path":"src/components/DataWipe.tsx","data-component-line":"233","data-component-file":"DataWipe.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22flex-1%20py-3%20px-4%20bg-red-600%20text-white%20rounded-xl%20font-semibold%20hover%3Abg-red-700%20transition-colors%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20flex%20items-center%20justify-center%20gap-2%22%7D",children:i?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin","data-matrix-id":"src/components/DataWipe.tsx:240:22","data-matrix-name":"div","data-component-path":"src/components/DataWipe.tsx","data-component-line":"240","data-component-file":"DataWipe.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20border-2%20border-white%2F30%20border-t-white%20rounded-full%20animate-spin%22%7D"}),"Deleting..."]}):x.jsxs(x.Fragment,{children:[x.jsx(qR,{className:"w-4 h-4","data-matrix-id":"src/components/DataWipe.tsx:245:22","data-matrix-name":"Trash2","data-component-path":"src/components/DataWipe.tsx","data-component-line":"245","data-component-file":"DataWipe.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Delete All"]})})]})]})})})]})}function TSt(){const[n,t]=I.useState(!1),[e,a]=I.useState(0),r=Ia(),i=o=>{t(!1),a(s=>s+1)};return x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/Books.tsx:20:4","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"20","data-component-file":"Books.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card border-b border-border px-4 sm:px-6 pt-8 sm:pt-12 pb-6 sm:pb-8 rounded-b-3xl shadow-lg",children:x.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4","data-matrix-id":"src/pages/Books.tsx:27:8","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"27","data-component-file":"Books.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-3%20sm%3Amb-4%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3","data-matrix-id":"src/pages/Books.tsx:28:10","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"28","data-component-file":"Books.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-secondary rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Books.tsx:29:12","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"29","data-component-file":"Books.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20bg-secondary%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(sJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary","data-matrix-id":"src/pages/Books.tsx:30:14","data-matrix-name":"Library","data-component-path":"src/pages/Books.tsx","data-component-line":"30","data-component-file":"Books.tsx","data-component-name":"Library","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Books.tsx:32:12","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"32","data-component-file":"Books.tsx","data-component-name":"div",children:[x.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Books.tsx:33:14","data-matrix-name":"h1","data-component-path":"src/pages/Books.tsx","data-component-line":"33","data-component-file":"Books.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-foreground%22%7D",children:"My Library"}),x.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm","data-matrix-id":"src/pages/Books.tsx:34:14","data-matrix-name":"p","data-component-path":"src/pages/Books.tsx","data-component-line":"34","data-component-file":"Books.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-xs%20sm%3Atext-sm%22%7D",children:"Your learning collection"})]})]}),x.jsxs("div",{className:"flex gap-2 sm:gap-3","data-matrix-id":"src/pages/Books.tsx:37:10","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"37","data-component-file":"Books.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20sm%3Agap-3%22%7D",children:[x.jsx(MX,{onWipeComplete:()=>a(o=>o+1),"data-matrix-id":"src/pages/Books.tsx:38:12","data-matrix-name":"DataWipe","data-component-path":"src/pages/Books.tsx","data-component-line":"38","data-component-file":"Books.tsx","data-component-name":"DataWipe","data-component-content":"%7B%22onWipeComplete%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!n),className:"w-10 h-10 sm:w-12 sm:h-12 bg-white text-primary rounded-full flex items-center justify-center shadow-lg",children:x.jsx(bU,{className:`w-5 h-5 sm:w-6 sm:h-6 transition-transform ${n?"rotate-45":""}`,"data-matrix-id":"src/pages/Books.tsx:45:14","data-matrix-name":"Plus","data-component-path":"src/pages/Books.tsx","data-component-line":"45","data-component-file":"Books.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})})]})]})}),x.jsxs("div",{className:"px-4 sm:px-6 mt-4 sm:mt-6 space-y-4 sm:space-y-6","data-matrix-id":"src/pages/Books.tsx:52:6","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"52","data-component-file":"Books.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20mt-4%20sm%3Amt-6%20space-y-4%20sm%3Aspace-y-6%22%7D",children:[n&&x.jsx(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:x.jsx(IX,{onUploadSuccess:i,"data-matrix-id":"src/pages/Books.tsx:61:12","data-matrix-name":"BookUpload","data-component-path":"src/pages/Books.tsx","data-component-line":"61","data-component-file":"Books.tsx","data-component-name":"BookUpload","data-component-content":"%7B%22onUploadSuccess%22%3A%22%5BIdentifier%5D%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Books.tsx:66:8","data-matrix-name":"div","data-component-path":"src/pages/Books.tsx","data-component-line":"66","data-component-file":"Books.tsx","data-component-name":"div",children:[x.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground mb-3 sm:mb-4","data-matrix-id":"src/pages/Books.tsx:67:10","data-matrix-name":"h2","data-component-path":"src/pages/Books.tsx","data-component-line":"67","data-component-file":"Books.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%20mb-3%20sm%3Amb-4%22%7D",children:"All Books"}),x.jsx(RX,{onBookSelect:o=>r(`/book/${o.id}`),refreshTrigger:e,"data-matrix-id":"src/pages/Books.tsx:70:10","data-matrix-name":"BookLibrary","data-component-path":"src/pages/Books.tsx","data-component-line":"70","data-component-file":"Books.tsx","data-component-name":"BookLibrary","data-component-content":"%7B%22onBookSelect%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22refreshTrigger%22%3A%22%5BIdentifier%5D%22%7D"})]})]})]})}function sU({isOpen:n,onSuccess:t,onClose:e}){const{user:a}=qe(),[r,i]=I.useState(!1),o=n!==void 0?n:r,s=n!==void 0?()=>{}:i,[c,l]=I.useState(!1),[u,h]=I.useState(0),[f,y]=I.useState(""),[w,v]=I.useState(null),[b,S]=I.useState(""),[_,P]=I.useState(""),[E,C]=I.useState("intermediate"),[T,B]=I.useState(2),[L,M]=I.useState(""),U=async()=>{var $,H;if(!b.trim()){Nt.error("Please enter a topic to learn");return}l(!0),h(0),y("Analyzing your learning request...");try{h(20),y("Planning your learning journey..."),await new Promise(W=>setTimeout(W,500)),h(40),y("Generating personalized milestones...");const X=await fetch("undefined/functions/v1/generate-topic-learning-path",{method:"POST",headers:{Authorization:`Bearer ${($=(await kt.auth.getSession()).data.session)==null?void 0:$.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({topic:b,description:_,detailLevel:E,estimatedHours:T,learningGoals:L,userId:a==null?void 0:a.id})});if(!X.ok){let W="Failed to generate learning path";try{W=((H=(await X.json()).error)==null?void 0:H.message)||W}catch{W="Server error. Please try again in a moment."}throw new Error(W)}let Q;try{Q=await X.json()}catch(W){throw console.error("Failed to parse response:",W),new Error("Invalid response from server. Please try again.")}h(80),y("Creating your learning structure..."),await new Promise(W=>setTimeout(W,800)),h(100),y("Learning path created!"),v(Q.data),setTimeout(()=>{Nt.success(`Generated ${Q.data.milestonesCreated} learning milestones!`),s(!1),l(!1),h(0),F(),t&&t()},1500)}catch(X){console.error("Topic learning generation error:",X),Nt.error(X instanceof Error?X.message:"Failed to generate learning path"),l(!1),h(0),y("")}},F=()=>{S(""),P(""),C("intermediate"),B(2),M(""),v(null)},G=()=>{c||(s(!1),F(),e&&e())};return w?x.jsx(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:G,children:x.jsx(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-card rounded-3xl p-8 shadow-xl max-w-2xl w-full",onClick:$=>$.stopPropagation(),children:x.jsxs("div",{className:"text-center","data-matrix-id":"src/components/TopicLearningGenerator.tsx:151:10","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"151","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[x.jsx(st.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:x.jsx(po,{className:"w-10 h-10 text-primary-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:158:14","data-matrix-name":"CheckCircle","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"158","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-primary-foreground%22%7D"})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4","data-matrix-id":"src/components/TopicLearningGenerator.tsx:161:12","data-matrix-name":"h2","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"161","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Learning Path Created!"}),x.jsx("div",{className:"bg-muted rounded-2xl p-6 mb-6","data-matrix-id":"src/components/TopicLearningGenerator.tsx:165:12","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"165","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%20rounded-2xl%20p-6%20mb-6%22%7D",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center","data-matrix-id":"src/components/TopicLearningGenerator.tsx:166:14","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"166","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-4%20text-center%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:167:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"167","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/components/TopicLearningGenerator.tsx:168:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"168","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:w.milestonesCreated}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:171:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"171","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Milestones"})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:173:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"173","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsxs("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/components/TopicLearningGenerator.tsx:174:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"174","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:[w.estimatedHours,"h"]}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:177:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"177","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Total Time"})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:179:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"179","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-3xl font-bold text-pink-600","data-matrix-id":"src/components/TopicLearningGenerator.tsx:180:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"180","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-pink-600%22%7D",children:w.srsCardsCreated}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:183:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"183","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Flashcards"})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:185:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"185","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-3xl font-bold text-orange-600","data-matrix-id":"src/components/TopicLearningGenerator.tsx:186:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"186","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-orange-600%22%7D",children:w.dependenciesCreated}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:189:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"189","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Progression Steps"})]})]})}),x.jsxs("button",{onClick:G,className:"w-full bg-primary text-primary-foreground py-4 rounded-2xl font-semibold hover:opacity-90 transition-all flex items-center justify-center gap-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:194:12","data-matrix-name":"button","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"194","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20bg-primary%20text-primary-foreground%20py-4%20rounded-2xl%20font-semibold%20hover%3Aopacity-90%20transition-all%20flex%20items-center%20justify-center%20gap-2%22%7D",children:["Start Learning ",x.jsx(hU,{className:"w-5 h-5","data-matrix-id":"src/components/TopicLearningGenerator.tsx:198:29","data-matrix-name":"ArrowRight","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"198","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})]})]})})}):x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:()=>s(!0),className:"w-full bg-primary text-primary-foreground py-4 px-6 rounded-2xl font-semibold hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-lg","data-matrix-id":"src/components/TopicLearningGenerator.tsx:209:6","data-matrix-name":"button","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"209","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20bg-primary%20text-primary-foreground%20py-4%20px-6%20rounded-2xl%20font-semibold%20hover%3Aopacity-90%20transition-all%20flex%20items-center%20justify-center%20gap-2%20shadow-lg%22%7D",children:[x.jsx(Pm,{className:"w-5 h-5","data-matrix-id":"src/components/TopicLearningGenerator.tsx:213:8","data-matrix-name":"Sparkles","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"213","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Create Custom Learning Path"]}),x.jsx(kc,{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:218:6","data-matrix-name":"AnimatePresence","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"218","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"AnimatePresence",children:o&&x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:G,children:x.jsxs(st.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-card rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 shadow-xl max-w-lg sm:max-w-xl md:max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:$=>$.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6","data-matrix-id":"src/components/TopicLearningGenerator.tsx:235:14","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"235","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%20sm%3Amb-6%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/components/TopicLearningGenerator.tsx:236:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"236","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary rounded-xl sm:rounded-2xl flex items-center justify-center","data-matrix-id":"src/components/TopicLearningGenerator.tsx:237:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"237","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20bg-primary%20rounded-xl%20sm%3Arounded-2xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Un,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:238:20","data-matrix-name":"Brain","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"238","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary-foreground%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:240:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"240","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:241:20","data-matrix-name":"h2","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"241","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-foreground%22%7D",children:"Create Learning Path"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:244:20","data-matrix-name":"p","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"244","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Turn any topic into a gamified learning journey"})]})]}),x.jsx("button",{onClick:G,disabled:c,className:"p-2 hover:bg-muted rounded-xl transition-colors disabled:opacity-50","data-matrix-id":"src/components/TopicLearningGenerator.tsx:249:16","data-matrix-name":"button","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"249","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-muted%20rounded-xl%20transition-colors%20disabled%3Aopacity-50%22%7D",children:x.jsx(mc,{className:"w-5 h-5 text-muted-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:254:18","data-matrix-name":"X","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"254","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-muted-foreground%22%7D"})})]}),c?x.jsxs("div",{className:"py-8","data-matrix-id":"src/components/TopicLearningGenerator.tsx:260:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"260","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22py-8%22%7D",children:[x.jsxs("div",{className:"text-center mb-6","data-matrix-id":"src/components/TopicLearningGenerator.tsx:261:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"261","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-6%22%7D",children:[x.jsx(st.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(Pm,{className:"w-8 h-8 text-primary-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:267:22","data-matrix-name":"Sparkles","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"267","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-foreground%22%7D"})}),x.jsx("p",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/components/TopicLearningGenerator.tsx:269:20","data-matrix-name":"p","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"269","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:f})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden","data-matrix-id":"src/components/TopicLearningGenerator.tsx:273:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"273","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-3%20overflow-hidden%22%7D",children:x.jsx(st.div,{initial:{width:0},animate:{width:`${u}%`},transition:{duration:.5},className:"h-full bg-primary rounded-full"})}),x.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:281:18","data-matrix-name":"p","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"281","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-center%20text-sm%20text-muted-foreground%20mt-2%22%7D",children:[u,"%"]})]}):x.jsxs("div",{className:"space-y-6","data-matrix-id":"src/components/TopicLearningGenerator.tsx:285:16","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"285","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:287:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"287","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:288:20","data-matrix-name":"label","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"288","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-700%20mb-2%22%7D",children:"What do you want to learn? *"}),x.jsx("input",{type:"text",value:b,onChange:$=>S($.target.value),placeholder:"e.g., Machine Learning, Piano Basics, Spanish Conversation...",className:"w-full px-4 py-3 border-2 border-border rounded-xl focus:border-purple-500 focus:outline-none transition-colors","data-matrix-id":"src/components/TopicLearningGenerator.tsx:291:20","data-matrix-name":"input","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"291","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22e.g.%2C%20Machine%20Learning%2C%20Piano%20Basics%2C%20Spanish%20Conversation...%22%2C%22className%22%3A%22w-full%20px-4%20py-3%20border-2%20border-border%20rounded-xl%20focus%3Aborder-purple-500%20focus%3Aoutline-none%20transition-colors%22%7D"})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:301:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"301","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:302:20","data-matrix-name":"label","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"302","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-700%20mb-2%22%7D",children:"What specifically do you want to know? (Optional)"}),x.jsx("textarea",{value:_,onChange:$=>P($.target.value),placeholder:"Describe what aspects you're most interested in...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors resize-none","data-matrix-id":"src/components/TopicLearningGenerator.tsx:305:20","data-matrix-name":"textarea","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"305","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22Describe%20what%20aspects%20you're%20most%20interested%20in...%22%2C%22rows%22%3A3%2C%22className%22%3A%22w-full%20px-4%20py-3%20border-2%20border-gray-200%20rounded-xl%20focus%3Aborder-purple-500%20focus%3Aoutline-none%20transition-colors%20resize-none%22%7D"})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:315:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"315","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3","data-matrix-id":"src/components/TopicLearningGenerator.tsx:316:20","data-matrix-name":"label","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"316","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-700%20mb-3%22%7D",children:"Detail Level"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3","data-matrix-id":"src/components/TopicLearningGenerator.tsx:319:20","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"319","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20md%3Agrid-cols-3%20gap-2%20sm%3Agap-3%22%7D",children:["beginner","intermediate","advanced"].map($=>x.jsx("button",{onClick:()=>C($),className:`py-2.5 sm:py-3 px-2 sm:px-3 rounded-xl font-medium text-sm sm:text-base transition-all whitespace-nowrap overflow-hidden text-ellipsis ${E===$?"bg-primary text-primary-foreground shadow-lg":"bg-muted text-gray-700 hover:bg-muted/80"}`,"data-matrix-id":"src/components/TopicLearningGenerator.tsx:321:24","data-matrix-name":"button","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"321","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:$.charAt(0).toUpperCase()+$.slice(1)},$))})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:337:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"337","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:338:20","data-matrix-name":"label","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"338","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-700%20mb-2%22%7D",children:"How much time can you dedicate?"}),x.jsxs("div",{className:"flex items-center gap-4","data-matrix-id":"src/components/TopicLearningGenerator.tsx:341:20","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"341","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:[x.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:T,onChange:$=>B(parseFloat($.target.value)),className:"flex-1","data-matrix-id":"src/components/TopicLearningGenerator.tsx:342:22","data-matrix-name":"input","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"342","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22range%22%2C%22min%22%3A%221%22%2C%22max%22%3A%2210%22%2C%22step%22%3A%220.5%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%22%7D"}),x.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-4 py-2 rounded-xl min-w-[100px]","data-matrix-id":"src/components/TopicLearningGenerator.tsx:351:22","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"351","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20bg-purple-50%20px-4%20py-2%20rounded-xl%20min-w-%5B100px%5D%22%7D",children:[x.jsx(xr,{className:"w-4 h-4 text-primary","data-matrix-id":"src/components/TopicLearningGenerator.tsx:352:24","data-matrix-name":"Clock","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"352","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-primary%22%7D"}),x.jsxs("span",{className:"font-semibold text-primary","data-matrix-id":"src/components/TopicLearningGenerator.tsx:353:24","data-matrix-name":"span","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"353","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-primary%22%7D",children:[T,"h"]})]})]}),x.jsxs("p",{className:"text-xs text-muted-foreground mt-1","data-matrix-id":"src/components/TopicLearningGenerator.tsx:356:20","data-matrix-name":"p","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"356","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mt-1%22%7D",children:["We'll create ~",Math.floor(T*2)," milestones"]})]}),x.jsxs("div",{"data-matrix-id":"src/components/TopicLearningGenerator.tsx:362:18","data-matrix-name":"div","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"362","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"div",children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:363:20","data-matrix-name":"label","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"363","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-700%20mb-2%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(cJ,{className:"w-4 h-4","data-matrix-id":"src/components/TopicLearningGenerator.tsx:364:22","data-matrix-name":"Lightbulb","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"364","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"Lightbulb","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Your Learning Goals (Optional)"]}),x.jsx("textarea",{value:L,onChange:$=>M($.target.value),placeholder:"What do you want to achieve? E.g., 'Build a simple project', 'Pass certification exam'...",rows:2,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors resize-none","data-matrix-id":"src/components/TopicLearningGenerator.tsx:367:20","data-matrix-name":"textarea","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"367","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22What%20do%20you%20want%20to%20achieve%3F%20E.g.%2C%20'Build%20a%20simple%20project'%2C%20'Pass%20certification%20exam'...%22%2C%22rows%22%3A2%2C%22className%22%3A%22w-full%20px-4%20py-3%20border-2%20border-gray-200%20rounded-xl%20focus%3Aborder-purple-500%20focus%3Aoutline-none%20transition-colors%20resize-none%22%7D"})]}),x.jsxs("button",{onClick:U,disabled:!b.trim()||c,className:"w-full bg-primary text-primary-foreground py-4 rounded-2xl font-semibold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2","data-matrix-id":"src/components/TopicLearningGenerator.tsx:377:18","data-matrix-name":"button","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"377","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22w-full%20bg-primary%20text-primary-foreground%20py-4%20rounded-2xl%20font-semibold%20hover%3Aopacity-90%20transition-all%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20flex%20items-center%20justify-center%20gap-2%22%7D",children:[x.jsx(n2,{className:"w-5 h-5","data-matrix-id":"src/components/TopicLearningGenerator.tsx:382:20","data-matrix-name":"Target","data-component-path":"src/components/TopicLearningGenerator.tsx","data-component-line":"382","data-component-file":"TopicLearningGenerator.tsx","data-component-name":"Target","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Generate Learning Path"]})]})]})})})]})}function FX(){var S;const{user:n}=qe();Ia();const[t,e]=I.useState([]),[a,r]=I.useState(null),[i,o]=I.useState([]),[s,c]=I.useState(null),[l,u]=I.useState(!0);I.useEffect(()=>{n&&h()},[n]);const h=async()=>{try{const{data:_,error:P}=await kt.from("projects").select(`
          *,
          books (
            title,
            author,
            ai_analysis
          )
        `).eq("user_id",n==null?void 0:n.id).in("project_type",["s3_learning_path","topic_learning_path"]).order("created_at",{ascending:!1});if(P)throw P;e(_||[])}catch(_){console.error("Error fetching learning projects:",_),Nt.error("Failed to load learning paths")}finally{u(!1)}},f=async _=>{try{const{data:P,error:E}=await kt.from("milestones").select("*").eq("project_id",_).order("order_index");if(E)throw E;o(P||[])}catch(P){console.error("Error fetching milestones:",P),Nt.error("Failed to load milestones")}},y=async _=>{r(_),await f(_.id)},w=_=>{switch(_){case"beginner":return"text-primary bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-muted-foreground bg-gray-100"}},v=(_,P)=>{var E;return _.is_completed?po:P===0||(E=i[P-1])!=null&&E.is_completed?QE:Hw},b=(_,P)=>{var E;return _.is_completed?"text-primary bg-green-100":P===0||(E=i[P-1])!=null&&E.is_completed?"text-primary bg-blue-100":"text-gray-400 bg-gray-100"};return l?x.jsx("div",{className:"min-h-screen flex items-center justify-center","data-matrix-id":"src/pages/LearningPaths.tsx:127:6","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"127","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%20items-center%20justify-center%22%7D",children:x.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:138:4","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"138","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("div",{className:"space-y-4 sm:space-y-6","data-matrix-id":"src/pages/LearningPaths.tsx:139:6","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"139","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%20sm%3Aspace-y-6%22%7D",children:x.jsx(kc,{mode:"wait","data-matrix-id":"src/pages/LearningPaths.tsx:140:8","data-matrix-name":"AnimatePresence","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"140","data-component-file":"LearningPaths.tsx","data-component-name":"AnimatePresence","data-component-content":"%7B%22mode%22%3A%22wait%22%7D",children:a?x.jsxs(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4 sm:space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/LearningPaths.tsx:261:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"261","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(null),className:"text-primary font-medium text-sm sm:text-base",children:" Back to Paths"}),x.jsxs("div",{className:"text-right","data-matrix-id":"src/pages/LearningPaths.tsx:270:16","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"270","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:[x.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:271:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"271","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:"Progress"}),x.jsxs("div",{className:"text-base sm:text-lg font-bold text-primary","data-matrix-id":"src/pages/LearningPaths.tsx:272:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"272","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20font-bold%20text-primary%22%7D",children:[a.completion_percentage,"%"]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg","data-matrix-id":"src/pages/LearningPaths.tsx:278:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"278","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20sm%3Arounded-2xl%20p-4%20sm%3Ap-6%20shadow-lg%22%7D",children:[x.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/LearningPaths.tsx:279:16","data-matrix-name":"h2","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"279","data-component-file":"LearningPaths.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%20mb-2%22%7D",children:a.title}),x.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:282:16","data-matrix-name":"p","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"282","data-component-file":"LearningPaths.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-3%20sm%3Amb-4%20text-sm%20sm%3Atext-base%22%7D",children:a.description}),x.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:284:16","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"284","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20sm%3Agap-4%20text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:285:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"285","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(Ac,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:286:20","data-matrix-name":"BookOpen","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"286","data-component-file":"LearningPaths.tsx","data-component-name":"BookOpen","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsx("span",{className:"truncate","data-matrix-id":"src/pages/LearningPaths.tsx:287:20","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"287","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22truncate%22%7D",children:(S=a.books)==null?void 0:S.title})]}),x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:289:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"289","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(n2,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:290:20","data-matrix-name":"Target","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"290","data-component-file":"LearningPaths.tsx","data-component-name":"Target","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsxs("span",{"data-matrix-id":"src/pages/LearningPaths.tsx:291:20","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"291","data-component-file":"LearningPaths.tsx","data-component-name":"span",children:[i.length," Milestones"]})]})]})]}),x.jsx("div",{className:"space-y-3 sm:space-y-4","data-matrix-id":"src/pages/LearningPaths.tsx:297:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"297","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20sm%3Aspace-y-4%22%7D",children:i.map((_,P)=>{var T;const E=v(_,P),C=P===0||((T=i[P-1])==null?void 0:T.is_completed);return x.jsx(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:P*.1},whileHover:C?{scale:1.02}:{},whileTap:C?{scale:.98}:{},onClick:()=>C&&c(_),className:`bg-white rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-lg ${C?"cursor-pointer":"opacity-60"}`,children:x.jsxs("div",{className:"flex items-start gap-3 sm:gap-4","data-matrix-id":"src/pages/LearningPaths.tsx:315:22","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"315","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%20sm%3Agap-4%22%7D",children:[x.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center ${b(_,P)} shrink-0`,"data-matrix-id":"src/pages/LearningPaths.tsx:316:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"316","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsx(E,{className:"w-5 h-5 sm:w-6 sm:h-6","data-matrix-id":"src/pages/LearningPaths.tsx:317:26","data-matrix-name":"Icon","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"317","data-component-file":"LearningPaths.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%22%7D"})}),x.jsxs("div",{className:"flex-1 min-w-0","data-matrix-id":"src/pages/LearningPaths.tsx:320:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"320","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20min-w-0%22%7D",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2","data-matrix-id":"src/pages/LearningPaths.tsx:321:26","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"321","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%20mb-2%22%7D",children:[x.jsxs("div",{className:"min-w-0 flex-1","data-matrix-id":"src/pages/LearningPaths.tsx:322:28","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"322","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-w-0%20flex-1%22%7D",children:[x.jsx("h3",{className:"text-sm sm:text-lg font-bold text-foreground truncate","data-matrix-id":"src/pages/LearningPaths.tsx:323:30","data-matrix-name":"h3","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"323","data-component-file":"LearningPaths.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Atext-lg%20font-bold%20text-foreground%20truncate%22%7D",children:_.title}),x.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2","data-matrix-id":"src/pages/LearningPaths.tsx:326:30","data-matrix-name":"p","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"326","data-component-file":"LearningPaths.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%20line-clamp-2%22%7D",children:_.description})]}),x.jsx("div",{className:"text-right ml-2 shrink-0","data-matrix-id":"src/pages/LearningPaths.tsx:330:28","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"330","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%20ml-2%20shrink-0%22%7D",children:x.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${w(_.difficulty_level)}`,"data-matrix-id":"src/pages/LearningPaths.tsx:331:30","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"331","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:_.difficulty_level})})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground mb-2 sm:mb-3 flex-wrap","data-matrix-id":"src/pages/LearningPaths.tsx:337:26","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"337","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-4%20text-xs%20sm%3Atext-sm%20text-muted-foreground%20mb-2%20sm%3Amb-3%20flex-wrap%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:338:28","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"338","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(xr,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:339:30","data-matrix-name":"Clock","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"339","data-component-file":"LearningPaths.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsxs("span",{"data-matrix-id":"src/pages/LearningPaths.tsx:340:30","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"340","data-component-file":"LearningPaths.tsx","data-component-name":"span",children:[_.estimated_minutes,"m"]})]}),x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:342:28","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"342","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(uc,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:343:30","data-matrix-name":"Trophy","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"343","data-component-file":"LearningPaths.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsxs("span",{"data-matrix-id":"src/pages/LearningPaths.tsx:344:30","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"344","data-component-file":"LearningPaths.tsx","data-component-name":"span",children:[_.xp_reward," XP"]})]}),_.is_completed&&x.jsxs("div",{className:"flex items-center gap-1 text-primary","data-matrix-id":"src/pages/LearningPaths.tsx:347:30","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"347","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%20text-primary%22%7D",children:[x.jsx(po,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:348:32","data-matrix-name":"CheckCircle","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"348","data-component-file":"LearningPaths.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsxs("span",{"data-matrix-id":"src/pages/LearningPaths.tsx:349:32","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"349","data-component-file":"LearningPaths.tsx","data-component-name":"span",children:["Score: ",_.completion_score,"%"]})]})]}),_.learning_objectives.length>0&&x.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:355:28","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"355","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:[x.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/LearningPaths.tsx:356:30","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"356","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:"Objectives: "}),x.jsx("span",{className:"line-clamp-1","data-matrix-id":"src/pages/LearningPaths.tsx:357:30","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"357","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22line-clamp-1%22%7D",children:_.learning_objectives.slice(0,2).join(", ")}),_.learning_objectives.length>2&&"..."]})]})]})},_.id)})})]},"milestones"):x.jsx(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:t.length===0?x.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8 sm:py-12",children:[x.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-primary rounded-3xl flex items-center justify-center mx-auto mb-4 sm:mb-6","data-matrix-id":"src/pages/LearningPaths.tsx:156:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"156","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-20%20h-20%20sm%3Aw-24%20sm%3Ah-24%20bg-primary%20rounded-3xl%20flex%20items-center%20justify-center%20mx-auto%20mb-4%20sm%3Amb-6%22%7D",children:x.jsx(Un,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:157:20","data-matrix-name":"Brain","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"157","data-component-file":"LearningPaths.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20text-primary-foreground%22%7D"})}),x.jsx("h3",{className:"text-lg sm:text-xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/LearningPaths.tsx:159:18","data-matrix-name":"h3","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"159","data-component-file":"LearningPaths.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"No Learning Paths Yet"}),x.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base px-2","data-matrix-id":"src/pages/LearningPaths.tsx:160:18","data-matrix-name":"p","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"160","data-component-file":"LearningPaths.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-4%20sm%3Amb-6%20text-sm%20sm%3Atext-base%20px-2%22%7D",children:"Create a custom learning path or upload books to get started"}),x.jsxs("div",{className:"max-w-sm sm:max-w-md mx-auto space-y-3","data-matrix-id":"src/pages/LearningPaths.tsx:162:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"162","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-sm%20sm%3Amax-w-md%20mx-auto%20space-y-3%22%7D",children:[x.jsx(sU,{onSuccess:h,"data-matrix-id":"src/pages/LearningPaths.tsx:163:20","data-matrix-name":"TopicLearningGenerator","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"163","data-component-file":"LearningPaths.tsx","data-component-name":"TopicLearningGenerator","data-component-content":"%7B%22onSuccess%22%3A%22%5BIdentifier%5D%22%7D"}),x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/books",className:"w-full bg-card border-2 border-primary text-primary px-4 sm:px-6 py-3 sm:py-4 rounded-2xl font-semibold text-sm sm:text-base",children:"Or Upload a Book"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 sm:mb-6",children:x.jsx(sU,{onSuccess:h,"data-matrix-id":"src/pages/LearningPaths.tsx:183:20","data-matrix-name":"TopicLearningGenerator","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"183","data-component-file":"LearningPaths.tsx","data-component-name":"TopicLearningGenerator","data-component-content":"%7B%22onSuccess%22%3A%22%5BIdentifier%5D%22%7D"})}),t.map((_,P)=>{var E;return x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(_),className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg cursor-pointer",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4","data-matrix-id":"src/pages/LearningPaths.tsx:198:20","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"198","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%20mb-3%20sm%3Amb-4%22%7D",children:[x.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/LearningPaths.tsx:199:22","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"199","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-foreground mb-1","data-matrix-id":"src/pages/LearningPaths.tsx:200:24","data-matrix-name":"h3","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"200","data-component-file":"LearningPaths.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20font-bold%20text-foreground%20mb-1%22%7D",children:_.title}),x.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2","data-matrix-id":"src/pages/LearningPaths.tsx:203:24","data-matrix-name":"p","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"203","data-component-file":"LearningPaths.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%20mb-2%22%7D",children:_.project_type==="topic_learning_path"?" Custom Topic Learning":`From: ${((E=_.books)==null?void 0:E.title)||"Unknown Book"}`}),x.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2","data-matrix-id":"src/pages/LearningPaths.tsx:208:24","data-matrix-name":"p","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"208","data-component-file":"LearningPaths.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%20line-clamp-2%22%7D",children:_.description})]}),x.jsxs("div",{className:"text-right ml-2 sm:ml-4","data-matrix-id":"src/pages/LearningPaths.tsx:212:22","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"212","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%20ml-2%20sm%3Aml-4%22%7D",children:[x.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-primary","data-matrix-id":"src/pages/LearningPaths.tsx:213:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"213","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-primary%22%7D",children:[_.completion_percentage,"%"]}),x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:216:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"216","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Complete"})]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2 mb-3 sm:mb-4","data-matrix-id":"src/pages/LearningPaths.tsx:221:20","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"221","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-1.5%20sm%3Ah-2%20mb-3%20sm%3Amb-4%22%7D",children:x.jsx(st.div,{initial:{width:0},animate:{width:`${_.completion_percentage}%`},transition:{duration:1,delay:P*.1},className:"bg-primary h-1.5 sm:h-2 rounded-full"})}),x.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:230:20","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"230","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4","data-matrix-id":"src/pages/LearningPaths.tsx:231:22","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"231","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-4%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:232:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"232","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(Ac,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:233:26","data-matrix-name":"BookOpen","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"233","data-component-file":"LearningPaths.tsx","data-component-name":"BookOpen","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/LearningPaths.tsx:234:26","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"234","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"S3 Method"}),x.jsx("span",{className:"sm:hidden","data-matrix-id":"src/pages/LearningPaths.tsx:235:26","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"235","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22sm%3Ahidden%22%7D",children:"Method"})]}),x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:237:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"237","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(uc,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:238:26","data-matrix-name":"Trophy","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"238","data-component-file":"LearningPaths.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/LearningPaths.tsx:239:26","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"239","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Adaptive"})]})]}),x.jsx("span",{className:"text-primary font-medium text-xs sm:text-sm","data-matrix-id":"src/pages/LearningPaths.tsx:242:22","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"242","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-primary%20font-medium%20text-xs%20sm%3Atext-sm%22%7D",children:_.status==="completed"?"Completed":"In Progress"})]})]},_.id)})]})},"projects")})}),x.jsx(kc,{"data-matrix-id":"src/pages/LearningPaths.tsx:373:6","data-matrix-name":"AnimatePresence","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"373","data-component-file":"LearningPaths.tsx","data-component-name":"AnimatePresence",children:s&&x.jsx(DSt,{milestone:s,onClose:()=>c(null),onComplete:()=>{a&&(f(a.id),h()),c(null)},"data-matrix-id":"src/pages/LearningPaths.tsx:375:10","data-matrix-name":"MilestoneDetailModal","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"375","data-component-file":"LearningPaths.tsx","data-component-name":"MilestoneDetailModal","data-component-content":"%7B%22milestone%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onComplete%22%3A%22%5BArrowFunctionExpression%5D%22%7D"})})]})}function DSt({milestone:n,onClose:t,onComplete:e}){const{user:a}=qe(),r=Ia(),[i,o]=I.useState(!1),[s,c]=I.useState({difficultyRating:3,confidenceLevel:3,notes:""}),l=()=>{o(!0),Nt.success("Study session started!")},u=async()=>{var h;try{const f=n.estimated_minutes,y=await fetch("undefined/functions/v1/complete-milestone",{method:"POST",headers:{Authorization:`Bearer ${(h=(await kt.auth.getSession()).data.session)==null?void 0:h.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({milestoneId:n.id,userId:a==null?void 0:a.id,performanceData:{sessionDuration:f,completionPercentage:100,difficultyRating:s.difficultyRating,confidenceLevel:s.confidenceLevel,notesText:s.notes}})});if(!y.ok)throw new Error("Failed to complete milestone");const w=await y.json();Nt.success(`Milestone completed! +${w.data.xpAwarded} XP`),e()}catch(f){console.error("Error completing milestone:",f),Nt.error("Failed to complete milestone")}};return x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 sm:p-6 z-50",onClick:t,children:x.jsx(st.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:h=>h.stopPropagation(),className:"bg-white rounded-2xl sm:rounded-3xl max-w-sm sm:max-w-lg w-full max-h-[80vh] overflow-y-auto",children:x.jsxs("div",{className:"p-4 sm:p-6","data-matrix-id":"src/pages/LearningPaths.tsx:468:8","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"468","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20sm%3Ap-6%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6","data-matrix-id":"src/pages/LearningPaths.tsx:469:10","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"469","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%20sm%3Amb-6%22%7D",children:[x.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground pr-2","data-matrix-id":"src/pages/LearningPaths.tsx:470:12","data-matrix-name":"h2","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"470","data-component-file":"LearningPaths.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%20pr-2%22%7D",children:n.title}),x.jsx("button",{onClick:t,className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/LearningPaths.tsx:471:12","data-matrix-name":"button","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"471","data-component-file":"LearningPaths.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-8%20h-8%20bg-gray-100%20rounded-full%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:""})]}),x.jsxs("div",{className:"space-y-4 sm:space-y-6","data-matrix-id":"src/pages/LearningPaths.tsx:479:10","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"479","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%20sm%3Aspace-y-6%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:480:12","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"480","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-bold text-foreground mb-2 text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:481:14","data-matrix-name":"h3","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"481","data-component-file":"LearningPaths.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-bold%20text-foreground%20mb-2%20text-sm%20sm%3Atext-base%22%7D",children:"Description"}),x.jsx("p",{className:"text-muted-foreground text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:482:14","data-matrix-name":"p","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"482","data-component-file":"LearningPaths.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%20sm%3Atext-base%22%7D",children:n.description})]}),n.learning_objectives.length>0&&x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:486:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"486","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-bold text-foreground mb-2 text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:487:16","data-matrix-name":"h3","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"487","data-component-file":"LearningPaths.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-bold%20text-foreground%20mb-2%20text-sm%20sm%3Atext-base%22%7D",children:"Learning Objectives"}),x.jsx("ul",{className:"space-y-1","data-matrix-id":"src/pages/LearningPaths.tsx:488:16","data-matrix-name":"ul","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"488","data-component-file":"LearningPaths.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",children:n.learning_objectives.map((h,f)=>x.jsxs("li",{className:"text-muted-foreground text-xs sm:text-sm flex items-start gap-2","data-matrix-id":"src/pages/LearningPaths.tsx:490:20","data-matrix-name":"li","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"490","data-component-file":"LearningPaths.tsx","data-component-name":"li","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-xs%20sm%3Atext-sm%20flex%20items-start%20gap-2%22%7D",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2 shrink-0","data-matrix-id":"src/pages/LearningPaths.tsx:491:22","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"491","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-1.5%20h-1.5%20bg-purple-500%20rounded-full%20mt-2%20shrink-0%22%7D"}),x.jsx("span",{className:"leading-tight","data-matrix-id":"src/pages/LearningPaths.tsx:492:22","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"492","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22leading-tight%22%7D",children:h})]},f))})]}),n.key_concepts.length>0&&x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:500:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"500","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-bold text-foreground mb-2 text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:501:16","data-matrix-name":"h3","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"501","data-component-file":"LearningPaths.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-bold%20text-foreground%20mb-2%20text-sm%20sm%3Atext-base%22%7D",children:"Key Concepts"}),x.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"src/pages/LearningPaths.tsx:502:16","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"502","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:n.key_concepts.map((h,f)=>x.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full","data-matrix-id":"src/pages/LearningPaths.tsx:504:20","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"504","data-component-file":"LearningPaths.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20bg-purple-100%20text-purple-700%20px-2%20py-1%20rounded-full%22%7D",children:h},f))})]}),x.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:515:12","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"515","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20sm%3Agap-4%20text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:516:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"516","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(xr,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:517:16","data-matrix-name":"Clock","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"517","data-component-file":"LearningPaths.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsxs("span",{"data-matrix-id":"src/pages/LearningPaths.tsx:518:16","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"518","data-component-file":"LearningPaths.tsx","data-component-name":"span",children:[n.estimated_minutes," minutes"]})]}),x.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/LearningPaths.tsx:520:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"520","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[x.jsx(uc,{className:"w-3 h-3 sm:w-4 sm:h-4","data-matrix-id":"src/pages/LearningPaths.tsx:521:16","data-matrix-name":"Trophy","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"521","data-component-file":"LearningPaths.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20sm%3Aw-4%20sm%3Ah-4%22%7D"}),x.jsxs("span",{"data-matrix-id":"src/pages/LearningPaths.tsx:522:16","data-matrix-name":"span","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"522","data-component-file":"LearningPaths.tsx","data-component-name":"span",children:[n.xp_reward," XP"]})]})]}),!n.is_completed&&x.jsx("div",{className:"space-y-3 sm:space-y-4","data-matrix-id":"src/pages/LearningPaths.tsx:527:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"527","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20sm%3Aspace-y-4%22%7D",children:i?x.jsxs("div",{className:"space-y-3 sm:space-y-4","data-matrix-id":"src/pages/LearningPaths.tsx:549:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"549","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20sm%3Aspace-y-4%22%7D",children:[x.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4","data-matrix-id":"src/pages/LearningPaths.tsx:550:20","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"550","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-gray-50%20rounded-xl%20p-3%20sm%3Ap-4%22%7D",children:[x.jsx("h4",{className:"font-medium text-foreground mb-3 text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:551:22","data-matrix-name":"h4","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"551","data-component-file":"LearningPaths.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%20mb-3%20text-sm%20sm%3Atext-base%22%7D",children:"Session Feedback"}),x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/LearningPaths.tsx:553:22","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"553","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:554:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"554","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:555:26","data-matrix-name":"label","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"555","data-component-file":"LearningPaths.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:"Difficulty Rating"}),x.jsx("div",{className:"flex gap-1 sm:gap-2 mt-1","data-matrix-id":"src/pages/LearningPaths.tsx:556:26","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"556","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-1%20sm%3Agap-2%20mt-1%22%7D",children:[1,2,3,4,5].map(h=>x.jsx("button",{onClick:()=>c({...s,difficultyRating:h}),className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full text-xs sm:text-sm ${s.difficultyRating>=h?"bg-purple-500 text-white":"bg-gray-200 text-muted-foreground"}`,"data-matrix-id":"src/pages/LearningPaths.tsx:558:30","data-matrix-name":"button","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"558","data-component-file":"LearningPaths.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:h},h))})]}),x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:573:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"573","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:574:26","data-matrix-name":"label","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"574","data-component-file":"LearningPaths.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:"Confidence Level"}),x.jsx("div",{className:"flex gap-1 sm:gap-2 mt-1","data-matrix-id":"src/pages/LearningPaths.tsx:575:26","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"575","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-1%20sm%3Agap-2%20mt-1%22%7D",children:[1,2,3,4,5].map(h=>x.jsx("button",{onClick:()=>c({...s,confidenceLevel:h}),className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full text-xs sm:text-sm ${s.confidenceLevel>=h?"bg-green-500 text-white":"bg-gray-200 text-muted-foreground"}`,"data-matrix-id":"src/pages/LearningPaths.tsx:577:30","data-matrix-name":"button","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"577","data-component-file":"LearningPaths.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:h},h))})]}),x.jsxs("div",{"data-matrix-id":"src/pages/LearningPaths.tsx:592:24","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"592","data-component-file":"LearningPaths.tsx","data-component-name":"div",children:[x.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/LearningPaths.tsx:593:26","data-matrix-name":"label","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"593","data-component-file":"LearningPaths.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:"Notes (Optional)"}),x.jsx("textarea",{value:s.notes,onChange:h=>c({...s,notes:h.target.value}),className:"w-full mt-1 p-2 border border-gray-200 rounded-lg text-xs sm:text-sm",rows:2,placeholder:"Any thoughts or insights...","data-matrix-id":"src/pages/LearningPaths.tsx:594:26","data-matrix-name":"textarea","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"594","data-component-file":"LearningPaths.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20mt-1%20p-2%20border%20border-gray-200%20rounded-lg%20text-xs%20sm%3Atext-sm%22%2C%22rows%22%3A2%2C%22placeholder%22%3A%22Any%20thoughts%20or%20insights...%22%7D"})]})]})]}),x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-primary text-primary-foreground py-2.5 sm:py-3 rounded-xl font-medium text-sm sm:text-base",children:"Complete Milestone"})]}):x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/LearningPaths.tsx:529:18","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"529","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"w-full bg-primary text-primary-foreground py-2.5 sm:py-3 rounded-xl font-medium text-sm sm:text-base",children:"Start Learning Session"}),x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/focus"),className:"w-full bg-primary text-primary-foreground py-2.5 sm:py-3 rounded-xl font-medium text-sm sm:text-base flex items-center justify-center gap-2",children:[x.jsx(Vw,{className:"w-4 h-4","data-matrix-id":"src/pages/LearningPaths.tsx:544:22","data-matrix-name":"Timer","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"544","data-component-file":"LearningPaths.tsx","data-component-name":"Timer","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Start with Focus Timer"]})]})}),n.is_completed&&x.jsxs("div",{className:"bg-green-50 rounded-xl p-3 sm:p-4 text-center","data-matrix-id":"src/pages/LearningPaths.tsx:619:14","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"619","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-green-50%20rounded-xl%20p-3%20sm%3Ap-4%20text-center%22%7D",children:[x.jsx(po,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2","data-matrix-id":"src/pages/LearningPaths.tsx:620:16","data-matrix-name":"CheckCircle","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"620","data-component-file":"LearningPaths.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20sm%3Aw-8%20sm%3Ah-8%20text-primary%20mx-auto%20mb-2%22%7D"}),x.jsx("div",{className:"text-green-800 font-medium text-sm sm:text-base","data-matrix-id":"src/pages/LearningPaths.tsx:621:16","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"621","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-green-800%20font-medium%20text-sm%20sm%3Atext-base%22%7D",children:"Milestone Completed!"}),x.jsxs("div",{className:"text-primary text-xs sm:text-sm","data-matrix-id":"src/pages/LearningPaths.tsx:622:16","data-matrix-name":"div","data-component-path":"src/pages/LearningPaths.tsx","data-component-line":"622","data-component-file":"LearningPaths.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-primary%20text-xs%20sm%3Atext-sm%22%7D",children:["Score: ",n.completion_score,"%"]})]})]})]})})})}function NSt(n,t,e,a,r=new Date){const i=new Date().getHours(),o=i>=9&&i<=11||i>=15&&i<=17,s=o?.1:0,l=i>=21&&i<=23?.05:0;let u=t+(.1-(5-n)*(.08+(5-n)*.02));u+=s+l,u<1.3&&(u=1.3),u>2.8&&(u=2.8);let h,f;const y=[];n<3?(f=0,h=1,y.push(" Reset: Review tomorrow. This is normal - the forgetting curve is steep initially."," Tip: Try creating a memory hook or visual association for this card.")):(f=a+1,f===1?(h=1,y.push(" Great start! Your brain will consolidate this during sleep."," Next review: Tomorrow at the same time for optimal retention.")):f===2?(h=6,y.push(" Strong retention! The spacing effect is working."," Your neural pathways are strengthening.")):(h=Math.round(e*u),h>180&&(h=180),h>30&&y.push(" Excellent! This knowledge is becoming long-term memory."," Long interval means strong retention.")));const w=new Date(r);w.setDate(w.getDate()+h),w.setHours(10,0,0,0);const v=o?"Perfect timing! You're in a peak learning state.":"Try reviewing during 9-11 AM or 3-5 PM for best results.",b={0:" Total blackout - needs reteaching from scratch",1:" Wrong answer - review immediately and create memory hook",2:" Recognized but couldn't recall - practice active retrieval",3:" Correct with effort - good progress, keep practicing!",4:" Easy recall - excellent retention, neural pathway strong!",5:" Perfect recall - mastered! Knowledge is in long-term memory."};return n>=4&&y.push(" Your myelin sheath is strengthening around these neural pathways!"),o&&y.push(" Great timing! Your circadian rhythm is at peak cognitive performance."),{easinessFactor:parseFloat(u.toFixed(2)),interval:h,repetitions:f,nextReviewDate:w,qualityAssessment:b[n],optimalReviewTime:v,neuroscience_insights:y}}function BSt(n,t,e,a){const r=NSt(n,t,e,a,new Date);return{easinessFactor:r.easinessFactor,easeFactor:r.easinessFactor,interval:r.interval,repetitions:r.repetitions,nextReviewDate:r.nextReviewDate,qualityAssessment:r.qualityAssessment,optimalReviewTime:r.optimalReviewTime,neuroscience_insights:r.neuroscience_insights}}function jSt(n){const t=new Date;return t.setDate(t.getDate()+n),t}function OSt(n){const t=new Date;return t.setHours(0,0,0,0),n.filter(e=>e.next_review?new Date(e.next_review)<=t:!0)}function LSt(n){return{0:"Complete Blackout",1:"Barely Remembered",2:"Recognized",3:"Difficult Recall",4:"Some Hesitation",5:"Perfect Recall"}[n]||"Unknown"}function ISt(n){return[...n].sort((t,e)=>{const a=new Date(t.next_review||0),r=new Date(e.next_review||0);return a.getTime()-r.getTime()})}function MO(){const{user:n}=qe(),[t,e]=I.useState(!1),[a,r]=I.useState(!1);return I.useEffect(()=>{if(n){const c=localStorage.getItem(`learnty_feedback_submitted_${n.id}`);e(c==="true")}},[n]),{shouldShowReview:!t,showReviewModal:a,triggerReview:()=>{n&&!t&&!a&&setTimeout(()=>{r(!0)},1500)},hideReviewModal:()=>{r(!1)},resetReviewState:()=>{n&&(localStorage.removeItem(`learnty_feedback_submitted_${n.id}`),e(!1)),r(!1)}}}const cU={review:{title:"Spaced Review Session",description:"Your spaced repetition practice",icon:""},quiz:{title:"AI Quiz Session",description:"Your knowledge assessment",icon:""},focus:{title:"Focus Session",description:"Your Pomodoro-style work session",icon:""}};function FO({onClose:n,sessionType:t="review"}){const{user:e}=qe(),[a,r]=I.useState(0),[i,o]=I.useState(0),[s,c]=I.useState(""),[l,u]=I.useState(!1),h=async()=>{if(a!==0){u(!0);try{if(e){const v={rating:a,feedback:s,sessionType:t,timestamp:new Date().toISOString(),userId:e.id},b=JSON.parse(localStorage.getItem(`learnty_user_feedback_${e.id}`)||"[]");b.push(v),localStorage.setItem(`learnty_user_feedback_${e.id}`,JSON.stringify(b)),localStorage.setItem(`learnty_feedback_submitted_${e.id}`,"true")}Nt.success("Thank you for your feedback!"),n(),f()}catch(v){console.error("Error submitting review:",v),Nt.error("Failed to submit feedback. Please try again.")}finally{u(!1)}}},f=()=>{r(0),o(0),c("")},y=()=>{l||(n(),f())},w=()=>Array.from({length:5},(v,b)=>{const S=b+1,_=S<=(i||a);return x.jsx(st.button,{type:"button",onClick:()=>r(S),onMouseEnter:()=>o(S),onMouseLeave:()=>o(0),whileHover:{scale:1.1},whileTap:{scale:.9},className:`transition-all duration-200 ${_?"text-yellow-400":"text-gray-300"}`,children:x.jsx(NB,{className:`w-8 h-8 sm:w-10 sm:h-10 ${_?"fill-current":""}`,"data-matrix-id":"src/components/ReviewModal.tsx:110:10","data-matrix-name":"Star","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"110","data-component-file":"ReviewModal.tsx","data-component-name":"Star","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})},S)});return x.jsx(kc,{"data-matrix-id":"src/components/ReviewModal.tsx:119:4","data-matrix-name":"AnimatePresence","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"119","data-component-file":"ReviewModal.tsx","data-component-name":"AnimatePresence",children:x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:y,children:x.jsxs(st.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:v=>v.stopPropagation(),className:"bg-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 shadow-2xl max-w-md w-full mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/components/ReviewModal.tsx:135:10","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"135","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/components/ReviewModal.tsx:136:12","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"136","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary rounded-xl flex items-center justify-center","data-matrix-id":"src/components/ReviewModal.tsx:137:14","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"137","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(mJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white","data-matrix-id":"src/components/ReviewModal.tsx:138:16","data-matrix-name":"MessageSquare","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"138","data-component-file":"ReviewModal.tsx","data-component-name":"MessageSquare","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/ReviewModal.tsx:140:14","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"140","data-component-file":"ReviewModal.tsx","data-component-name":"div",children:[x.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-foreground","data-matrix-id":"src/components/ReviewModal.tsx:141:16","data-matrix-name":"h2","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"141","data-component-file":"ReviewModal.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20font-bold%20text-foreground%22%7D",children:["Rate your ",cU[t].title.toLowerCase()]}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/ReviewModal.tsx:142:16","data-matrix-name":"p","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"142","data-component-file":"ReviewModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:cU[t].description})]})]}),x.jsx("button",{onClick:y,disabled:l,className:"p-2 hover:bg-muted rounded-xl transition-colors disabled:opacity-50","data-matrix-id":"src/components/ReviewModal.tsx:145:12","data-matrix-name":"button","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"145","data-component-file":"ReviewModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-muted%20rounded-xl%20transition-colors%20disabled%3Aopacity-50%22%7D",children:x.jsx(mc,{className:"w-5 h-5 text-muted-foreground","data-matrix-id":"src/components/ReviewModal.tsx:150:14","data-matrix-name":"X","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"150","data-component-file":"ReviewModal.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-muted-foreground%22%7D"})})]}),x.jsxs("div",{className:"mb-6","data-matrix-id":"src/components/ReviewModal.tsx:155:10","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"155","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[x.jsx("p",{className:"text-sm font-medium text-foreground mb-3 text-center","data-matrix-id":"src/components/ReviewModal.tsx:156:12","data-matrix-name":"p","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"156","data-component-file":"ReviewModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20mb-3%20text-center%22%7D",children:"Rate your learning experience"}),x.jsx("div",{className:"flex justify-center gap-2 sm:gap-3","data-matrix-id":"src/components/ReviewModal.tsx:159:12","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"159","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20gap-2%20sm%3Agap-3%22%7D",children:w()}),x.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2","data-matrix-id":"src/components/ReviewModal.tsx:162:12","data-matrix-name":"p","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"162","data-component-file":"ReviewModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20text-center%20mt-2%22%7D",children:a===0?"Click to rate":`${a} out of 5 stars`})]}),x.jsxs("div",{className:"mb-6","data-matrix-id":"src/components/ReviewModal.tsx:168:10","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"168","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[x.jsx("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/components/ReviewModal.tsx:169:12","data-matrix-name":"label","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"169","data-component-file":"ReviewModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:"Share your thoughts (optional)"}),x.jsx("textarea",{value:s,onChange:v=>c(v.target.value),placeholder:"What did you like? What could be improved?",rows:3,className:"w-full px-3 py-2 border border-border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm sm:text-base resize-none","data-matrix-id":"src/components/ReviewModal.tsx:172:12","data-matrix-name":"textarea","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"172","data-component-file":"ReviewModal.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22What%20did%20you%20like%3F%20What%20could%20be%20improved%3F%22%2C%22rows%22%3A3%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-border%20rounded-xl%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%20outline-none%20transition-all%20text-sm%20sm%3Atext-base%20resize-none%22%7D"})]}),x.jsxs("div",{className:"flex gap-3","data-matrix-id":"src/components/ReviewModal.tsx:182:10","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"182","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-3%22%7D",children:[x.jsx("button",{onClick:y,disabled:l,className:"flex-1 px-4 py-3 border border-gray-300 text-foreground rounded-xl font-medium hover:bg-muted transition-all disabled:opacity-50","data-matrix-id":"src/components/ReviewModal.tsx:183:12","data-matrix-name":"button","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"183","data-component-file":"ReviewModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-3%20border%20border-gray-300%20text-foreground%20rounded-xl%20font-medium%20hover%3Abg-muted%20transition-all%20disabled%3Aopacity-50%22%7D",children:"Skip"}),x.jsx(st.button,{onClick:h,disabled:a===0||l,whileHover:{scale:a>0?1.02:1},whileTap:{scale:a>0?.98:1},className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${a>0?"bg-primary text-primary-foreground hover:opacity-90":"bg-gray-200 text-muted-foreground"}`,children:l?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin","data-matrix-id":"src/components/ReviewModal.tsx:203:18","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"203","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20border-2%20border-white%20border-t-transparent%20rounded-full%20animate-spin%22%7D"}),x.jsx("span",{className:"text-sm","data-matrix-id":"src/components/ReviewModal.tsx:204:18","data-matrix-name":"span","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"204","data-component-file":"ReviewModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:"Submitting..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(wU,{className:"w-4 h-4","data-matrix-id":"src/components/ReviewModal.tsx:208:18","data-matrix-name":"Send","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"208","data-component-file":"ReviewModal.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),x.jsx("span",{className:"text-sm","data-matrix-id":"src/components/ReviewModal.tsx:209:18","data-matrix-name":"span","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"209","data-component-file":"ReviewModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:"Submit"})]})})]}),x.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl","data-matrix-id":"src/components/ReviewModal.tsx:216:10","data-matrix-name":"div","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"216","data-component-file":"ReviewModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-4%20p-3%20bg-blue-50%20rounded-xl%22%7D",children:x.jsx("p",{className:"text-xs text-blue-700 text-center","data-matrix-id":"src/components/ReviewModal.tsx:217:12","data-matrix-name":"p","data-component-path":"src/components/ReviewModal.tsx","data-component-line":"217","data-component-file":"ReviewModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-blue-700%20text-center%22%7D",children:"Your feedback helps us improve your learning experience!"})})]})})})}function RSt(){const{user:n}=qe(),t=Ia(),{showReviewModal:e,triggerReview:a,hideReviewModal:r}=MO(),[i,o]=I.useState([]),[s,c]=I.useState([]),[l,u]=I.useState(0),[h,f]=I.useState(!1),[y,w]=I.useState(!0),[v,b]=I.useState(!1),[S,_]=I.useState({totalCards:0,dueToday:0,reviewedToday:0,averageEase:0});I.useEffect(()=>{n&&(P(),E())},[n]);const P=async()=>{try{w(!0);const{data:L,error:M}=await kt.from("srs_cards").select("*").eq("user_id",n==null?void 0:n.id).order("next_review",{ascending:!0});if(M)throw M;const U=L||[];o(U);const F=OSt(U);c(F);const G=U.reduce(($,H)=>$+H.ease_factor,0);_($=>({...$,totalCards:U.length,dueToday:F.length,averageEase:U.length>0?G/U.length:0}))}catch(L){console.error("Error fetching cards:",L),Nt.error("Failed to load review cards")}finally{w(!1)}},E=async()=>{try{const L=new Date;L.setHours(0,0,0,0);const{data:M,error:U}=await kt.from("learning_sessions").select("*").eq("user_id",n==null?void 0:n.id).eq("session_type","review").gte("created_at",L.toISOString());if(U)throw U;_(F=>({...F,reviewedToday:(M==null?void 0:M.length)||0}))}catch(L){console.error("Error fetching today stats:",L)}},C=()=>{if(s.length===0){Nt.error("No cards due for review");return}b(!0),u(0),f(!1)},T=async L=>{const M=s[l];if(M)try{const U=BSt(L,M.ease_factor,M.interval_days,M.review_count),F=jSt(U.interval),{error:G}=await kt.from("srs_cards").update({ease_factor:U.easeFactor,interval_days:U.interval,review_count:U.repetitions,next_review:F.toISOString(),confidence_level:L}).eq("id",M.id);if(G)throw G;await kt.from("learning_sessions").insert({user_id:n==null?void 0:n.id,milestone_id:M.milestone_id,session_type:"review",duration_minutes:0,completion_percentage:100,performance_score:L*20}),l<s.length-1?(u(l+1),f(!1),Nt.success("Progress saved!")):(Nt.success("Review session complete!"),b(!1),P(),E(),a())}catch(U){console.error("Error updating card:",U),Nt.error("Failed to save progress")}},B=s[l];return y?x.jsx("div",{className:"min-h-screen flex items-center justify-center","data-matrix-id":"src/pages/Review.tsx:172:6","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"172","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%20items-center%20justify-center%22%7D",children:x.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):v&&B?x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/Review.tsx:184:6","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"184","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsxs(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card border-b border-border px-6 pt-12 pb-8 rounded-b-3xl shadow-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4","data-matrix-id":"src/pages/Review.tsx:191:10","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"191","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%22%7D",children:[x.jsx("button",{onClick:()=>b(!1),className:"text-muted-foreground text-sm","data-matrix-id":"src/pages/Review.tsx:192:12","data-matrix-name":"button","data-component-path":"src/pages/Review.tsx","data-component-line":"192","data-component-file":"Review.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20text-sm%22%7D",children:"Exit Review"}),x.jsxs("div",{className:"text-foreground text-sm","data-matrix-id":"src/pages/Review.tsx:198:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"198","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-foreground%20text-sm%22%7D",children:[l+1," / ",s.length]})]}),x.jsx("div",{className:"w-full bg-white/20 rounded-full h-2","data-matrix-id":"src/pages/Review.tsx:202:10","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"202","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20bg-white%2F20%20rounded-full%20h-2%22%7D",children:x.jsx(st.div,{initial:{width:0},animate:{width:`${(l+1)/s.length*100}%`},className:"bg-white h-2 rounded-full"})})]}),x.jsx("div",{className:"px-6 mt-8","data-matrix-id":"src/pages/Review.tsx:212:8","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"212","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20mt-8%22%7D",children:x.jsx(kc,{mode:"wait","data-matrix-id":"src/pages/Review.tsx:213:10","data-matrix-name":"AnimatePresence","data-component-path":"src/pages/Review.tsx","data-component-line":"213","data-component-file":"Review.tsx","data-component-name":"AnimatePresence","data-component-content":"%7B%22mode%22%3A%22wait%22%7D",children:x.jsxs(st.div,{initial:{opacity:0,rotateY:90},animate:{opacity:1,rotateY:0},exit:{opacity:0,rotateY:-90},transition:{duration:.3},className:"bg-white rounded-3xl p-8 shadow-xl min-h-[400px] flex flex-col justify-center",children:[x.jsx("div",{className:"text-sm text-muted-foreground mb-4 text-center","data-matrix-id":"src/pages/Review.tsx:222:14","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"222","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mb-4%20text-center%22%7D",children:h?"Answer":"Question"}),x.jsx("div",{className:"flex-1 flex items-center justify-center text-center","data-matrix-id":"src/pages/Review.tsx:226:14","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"226","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20flex%20items-center%20justify-center%20text-center%22%7D",children:x.jsx("p",{className:"text-xl font-medium text-foreground","data-matrix-id":"src/pages/Review.tsx:227:16","data-matrix-name":"p","data-component-path":"src/pages/Review.tsx","data-component-line":"227","data-component-file":"Review.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xl%20font-medium%20text-foreground%22%7D",children:h?B.answer:B.question})}),h?x.jsxs("div",{className:"space-y-3 mt-6","data-matrix-id":"src/pages/Review.tsx:242:16","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"242","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20mt-6%22%7D",children:[x.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4","data-matrix-id":"src/pages/Review.tsx:243:18","data-matrix-name":"p","data-component-path":"src/pages/Review.tsx","data-component-line":"243","data-component-file":"Review.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20text-center%20mb-4%22%7D",children:"How well did you recall this?"}),[1,2,3,4,5].map(L=>x.jsx(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>T(L),className:`w-full py-3 rounded-xl font-medium transition-colors ${L<=2?"bg-red-100 text-red-700 hover:bg-red-200":L===3?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:LSt(L)},L))]}):x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!0),className:"w-full bg-primary text-primary-foreground py-4 rounded-xl font-medium mt-6",children:"Show Answer"})]},B.id)})})]}):x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/Review.tsx:272:4","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"272","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card border-b border-border px-6 pt-12 pb-8 rounded-b-3xl shadow-lg",children:x.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/Review.tsx:279:8","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"279","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-secondary rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Review.tsx:280:10","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"280","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-secondary%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(sx,{className:"w-6 h-6 text-primary","data-matrix-id":"src/pages/Review.tsx:281:12","data-matrix-name":"RotateCcw","data-component-path":"src/pages/Review.tsx","data-component-line":"281","data-component-file":"Review.tsx","data-component-name":"RotateCcw","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-primary%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Review.tsx:283:10","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"283","data-component-file":"Review.tsx","data-component-name":"div",children:[x.jsx("h1",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Review.tsx:284:12","data-matrix-name":"h1","data-component-path":"src/pages/Review.tsx","data-component-line":"284","data-component-file":"Review.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:"Spaced Review"}),x.jsx("p",{className:"text-muted-foreground text-sm","data-matrix-id":"src/pages/Review.tsx:285:12","data-matrix-name":"p","data-component-path":"src/pages/Review.tsx","data-component-line":"285","data-component-file":"Review.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%22%7D",children:"Active recall practice"})]})]})}),x.jsxs("div",{className:"px-6 mt-6 space-y-6","data-matrix-id":"src/pages/Review.tsx:290:6","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"290","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20mt-6%20space-y-6%22%7D",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4","data-matrix-id":"src/pages/Review.tsx:292:8","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"292","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-4%22%7D",children:[x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2","data-matrix-id":"src/pages/Review.tsx:299:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"299","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-2%22%7D",children:[x.jsx(fU,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/Review.tsx:300:14","data-matrix-name":"Calendar","data-component-path":"src/pages/Review.tsx","data-component-line":"300","data-component-file":"Review.tsx","data-component-name":"Calendar","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),x.jsx("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Review.tsx:301:14","data-matrix-name":"span","data-component-path":"src/pages/Review.tsx","data-component-line":"301","data-component-file":"Review.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Due Today"})]}),x.jsx("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/pages/Review.tsx:303:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"303","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:S.dueToday})]}),x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2","data-matrix-id":"src/pages/Review.tsx:312:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"312","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-2%22%7D",children:[x.jsx(po,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/Review.tsx:313:14","data-matrix-name":"CheckCircle","data-component-path":"src/pages/Review.tsx","data-component-line":"313","data-component-file":"Review.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),x.jsx("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Review.tsx:314:14","data-matrix-name":"span","data-component-path":"src/pages/Review.tsx","data-component-line":"314","data-component-file":"Review.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Reviewed"})]}),x.jsx("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/pages/Review.tsx:316:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"316","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:S.reviewedToday})]}),x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2","data-matrix-id":"src/pages/Review.tsx:325:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"325","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-2%22%7D",children:[x.jsx(Un,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/Review.tsx:326:14","data-matrix-name":"Brain","data-component-path":"src/pages/Review.tsx","data-component-line":"326","data-component-file":"Review.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),x.jsx("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Review.tsx:327:14","data-matrix-name":"span","data-component-path":"src/pages/Review.tsx","data-component-line":"327","data-component-file":"Review.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Total Cards"})]}),x.jsx("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/pages/Review.tsx:329:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"329","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:S.totalCards})]}),x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2","data-matrix-id":"src/pages/Review.tsx:338:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"338","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-2%22%7D",children:[x.jsx(jm,{className:"w-5 h-5 text-orange-600","data-matrix-id":"src/pages/Review.tsx:339:14","data-matrix-name":"TrendingUp","data-component-path":"src/pages/Review.tsx","data-component-line":"339","data-component-file":"Review.tsx","data-component-name":"TrendingUp","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-orange-600%22%7D"}),x.jsx("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Review.tsx:340:14","data-matrix-name":"span","data-component-path":"src/pages/Review.tsx","data-component-line":"340","data-component-file":"Review.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Avg Ease"})]}),x.jsx("div",{className:"text-3xl font-bold text-orange-600","data-matrix-id":"src/pages/Review.tsx:342:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"342","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-orange-600%22%7D",children:S.averageEase.toFixed(1)})]})]}),S.dueToday>0?x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/Review.tsx:348:10","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"348","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsxs(st.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:C,className:"w-full bg-primary text-primary-foreground py-4 rounded-2xl font-medium shadow-lg flex items-center justify-center gap-2",children:[x.jsx(sx,{className:"w-5 h-5","data-matrix-id":"src/pages/Review.tsx:357:14","data-matrix-name":"RotateCcw","data-component-path":"src/pages/Review.tsx","data-component-line":"357","data-component-file":"Review.tsx","data-component-name":"RotateCcw","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Start Review Session (",S.dueToday," cards)"]}),x.jsxs(st.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/focus"),className:"w-full bg-primary text-primary-foreground py-3 rounded-2xl font-medium shadow-lg flex items-center justify-center gap-2",children:[x.jsx(Vw,{className:"w-5 h-5","data-matrix-id":"src/pages/Review.tsx:368:14","data-matrix-name":"Timer","data-component-path":"src/pages/Review.tsx","data-component-line":"368","data-component-file":"Review.tsx","data-component-name":"Timer","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Start with Focus Timer"]})]}):x.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-8 shadow-lg text-center",children:[x.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4","data-matrix-id":"src/pages/Review.tsx:378:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"378","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-20%20h-20%20bg-primary%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-4%22%7D",children:x.jsx(uc,{className:"w-10 h-10 text-primary-foreground","data-matrix-id":"src/pages/Review.tsx:379:14","data-matrix-name":"Trophy","data-component-path":"src/pages/Review.tsx","data-component-line":"379","data-component-file":"Review.tsx","data-component-name":"Trophy","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-primary-foreground%22%7D"})}),x.jsx("h3",{className:"text-xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/Review.tsx:381:12","data-matrix-name":"h3","data-component-path":"src/pages/Review.tsx","data-component-line":"381","data-component-file":"Review.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"All Caught Up!"}),x.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/Review.tsx:382:12","data-matrix-name":"p","data-component-path":"src/pages/Review.tsx","data-component-line":"382","data-component-file":"Review.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"No cards due for review right now. Come back later."})]}),i.length>0&&x.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg","data-matrix-id":"src/pages/Review.tsx:388:10","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"388","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-2xl%20p-6%20shadow-lg%22%7D",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground mb-4","data-matrix-id":"src/pages/Review.tsx:389:12","data-matrix-name":"h3","data-component-path":"src/pages/Review.tsx","data-component-line":"389","data-component-file":"Review.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%22%7D",children:"Upcoming Reviews"}),x.jsx("div",{className:"space-y-3","data-matrix-id":"src/pages/Review.tsx:390:12","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"390","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:ISt(i).slice(0,5).map((L,M)=>{const U=new Date(L.next_review),F=U<new Date;return x.jsxs(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05},className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/Review.tsx:403:20","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"403","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[x.jsx("p",{className:"text-sm font-medium text-foreground truncate","data-matrix-id":"src/pages/Review.tsx:404:22","data-matrix-name":"p","data-component-path":"src/pages/Review.tsx","data-component-line":"404","data-component-file":"Review.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20truncate%22%7D",children:L.question}),x.jsx("p",{className:`text-xs ${F?"text-red-600":"text-muted-foreground"}`,"data-matrix-id":"src/pages/Review.tsx:407:22","data-matrix-name":"p","data-component-path":"src/pages/Review.tsx","data-component-line":"407","data-component-file":"Review.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:F?"Overdue":`Due ${U.toLocaleDateString()}`})]}),F&&x.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse","data-matrix-id":"src/pages/Review.tsx:412:22","data-matrix-name":"div","data-component-path":"src/pages/Review.tsx","data-component-line":"412","data-component-file":"Review.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20bg-red-500%20rounded-full%20animate-pulse%22%7D"})]},L.id)})})]})]}),e&&x.jsx(FO,{onClose:r,sessionType:"review","data-matrix-id":"src/pages/Review.tsx:424:8","data-matrix-name":"ReviewModal","data-component-path":"src/pages/Review.tsx","data-component-line":"424","data-component-file":"Review.tsx","data-component-name":"ReviewModal","data-component-content":"%7B%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22sessionType%22%3A%22review%22%7D"})]})}function MSt(){const{user:n,profile:t,loadProfile:e}=qe(),{showReviewModal:a,triggerReview:r,hideReviewModal:i}=MO(),o=Ia(),s=I.useRef(!0),{timeLeft:c,isTimerActive:l,timerMode:u,setTimerState:h,resetTimer:f}=qe(ct=>({timeLeft:ct.timeLeft,isTimerActive:ct.isTimerActive,timerMode:ct.timerMode,setTimerState:ct.setTimerState,resetTimer:ct.resetTimer})),[y,w]=I.useState(!1),[v,b]=I.useState("work"),[S,_]=I.useState(0),[P,E]=I.useState(0),[C,T]=I.useState(!1),[B,L]=I.useState(null),[M,U]=I.useState({workDuration:25,breakDuration:5,longBreakDuration:15,sessionsUntilLongBreak:4,soundEnabled:!0,notificationsEnabled:!0});I.useRef(null),I.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),I.useEffect(()=>{const ct=localStorage.getItem("learnty_focus_settings");if(ct){const bt=JSON.parse(ct);U(bt),f("focus")}const yt=localStorage.getItem("learnty_focus_stats");if(yt){const bt=JSON.parse(yt);_(bt.completedSessions||0),E(bt.currentStreak||0)}M.notificationsEnabled&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]),I.useEffect(()=>{localStorage.setItem("learnty_focus_settings",JSON.stringify(M))},[M]),I.useEffect(()=>{const ct={completedSessions:S,currentStreak:P,totalFocusTime:S*M.workDuration};localStorage.setItem("learnty_focus_stats",JSON.stringify(ct))},[S,P,M.workDuration]),I.useEffect(()=>{l&&!y&&c<=0&&G()},[c,l,y]);const F=I.useCallback(async ct=>{if(!(!n||!s.current))try{const yt=ct*10,{error:bt}=await kt.from("focus_sessions").insert({user_id:n.id,session_type:"pomodoro",duration_minutes:ct,completed_at:new Date().toISOString(),xp_earned:yt});if(bt)throw console.error("Error saving session:",bt),bt;const Gt=((t==null?void 0:t.total_xp)||0)+yt,ut=Math.floor(Gt/100)+1,{error:Et}=await kt.from("profiles").update({total_xp:Gt,level:ut,updated_at:new Date().toISOString()}).eq("id",n.id);if(Et)throw console.error("Error updating profile:",Et),Et;await e(),Nt.success(`Session complete! Earned ${yt} XP`)}catch(yt){console.error("Error saving focus session:",yt),Nt.error("Failed to save session")}},[n,t,e]),G=()=>{if(s.current){if(h({isTimerActive:!1}),w(!1),M.soundEnabled&&$(),M.notificationsEnabled&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Learnty Focus Session Complete!",{body:v==="work"?"Time for a break!":"Ready to focus again?",icon:"/favicon.ico"}),v==="work"){const ct=S+1;s.current&&(_(ct),E(P+1)),F(M.workDuration),ct===1&&s.current&&r(),ct%M.sessionsUntilLongBreak===0?s.current&&(b("longBreak"),f("longBreak"),Nt.success("Great work! Take a long break.")):s.current&&(b("break"),f("shortBreak"),Nt.success("Session complete! Time for a break."))}else s.current&&(b("work"),f("focus"),Nt.success("Break over! Ready to focus again."));s.current&&L(null)}},$=()=>{try{const ct=new(window.AudioContext||window.webkitAudioContext),yt=ct.createOscillator(),bt=ct.createGain();yt.connect(bt),bt.connect(ct.destination),yt.frequency.setValueAtTime(800,ct.currentTime),yt.type="sine",bt.gain.setValueAtTime(.3,ct.currentTime),bt.gain.exponentialRampToValueAtTime(.01,ct.currentTime+.5),yt.start(ct.currentTime),yt.stop(ct.currentTime+.5)}catch{console.log("Audio notification not available")}},H=()=>{s.current&&(h({isTimerActive:!0}),w(!1),L(new Date))},X=()=>{s.current&&w(!0)},Q=()=>{s.current&&w(!1)},W=()=>{s.current&&(h({isTimerActive:!1}),w(!1),L(null),v==="work"&&(E(0),Nt.error("Session stopped. Streak reset.")))},V=()=>{s.current&&(h({isTimerActive:!1}),w(!1),f("focus"),b("work"),L(null))},tt=ct=>{const yt=Math.floor(ct/60),bt=ct%60;return`${yt.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}`},nt=()=>{switch(v){case"work":return"bg-primary";case"break":return"bg-green-600";case"longBreak":return"bg-purple-600"}},z=()=>{switch(v){case"work":return x.jsx(Un,{className:"w-8 h-8 text-primary-foreground","data-matrix-id":"src/pages/Focus.tsx:313:26","data-matrix-name":"Brain","data-component-path":"src/pages/Focus.tsx","data-component-line":"313","data-component-file":"Focus.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-foreground%22%7D"});case"break":return x.jsx(eJ,{className:"w-8 h-8 text-primary-foreground","data-matrix-id":"src/pages/Focus.tsx:314:27","data-matrix-name":"Coffee","data-component-path":"src/pages/Focus.tsx","data-component-line":"314","data-component-file":"Focus.tsx","data-component-name":"Coffee","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-foreground%22%7D"});case"longBreak":return x.jsx(cx,{className:"w-8 h-8 text-primary-foreground","data-matrix-id":"src/pages/Focus.tsx:315:31","data-matrix-name":"Zap","data-component-path":"src/pages/Focus.tsx","data-component-line":"315","data-component-file":"Focus.tsx","data-component-name":"Zap","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-foreground%22%7D"})}},K=()=>{switch(v){case"work":return"Focus Time";case"break":return"Short Break";case"longBreak":return"Long Break"}},it=v==="work"?M.workDuration*60:v==="break"?M.breakDuration*60:M.longBreakDuration*60,ft=(it-c)/it*100;return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"min-h-screen pb-20 sm:pb-24","data-matrix-id":"src/pages/Focus.tsx:334:4","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"334","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-20%20sm%3Apb-24%22%7D",children:[x.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card border-b border-border px-4 sm:px-6 pt-6 sm:pt-8 pb-6 sm:pb-8 rounded-b-2xl sm:rounded-b-3xl shadow-lg",children:x.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4","data-matrix-id":"src/pages/Focus.tsx:341:8","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"341","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-3%20sm%3Amb-4%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3","data-matrix-id":"src/pages/Focus.tsx:342:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"342","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%22%7D",children:[x.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-secondary rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Focus.tsx:343:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"343","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20sm%3Aw-10%20sm%3Ah-10%20bg-secondary%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(xr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary","data-matrix-id":"src/pages/Focus.tsx:344:14","data-matrix-name":"Clock","data-component-path":"src/pages/Focus.tsx","data-component-line":"344","data-component-file":"Focus.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-primary%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:346:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"346","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Focus.tsx:347:14","data-matrix-name":"h1","data-component-path":"src/pages/Focus.tsx","data-component-line":"347","data-component-file":"Focus.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-lg%20sm%3Atext-xl%20md%3Atext-2xl%20font-bold%20text-foreground%22%7D",children:"Focus Timer"}),x.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm","data-matrix-id":"src/pages/Focus.tsx:348:14","data-matrix-name":"p","data-component-path":"src/pages/Focus.tsx","data-component-line":"348","data-component-file":"Focus.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-xs%20sm%3Atext-sm%22%7D",children:"Pomodoro-style learning sessions"})]})]}),x.jsx("button",{onClick:()=>T(!C),className:"w-8 h-8 sm:w-10 sm:h-10 bg-secondary rounded-full flex items-center justify-center hover:bg-secondary/80 transition-colors","data-matrix-id":"src/pages/Focus.tsx:351:10","data-matrix-name":"button","data-component-path":"src/pages/Focus.tsx","data-component-line":"351","data-component-file":"Focus.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-8%20h-8%20sm%3Aw-10%20sm%3Ah-10%20bg-secondary%20rounded-full%20flex%20items-center%20justify-center%20hover%3Abg-secondary%2F80%20transition-colors%22%7D",children:x.jsx(AU,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary","data-matrix-id":"src/pages/Focus.tsx:355:12","data-matrix-name":"Settings","data-component-path":"src/pages/Focus.tsx","data-component-line":"355","data-component-file":"Focus.tsx","data-component-name":"Settings","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-primary%22%7D"})})]})}),x.jsxs("div",{className:"px-4 sm:px-6 -mt-3 sm:-mt-4","data-matrix-id":"src/pages/Focus.tsx:360:6","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"360","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20-mt-3%20sm%3A-mt-4%22%7D",children:[x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-2.5 sm:p-3 shadow-lg text-center","data-matrix-id":"src/pages/Focus.tsx:368:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"368","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20sm%3Arounded-2xl%20p-2.5%20sm%3Ap-3%20shadow-lg%20text-center%22%7D",children:[x.jsx(n2,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mx-auto mb-1","data-matrix-id":"src/pages/Focus.tsx:369:12","data-matrix-name":"Target","data-component-path":"src/pages/Focus.tsx","data-component-line":"369","data-component-file":"Focus.tsx","data-component-name":"Target","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-primary%20mx-auto%20mb-1%22%7D"}),x.jsx("div",{className:"text-base sm:text-lg md:text-xl font-bold text-foreground","data-matrix-id":"src/pages/Focus.tsx:370:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"370","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20md%3Atext-xl%20font-bold%20text-foreground%22%7D",children:S}),x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:371:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"371","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Sessions"})]}),x.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-2.5 sm:p-3 shadow-lg text-center","data-matrix-id":"src/pages/Focus.tsx:373:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"373","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20sm%3Arounded-2xl%20p-2.5%20sm%3Ap-3%20shadow-lg%20text-center%22%7D",children:[x.jsx(cx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 mx-auto mb-1","data-matrix-id":"src/pages/Focus.tsx:374:12","data-matrix-name":"Zap","data-component-path":"src/pages/Focus.tsx","data-component-line":"374","data-component-file":"Focus.tsx","data-component-name":"Zap","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-yellow-600%20mx-auto%20mb-1%22%7D"}),x.jsx("div",{className:"text-base sm:text-lg md:text-xl font-bold text-foreground","data-matrix-id":"src/pages/Focus.tsx:375:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"375","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20md%3Atext-xl%20font-bold%20text-foreground%22%7D",children:P}),x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:376:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"376","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Streak"})]}),x.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-2.5 sm:p-3 shadow-lg text-center","data-matrix-id":"src/pages/Focus.tsx:378:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"378","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20sm%3Arounded-2xl%20p-2.5%20sm%3Ap-3%20shadow-lg%20text-center%22%7D",children:[x.jsx(xr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mx-auto mb-1","data-matrix-id":"src/pages/Focus.tsx:379:12","data-matrix-name":"Clock","data-component-path":"src/pages/Focus.tsx","data-component-line":"379","data-component-file":"Focus.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-primary%20mx-auto%20mb-1%22%7D"}),x.jsxs("div",{className:"text-base sm:text-lg md:text-xl font-bold text-foreground","data-matrix-id":"src/pages/Focus.tsx:380:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"380","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20md%3Atext-xl%20font-bold%20text-foreground%22%7D",children:[Math.floor(S*M.workDuration/60),"h"]}),x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:383:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"383","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Focus"})]}),x.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-2.5 sm:p-3 shadow-lg text-center","data-matrix-id":"src/pages/Focus.tsx:385:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"385","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20sm%3Arounded-2xl%20p-2.5%20sm%3Ap-3%20shadow-lg%20text-center%22%7D",children:[x.jsx(zw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mx-auto mb-1","data-matrix-id":"src/pages/Focus.tsx:386:12","data-matrix-name":"Award","data-component-path":"src/pages/Focus.tsx","data-component-line":"386","data-component-file":"Focus.tsx","data-component-name":"Award","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-primary%20mx-auto%20mb-1%22%7D"}),x.jsx("div",{className:"text-base sm:text-lg md:text-xl font-bold text-foreground","data-matrix-id":"src/pages/Focus.tsx:387:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"387","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20md%3Atext-xl%20font-bold%20text-foreground%22%7D",children:S*M.workDuration*10}),x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:390:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"390","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"XP"})]})]}),x.jsx(kc,{"data-matrix-id":"src/pages/Focus.tsx:395:8","data-matrix-name":"AnimatePresence","data-component-path":"src/pages/Focus.tsx","data-component-line":"395","data-component-file":"Focus.tsx","data-component-name":"AnimatePresence",children:C&&x.jsx(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mb-4 sm:mb-6",children:x.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 shadow-lg","data-matrix-id":"src/pages/Focus.tsx:404:14","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"404","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20sm%3Arounded-2xl%20p-3%20sm%3Ap-4%20md%3Ap-6%20shadow-lg%22%7D",children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-foreground mb-3 sm:mb-4","data-matrix-id":"src/pages/Focus.tsx:405:16","data-matrix-name":"h3","data-component-path":"src/pages/Focus.tsx","data-component-line":"405","data-component-file":"Focus.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20font-bold%20text-foreground%20mb-3%20sm%3Amb-4%22%7D",children:"Session Settings"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4","data-matrix-id":"src/pages/Focus.tsx:406:16","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"406","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20gap-3%20sm%3Agap-4%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:407:18","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"407","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"src/pages/Focus.tsx:408:20","data-matrix-name":"label","data-component-path":"src/pages/Focus.tsx","data-component-line":"408","data-component-file":"Focus.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Work Duration (minutes)"}),x.jsx("input",{type:"number",min:"1",max:"60",value:M.workDuration,onChange:ct=>{const yt=parseInt(ct.target.value)||25;U(bt=>({...bt,workDuration:yt})),!l&&v==="work"&&f("focus")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l&&!y&&v==="work","data-matrix-id":"src/pages/Focus.tsx:411:20","data-matrix-name":"input","data-component-path":"src/pages/Focus.tsx","data-component-line":"411","data-component-file":"Focus.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22min%22%3A%221%22%2C%22max%22%3A%2260%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D"})]}),x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:427:18","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"427","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"src/pages/Focus.tsx:428:20","data-matrix-name":"label","data-component-path":"src/pages/Focus.tsx","data-component-line":"428","data-component-file":"Focus.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Short Break (minutes)"}),x.jsx("input",{type:"number",min:"1",max:"30",value:M.breakDuration,onChange:ct=>U(yt=>({...yt,breakDuration:parseInt(ct.target.value)||5})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l&&!y&&v==="work","data-matrix-id":"src/pages/Focus.tsx:431:20","data-matrix-name":"input","data-component-path":"src/pages/Focus.tsx","data-component-line":"431","data-component-file":"Focus.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22min%22%3A%221%22%2C%22max%22%3A%2230%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D"})]}),x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:441:18","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"441","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"src/pages/Focus.tsx:442:20","data-matrix-name":"label","data-component-path":"src/pages/Focus.tsx","data-component-line":"442","data-component-file":"Focus.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Long Break (minutes)"}),x.jsx("input",{type:"number",min:"5",max:"60",value:M.longBreakDuration,onChange:ct=>U(yt=>({...yt,longBreakDuration:parseInt(ct.target.value)||15})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l&&!y&&v==="work","data-matrix-id":"src/pages/Focus.tsx:445:20","data-matrix-name":"input","data-component-path":"src/pages/Focus.tsx","data-component-line":"445","data-component-file":"Focus.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22min%22%3A%225%22%2C%22max%22%3A%2260%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D"})]}),x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:455:18","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"455","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1","data-matrix-id":"src/pages/Focus.tsx:456:20","data-matrix-name":"label","data-component-path":"src/pages/Focus.tsx","data-component-line":"456","data-component-file":"Focus.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%7D",children:"Sessions until long break"}),x.jsx("input",{type:"number",min:"2",max:"8",value:M.sessionsUntilLongBreak,onChange:ct=>U(yt=>({...yt,sessionsUntilLongBreak:parseInt(ct.target.value)||4})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l&&!y&&v==="work","data-matrix-id":"src/pages/Focus.tsx:459:20","data-matrix-name":"input","data-component-path":"src/pages/Focus.tsx","data-component-line":"459","data-component-file":"Focus.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22min%22%3A%222%22%2C%22max%22%3A%228%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-transparent%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D"})]}),x.jsxs("div",{className:"flex items-center justify-between sm:col-span-2","data-matrix-id":"src/pages/Focus.tsx:469:18","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"469","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20sm%3Acol-span-2%22%7D",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700","data-matrix-id":"src/pages/Focus.tsx:470:20","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"470","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-gray-700%22%7D",children:"Sound Notifications"}),x.jsx("button",{onClick:()=>U(ct=>({...ct,soundEnabled:!ct.soundEnabled})),className:`w-12 h-6 rounded-full transition-colors ${M.soundEnabled?"bg-blue-600":"bg-gray-300"}`,"data-matrix-id":"src/pages/Focus.tsx:471:20","data-matrix-name":"button","data-component-path":"src/pages/Focus.tsx","data-component-line":"471","data-component-file":"Focus.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${M.soundEnabled?"translate-x-7":"translate-x-1"}`,"data-matrix-id":"src/pages/Focus.tsx:475:22","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"475","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})})]}),x.jsxs("div",{className:"flex items-center justify-between sm:col-span-2","data-matrix-id":"src/pages/Focus.tsx:478:18","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"478","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20sm%3Acol-span-2%22%7D",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700","data-matrix-id":"src/pages/Focus.tsx:479:20","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"479","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-gray-700%22%7D",children:"Browser Notifications"}),x.jsx("button",{onClick:()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),U(ct=>({...ct,notificationsEnabled:!ct.notificationsEnabled}))},className:`w-12 h-6 rounded-full transition-colors ${M.notificationsEnabled?"bg-blue-600":"bg-gray-300"}`,"data-matrix-id":"src/pages/Focus.tsx:480:20","data-matrix-name":"button","data-component-path":"src/pages/Focus.tsx","data-component-line":"480","data-component-file":"Focus.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${M.notificationsEnabled?"translate-x-7":"translate-x-1"}`,"data-matrix-id":"src/pages/Focus.tsx:489:22","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"489","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})})]})]})]})})}),x.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-3xl p-6 sm:p-8 shadow-lg mb-6",children:[x.jsx(st.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full ${nt()} flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-lg`,children:z()},v),x.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground mb-2 text-center","data-matrix-id":"src/pages/Focus.tsx:516:10","data-matrix-name":"h2","data-component-path":"src/pages/Focus.tsx","data-component-line":"516","data-component-file":"Focus.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20md%3Atext-3xl%20font-bold%20text-foreground%20mb-2%20text-center%22%7D",children:K()}),x.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-center text-sm sm:text-base px-2","data-matrix-id":"src/pages/Focus.tsx:519:10","data-matrix-name":"p","data-component-path":"src/pages/Focus.tsx","data-component-line":"519","data-component-file":"Focus.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-4%20sm%3Amb-6%20text-center%20text-sm%20sm%3Atext-base%20px-2%22%7D",children:v==="work"?"Stay focused and productive":v==="break"?"Take a short rest":"Enjoy your longer break"}),x.jsx("div",{className:"text-4xl sm:text-5xl md:text-7xl font-bold text-foreground mb-4 sm:mb-6 font-mono text-center","data-matrix-id":"src/pages/Focus.tsx:526:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"526","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-4xl%20sm%3Atext-5xl%20md%3Atext-7xl%20font-bold%20text-foreground%20mb-4%20sm%3Amb-6%20font-mono%20text-center%22%7D",children:tt(c)}),x.jsxs("div",{className:"relative w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 mx-auto mb-4 sm:mb-6","data-matrix-id":"src/pages/Focus.tsx:531:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"531","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20w-32%20h-32%20sm%3Aw-40%20sm%3Ah-40%20md%3Aw-48%20md%3Ah-48%20mx-auto%20mb-4%20sm%3Amb-6%22%7D",children:[x.jsxs("svg",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 transform -rotate-90",viewBox:"0 0 100 100","data-matrix-id":"src/pages/Focus.tsx:532:12","data-matrix-name":"svg","data-component-path":"src/pages/Focus.tsx","data-component-line":"532","data-component-file":"Focus.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22w-32%20h-32%20sm%3Aw-40%20sm%3Ah-40%20md%3Aw-48%20md%3Ah-48%20transform%20-rotate-90%22%2C%22viewBox%22%3A%220%200%20100%20100%22%7D",children:[x.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-gray-200"}),x.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*45}`,strokeDashoffset:`${2*Math.PI*45*(1-ft/100)}`,className:`transition-all duration-1000 ${v==="work"?"text-blue-500":v==="break"?"text-green-500":"text-purple-500"}`,strokeLinecap:"round"})]}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center","data-matrix-id":"src/pages/Focus.tsx:559:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"559","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20flex%20items-center%20justify-center%22%7D",children:x.jsxs("span",{className:"text-sm sm:text-lg md:text-xl font-medium text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:560:14","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"560","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Atext-lg%20md%3Atext-xl%20font-medium%20text-muted-foreground%22%7D",children:[Math.round(ft),"%"]})})]}),x.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-3 sm:mb-4 flex-wrap px-2","data-matrix-id":"src/pages/Focus.tsx:567:10","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"567","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20gap-2%20sm%3Agap-3%20mb-3%20sm%3Amb-4%20flex-wrap%20px-2%22%7D",children:l?x.jsxs(x.Fragment,{children:[y?x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Q,className:"bg-green-600 hover:bg-green-700 text-primary-foreground px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold shadow-lg flex items-center gap-2 text-sm sm:text-base",children:[x.jsx(QE,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Focus.tsx:587:20","data-matrix-name":"Play","data-component-path":"src/pages/Focus.tsx","data-component-line":"587","data-component-file":"Focus.tsx","data-component-name":"Play","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"}),x.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/Focus.tsx:588:20","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"588","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Resume"})]}):x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:X,className:"bg-yellow-600 hover:bg-yellow-700 text-primary-foreground px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold shadow-lg flex items-center gap-2 text-sm sm:text-base",children:[x.jsx(pJ,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Focus.tsx:597:20","data-matrix-name":"Pause","data-component-path":"src/pages/Focus.tsx","data-component-line":"597","data-component-file":"Focus.tsx","data-component-name":"Pause","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"}),x.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/Focus.tsx:598:20","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"598","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Pause"})]}),x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"bg-red-600 hover:bg-red-700 text-primary-foreground px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-semibold shadow-lg flex items-center gap-2 text-sm sm:text-base",children:[x.jsx(gJ,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Focus.tsx:607:18","data-matrix-name":"Square","data-component-path":"src/pages/Focus.tsx","data-component-line":"607","data-component-file":"Focus.tsx","data-component-name":"Square","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"}),x.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/Focus.tsx:608:18","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"608","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Stop"})]})]}):x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:`${nt()} hover:opacity-90 text-primary-foreground px-6 sm:px-8 py-2.5 sm:py-3 rounded-full font-semibold shadow-lg flex items-center gap-2 text-sm sm:text-base`,children:[x.jsx(QE,{className:"w-4 h-4 sm:w-5 sm:h-5","data-matrix-id":"src/pages/Focus.tsx:575:16","data-matrix-name":"Play","data-component-path":"src/pages/Focus.tsx","data-component-line":"575","data-component-file":"Focus.tsx","data-component-name":"Play","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D"}),x.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/Focus.tsx:576:16","data-matrix-name":"span","data-component-path":"src/pages/Focus.tsx","data-component-line":"576","data-component-file":"Focus.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Start"})]})}),x.jsxs("button",{onClick:V,disabled:l&&!y&&v==="work",className:"w-full text-muted-foreground hover:text-foreground font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed","data-matrix-id":"src/pages/Focus.tsx:614:10","data-matrix-name":"button","data-component-path":"src/pages/Focus.tsx","data-component-line":"614","data-component-file":"Focus.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22w-full%20text-muted-foreground%20hover%3Atext-foreground%20font-medium%20flex%20items-center%20justify-center%20gap-2%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%22%7D",children:[x.jsx(sx,{className:"w-4 h-4","data-matrix-id":"src/pages/Focus.tsx:619:12","data-matrix-name":"RotateCcw","data-component-path":"src/pages/Focus.tsx","data-component-line":"619","data-component-file":"Focus.tsx","data-component-name":"RotateCcw","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Reset"]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4","data-matrix-id":"src/pages/Focus.tsx:625:8","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"625","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20gap-3%20sm%3Agap-4%22%7D",children:[x.jsx(st.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o("/focus/analytics"),className:"bg-card rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-lg text-left hover:shadow-xl transition-all",children:x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3","data-matrix-id":"src/pages/Focus.tsx:635:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"635","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%20mb-2%20sm%3Amb-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary rounded-xl flex items-center justify-center","data-matrix-id":"src/pages/Focus.tsx:636:14","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"636","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(jm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground","data-matrix-id":"src/pages/Focus.tsx:637:16","data-matrix-name":"TrendingUp","data-component-path":"src/pages/Focus.tsx","data-component-line":"637","data-component-file":"Focus.tsx","data-component-name":"TrendingUp","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary-foreground%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:639:14","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"639","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-foreground text-sm sm:text-base","data-matrix-id":"src/pages/Focus.tsx:640:16","data-matrix-name":"h3","data-component-path":"src/pages/Focus.tsx","data-component-line":"640","data-component-file":"Focus.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20text-sm%20sm%3Atext-base%22%7D",children:"Today's Progress"}),x.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:641:16","data-matrix-name":"p","data-component-path":"src/pages/Focus.tsx","data-component-line":"641","data-component-file":"Focus.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:[S," sessions completed"]})]})]})}),x.jsx(st.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o("/focus/analytics"),className:"bg-card rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-lg text-left hover:shadow-xl transition-all",children:x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3","data-matrix-id":"src/pages/Focus.tsx:655:12","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"655","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%20mb-2%20sm%3Amb-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary rounded-xl flex items-center justify-center","data-matrix-id":"src/pages/Focus.tsx:656:14","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"656","data-component-file":"Focus.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(pU,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground","data-matrix-id":"src/pages/Focus.tsx:657:16","data-matrix-name":"BarChart3","data-component-path":"src/pages/Focus.tsx","data-component-line":"657","data-component-file":"Focus.tsx","data-component-name":"BarChart3","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary-foreground%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Focus.tsx:659:14","data-matrix-name":"div","data-component-path":"src/pages/Focus.tsx","data-component-line":"659","data-component-file":"Focus.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-foreground text-sm sm:text-base","data-matrix-id":"src/pages/Focus.tsx:660:16","data-matrix-name":"h3","data-component-path":"src/pages/Focus.tsx","data-component-line":"660","data-component-file":"Focus.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20text-sm%20sm%3Atext-base%22%7D",children:"View Analytics"}),x.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground","data-matrix-id":"src/pages/Focus.tsx:661:16","data-matrix-name":"p","data-component-path":"src/pages/Focus.tsx","data-component-line":"661","data-component-file":"Focus.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-muted-foreground%22%7D",children:"Track your learning patterns"})]})]})})]})]})]}),a&&x.jsx(FO,{onClose:i,sessionType:"focus","data-matrix-id":"src/pages/Focus.tsx:673:6","data-matrix-name":"ReviewModal","data-component-path":"src/pages/Focus.tsx","data-component-line":"673","data-component-file":"Focus.tsx","data-component-name":"ReviewModal","data-component-content":"%7B%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22sessionType%22%3A%22focus%22%7D"})]})}function FSt(){const{user:n,profile:t}=qe(),e=Ia(),[a,r]=I.useState([]),[i,o]=I.useState([]),[s,c]=I.useState([]),[l,u]=I.useState({totalSessions:0,totalMinutes:0,totalXP:0,averageSessionLength:0,longestStreak:0,currentStreak:0}),[h,f]=I.useState("week"),[y,w]=I.useState(!0);I.useEffect(()=>{n&&v()},[n,h]);const v=async()=>{if(n){w(!0);try{const _=new Date;let P=new Date;h==="week"?P.setDate(_.getDate()-7):h==="month"?P.setDate(_.getDate()-30):P.setFullYear(_.getFullYear()-1);const{data:E,error:C}=await kt.from("focus_sessions").select("*").eq("user_id",n.id).gte("completed_at",P.toISOString()).order("completed_at",{ascending:!0});if(C)throw C;r(E||[]);const T=(E==null?void 0:E.length)||0,B=(E==null?void 0:E.reduce((W,V)=>W+V.duration_minutes,0))||0,L=(E==null?void 0:E.reduce((W,V)=>W+V.xp_earned,0))||0,M=T>0?Math.round(B/T):0,{currentStreak:U,longestStreak:F}=b(E||[]);u({totalSessions:T,totalMinutes:B,totalXP:L,averageSessionLength:M,currentStreak:U,longestStreak:F});const G=new Map;E==null||E.forEach(W=>{const V=new Date(W.completed_at).toISOString().split("T")[0],tt=G.get(V)||{sessions:0,minutes:0,xp:0};G.set(V,{sessions:tt.sessions+1,minutes:tt.minutes+W.duration_minutes,xp:tt.xp+W.xp_earned})});const $=Array.from(G.entries()).map(([W,V])=>({date:new Date(W).toLocaleDateString("en-US",{month:"short",day:"numeric"}),...V}));o($);const H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=new Map;H.forEach(W=>{X.set(W,{sessions:0,minutes:0})}),E==null||E.forEach(W=>{const V=H[new Date(W.completed_at).getDay()],tt=X.get(V);X.set(V,{sessions:tt.sessions+1,minutes:tt.minutes+W.duration_minutes})});const Q=H.map(W=>({day:W,...X.get(W)}));c(Q)}catch(_){console.error("Error loading analytics:",_)}finally{w(!1)}}},b=_=>{if(_.length===0)return{currentStreak:0,longestStreak:0};const P=new Set;_.forEach(U=>{const F=new Date(U.completed_at).toISOString().split("T")[0];P.add(F)});const E=Array.from(P).sort();let C=0,T=0,B=1;const L=new Date().toISOString().split("T")[0],M=new Date(Date.now()-864e5).toISOString().split("T")[0];if(E.includes(L)||E.includes(M)){C=1;let U=E.includes(L)?new Date:new Date(Date.now()-864e5);for(let F=E.length-1;F>=0;F--){const G=new Date(E[F]),$=Math.floor((U.getTime()-G.getTime())/864e5);if($!==0)if($===1)C++,U=G;else break}}for(let U=1;U<E.length;U++){const F=new Date(E[U-1]),G=new Date(E[U]);Math.floor((G.getTime()-F.getTime())/864e5)===1?(B++,T=Math.max(T,B)):B=1}return T=Math.max(T,B),{currentStreak:C,longestStreak:T}},S=({icon:_,label:P,value:E,unit:C,color:T})=>x.jsxs(st.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},className:"bg-white rounded-2xl p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2","data-matrix-id":"src/pages/FocusAnalytics.tsx:247:6","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"247","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-2%22%7D",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center","data-matrix-id":"src/pages/FocusAnalytics.tsx:248:8","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"248","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsx(_,{className:"w-5 h-5 text-white","data-matrix-id":"src/pages/FocusAnalytics.tsx:249:10","data-matrix-name":"Icon","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"249","data-component-file":"FocusAnalytics.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/FocusAnalytics.tsx:251:8","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"251","data-component-file":"FocusAnalytics.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/FocusAnalytics.tsx:252:10","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"252","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:E}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/FocusAnalytics.tsx:253:10","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"253","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:P})]})]}),C&&x.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/FocusAnalytics.tsx:256:15","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"256","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:C})]});return x.jsxs("div",{className:"min-h-screen bg-background pb-24","data-matrix-id":"src/pages/FocusAnalytics.tsx:261:4","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"261","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-background%20pb-24%22%7D",children:[x.jsxs(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-primary px-4 sm:px-6 pt-8 pb-8 rounded-b-3xl shadow-lg",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4","data-matrix-id":"src/pages/FocusAnalytics.tsx:268:8","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"268","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-4%22%7D",children:[x.jsx("button",{onClick:()=>e("/focus"),className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors","data-matrix-id":"src/pages/FocusAnalytics.tsx:269:10","data-matrix-name":"button","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"269","data-component-file":"FocusAnalytics.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-10%20h-10%20bg-white%2F20%20rounded-full%20flex%20items-center%20justify-center%20hover%3Abg-white%2F30%20transition-colors%22%7D",children:x.jsx(mU,{className:"w-5 h-5 text-white","data-matrix-id":"src/pages/FocusAnalytics.tsx:273:12","data-matrix-name":"ArrowLeft","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"273","data-component-file":"FocusAnalytics.tsx","data-component-name":"ArrowLeft","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/FocusAnalytics.tsx:275:10","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"275","data-component-file":"FocusAnalytics.tsx","data-component-name":"div",children:[x.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white","data-matrix-id":"src/pages/FocusAnalytics.tsx:276:12","data-matrix-name":"h1","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"276","data-component-file":"FocusAnalytics.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-white%22%7D",children:"Session Analytics"}),x.jsx("p",{className:"text-white/80 text-sm","data-matrix-id":"src/pages/FocusAnalytics.tsx:277:12","data-matrix-name":"p","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"277","data-component-file":"FocusAnalytics.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F80%20text-sm%22%7D",children:"Track your learning progress"})]})]}),x.jsx("div",{className:"flex gap-2 bg-white/10 rounded-xl p-1","data-matrix-id":"src/pages/FocusAnalytics.tsx:282:8","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"282","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20bg-white%2F10%20rounded-xl%20p-1%22%7D",children:["week","month","all"].map(_=>x.jsx("button",{onClick:()=>f(_),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${h===_?"bg-white text-primary":"text-white/80 hover:text-white"}`,"data-matrix-id":"src/pages/FocusAnalytics.tsx:284:12","data-matrix-name":"button","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"284","data-component-file":"FocusAnalytics.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:_==="week"?"7 Days":_==="month"?"30 Days":"All Time"},_))})]}),x.jsx("div",{className:"px-4 sm:px-6 -mt-4","data-matrix-id":"src/pages/FocusAnalytics.tsx:299:6","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"299","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20-mt-4%22%7D",children:y?x.jsx("div",{className:"flex items-center justify-center py-12","data-matrix-id":"src/pages/FocusAnalytics.tsx:301:10","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"301","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20py-12%22%7D",children:x.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin","data-matrix-id":"src/pages/FocusAnalytics.tsx:302:12","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"302","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20border-4%20border-blue-600%20border-t-transparent%20rounded-full%20animate-spin%22%7D"})}):x.jsxs(x.Fragment,{children:[x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6",children:[x.jsx(S,{icon:n2,label:"Total Sessions",value:l.totalSessions,color:"from-blue-500 to-blue-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:313:14","data-matrix-name":"StatCard","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"313","data-component-file":"FocusAnalytics.tsx","data-component-name":"StatCard","data-component-content":"%7B%22icon%22%3A%22%5BIdentifier%5D%22%2C%22label%22%3A%22Total%20Sessions%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22color%22%3A%22from-blue-500%20to-blue-600%22%7D"}),x.jsx(S,{icon:xr,label:"Total Time",value:`${Math.floor(l.totalMinutes/60)}h ${l.totalMinutes%60}m`,color:"from-green-500 to-green-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:319:14","data-matrix-name":"StatCard","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"319","data-component-file":"FocusAnalytics.tsx","data-component-name":"StatCard","data-component-content":"%7B%22icon%22%3A%22%5BIdentifier%5D%22%2C%22label%22%3A%22Total%20Time%22%2C%22value%22%3A%22%5BTemplateLiteral%5D%22%2C%22color%22%3A%22from-green-500%20to-green-600%22%7D"}),x.jsx(S,{icon:zw,label:"Total XP",value:l.totalXP,color:"from-purple-500 to-purple-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:325:14","data-matrix-name":"StatCard","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"325","data-component-file":"FocusAnalytics.tsx","data-component-name":"StatCard","data-component-content":"%7B%22icon%22%3A%22%5BIdentifier%5D%22%2C%22label%22%3A%22Total%20XP%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22color%22%3A%22from-purple-500%20to-purple-600%22%7D"}),x.jsx(S,{icon:YQ,label:"Average Session",value:`${l.averageSessionLength}m`,color:"from-orange-500 to-orange-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:331:14","data-matrix-name":"StatCard","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"331","data-component-file":"FocusAnalytics.tsx","data-component-name":"StatCard","data-component-content":"%7B%22icon%22%3A%22%5BIdentifier%5D%22%2C%22label%22%3A%22Average%20Session%22%2C%22value%22%3A%22%5BTemplateLiteral%5D%22%2C%22color%22%3A%22from-orange-500%20to-orange-600%22%7D"}),x.jsx(S,{icon:cx,label:"Current Streak",value:`${l.currentStreak} days`,color:"from-yellow-500 to-yellow-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:337:14","data-matrix-name":"StatCard","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"337","data-component-file":"FocusAnalytics.tsx","data-component-name":"StatCard","data-component-content":"%7B%22icon%22%3A%22%5BIdentifier%5D%22%2C%22label%22%3A%22Current%20Streak%22%2C%22value%22%3A%22%5BTemplateLiteral%5D%22%2C%22color%22%3A%22from-yellow-500%20to-yellow-600%22%7D"}),x.jsx(S,{icon:jm,label:"Longest Streak",value:`${l.longestStreak} days`,color:"from-pink-500 to-pink-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:343:14","data-matrix-name":"StatCard","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"343","data-component-file":"FocusAnalytics.tsx","data-component-name":"StatCard","data-component-content":"%7B%22icon%22%3A%22%5BIdentifier%5D%22%2C%22label%22%3A%22Longest%20Streak%22%2C%22value%22%3A%22%5BTemplateLiteral%5D%22%2C%22color%22%3A%22from-pink-500%20to-pink-600%22%7D"})]}),i.length>0&&x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg mb-6",children:[x.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4 flex items-center gap-2","data-matrix-id":"src/pages/FocusAnalytics.tsx:359:16","data-matrix-name":"h3","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"359","data-component-file":"FocusAnalytics.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(pU,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/FocusAnalytics.tsx:360:18","data-matrix-name":"BarChart3","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"360","data-component-file":"FocusAnalytics.tsx","data-component-name":"BarChart3","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),"Daily Session Activity"]}),x.jsx(_g,{width:"100%",height:250,"data-matrix-id":"src/pages/FocusAnalytics.tsx:363:16","data-matrix-name":"ResponsiveContainer","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"363","data-component-file":"FocusAnalytics.tsx","data-component-name":"ResponsiveContainer","data-component-content":"%7B%22width%22%3A%22100%25%22%2C%22height%22%3A250%7D",children:x.jsxs(jG,{data:i,"data-matrix-id":"src/pages/FocusAnalytics.tsx:364:18","data-matrix-name":"BarChart","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"364","data-component-file":"FocusAnalytics.tsx","data-component-name":"BarChart","data-component-content":"%7B%22data%22%3A%22%5BIdentifier%5D%22%7D",children:[x.jsx(Gh,{strokeDasharray:"3 3","data-matrix-id":"src/pages/FocusAnalytics.tsx:365:20","data-matrix-name":"CartesianGrid","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"365","data-component-file":"FocusAnalytics.tsx","data-component-name":"CartesianGrid","data-component-content":"%7B%22strokeDasharray%22%3A%223%203%22%7D"}),x.jsx(as,{dataKey:"date","data-matrix-id":"src/pages/FocusAnalytics.tsx:366:20","data-matrix-name":"XAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"366","data-component-file":"FocusAnalytics.tsx","data-component-name":"XAxis","data-component-content":"%7B%22dataKey%22%3A%22date%22%7D"}),x.jsx(rs,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:367:20","data-matrix-name":"YAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"367","data-component-file":"FocusAnalytics.tsx","data-component-name":"YAxis"}),x.jsx(fr,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:368:20","data-matrix-name":"Tooltip","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"368","data-component-file":"FocusAnalytics.tsx","data-component-name":"Tooltip"}),x.jsx(ts,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:369:20","data-matrix-name":"Legend","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"369","data-component-file":"FocusAnalytics.tsx","data-component-name":"Legend"}),x.jsx(dd,{dataKey:"sessions",fill:"#3b82f6",name:"Sessions","data-matrix-id":"src/pages/FocusAnalytics.tsx:370:20","data-matrix-name":"Bar","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"370","data-component-file":"FocusAnalytics.tsx","data-component-name":"Bar","data-component-content":"%7B%22dataKey%22%3A%22sessions%22%2C%22fill%22%3A%22%233b82f6%22%2C%22name%22%3A%22Sessions%22%7D"})]})})]}),s.length>0&&x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg mb-6",children:[x.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4 flex items-center gap-2","data-matrix-id":"src/pages/FocusAnalytics.tsx:384:16","data-matrix-name":"h3","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"384","data-component-file":"FocusAnalytics.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(fU,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/FocusAnalytics.tsx:385:18","data-matrix-name":"Calendar","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"385","data-component-file":"FocusAnalytics.tsx","data-component-name":"Calendar","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),"Weekly Pattern"]}),x.jsx(_g,{width:"100%",height:250,"data-matrix-id":"src/pages/FocusAnalytics.tsx:388:16","data-matrix-name":"ResponsiveContainer","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"388","data-component-file":"FocusAnalytics.tsx","data-component-name":"ResponsiveContainer","data-component-content":"%7B%22width%22%3A%22100%25%22%2C%22height%22%3A250%7D",children:x.jsxs(BG,{data:s,"data-matrix-id":"src/pages/FocusAnalytics.tsx:389:18","data-matrix-name":"LineChart","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"389","data-component-file":"FocusAnalytics.tsx","data-component-name":"LineChart","data-component-content":"%7B%22data%22%3A%22%5BIdentifier%5D%22%7D",children:[x.jsx(Gh,{strokeDasharray:"3 3","data-matrix-id":"src/pages/FocusAnalytics.tsx:390:20","data-matrix-name":"CartesianGrid","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"390","data-component-file":"FocusAnalytics.tsx","data-component-name":"CartesianGrid","data-component-content":"%7B%22strokeDasharray%22%3A%223%203%22%7D"}),x.jsx(as,{dataKey:"day","data-matrix-id":"src/pages/FocusAnalytics.tsx:391:20","data-matrix-name":"XAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"391","data-component-file":"FocusAnalytics.tsx","data-component-name":"XAxis","data-component-content":"%7B%22dataKey%22%3A%22day%22%7D"}),x.jsx(rs,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:392:20","data-matrix-name":"YAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"392","data-component-file":"FocusAnalytics.tsx","data-component-name":"YAxis"}),x.jsx(fr,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:393:20","data-matrix-name":"Tooltip","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"393","data-component-file":"FocusAnalytics.tsx","data-component-name":"Tooltip"}),x.jsx(ts,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:394:20","data-matrix-name":"Legend","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"394","data-component-file":"FocusAnalytics.tsx","data-component-name":"Legend"}),x.jsx(Yf,{type:"monotone",dataKey:"minutes",stroke:"#10b981",strokeWidth:2,name:"Minutes","data-matrix-id":"src/pages/FocusAnalytics.tsx:395:20","data-matrix-name":"Line","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"395","data-component-file":"FocusAnalytics.tsx","data-component-name":"Line","data-component-content":"%7B%22type%22%3A%22monotone%22%2C%22dataKey%22%3A%22minutes%22%2C%22stroke%22%3A%22%2310b981%22%2C%22strokeWidth%22%3A2%2C%22name%22%3A%22Minutes%22%7D"})]})})]}),i.length>0&&x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg mb-6",children:[x.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4 flex items-center gap-2","data-matrix-id":"src/pages/FocusAnalytics.tsx:415:16","data-matrix-name":"h3","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"415","data-component-file":"FocusAnalytics.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(xr,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/FocusAnalytics.tsx:416:18","data-matrix-name":"Clock","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"416","data-component-file":"FocusAnalytics.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),"Daily Minutes Distribution"]}),x.jsx(_g,{width:"100%",height:250,"data-matrix-id":"src/pages/FocusAnalytics.tsx:419:16","data-matrix-name":"ResponsiveContainer","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"419","data-component-file":"FocusAnalytics.tsx","data-component-name":"ResponsiveContainer","data-component-content":"%7B%22width%22%3A%22100%25%22%2C%22height%22%3A250%7D",children:x.jsxs(jG,{data:i,"data-matrix-id":"src/pages/FocusAnalytics.tsx:420:18","data-matrix-name":"BarChart","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"420","data-component-file":"FocusAnalytics.tsx","data-component-name":"BarChart","data-component-content":"%7B%22data%22%3A%22%5BIdentifier%5D%22%7D",children:[x.jsx(Gh,{strokeDasharray:"3 3","data-matrix-id":"src/pages/FocusAnalytics.tsx:421:20","data-matrix-name":"CartesianGrid","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"421","data-component-file":"FocusAnalytics.tsx","data-component-name":"CartesianGrid","data-component-content":"%7B%22strokeDasharray%22%3A%223%203%22%7D"}),x.jsx(as,{dataKey:"date","data-matrix-id":"src/pages/FocusAnalytics.tsx:422:20","data-matrix-name":"XAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"422","data-component-file":"FocusAnalytics.tsx","data-component-name":"XAxis","data-component-content":"%7B%22dataKey%22%3A%22date%22%7D"}),x.jsx(rs,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:423:20","data-matrix-name":"YAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"423","data-component-file":"FocusAnalytics.tsx","data-component-name":"YAxis"}),x.jsx(fr,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:424:20","data-matrix-name":"Tooltip","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"424","data-component-file":"FocusAnalytics.tsx","data-component-name":"Tooltip"}),x.jsx(ts,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:425:20","data-matrix-name":"Legend","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"425","data-component-file":"FocusAnalytics.tsx","data-component-name":"Legend"}),x.jsx(dd,{dataKey:"minutes",fill:"#8b5cf6",name:"Minutes","data-matrix-id":"src/pages/FocusAnalytics.tsx:426:20","data-matrix-name":"Bar","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"426","data-component-file":"FocusAnalytics.tsx","data-component-name":"Bar","data-component-content":"%7B%22dataKey%22%3A%22minutes%22%2C%22fill%22%3A%22%238b5cf6%22%2C%22name%22%3A%22Minutes%22%7D"})]})})]}),i.length>0&&x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg mb-6",children:[x.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4 flex items-center gap-2","data-matrix-id":"src/pages/FocusAnalytics.tsx:440:16","data-matrix-name":"h3","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"440","data-component-file":"FocusAnalytics.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(zw,{className:"w-5 h-5 text-yellow-600","data-matrix-id":"src/pages/FocusAnalytics.tsx:441:18","data-matrix-name":"Award","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"441","data-component-file":"FocusAnalytics.tsx","data-component-name":"Award","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-yellow-600%22%7D"}),"XP Growth"]}),x.jsx(_g,{width:"100%",height:250,"data-matrix-id":"src/pages/FocusAnalytics.tsx:444:16","data-matrix-name":"ResponsiveContainer","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"444","data-component-file":"FocusAnalytics.tsx","data-component-name":"ResponsiveContainer","data-component-content":"%7B%22width%22%3A%22100%25%22%2C%22height%22%3A250%7D",children:x.jsxs(BG,{data:i,"data-matrix-id":"src/pages/FocusAnalytics.tsx:445:18","data-matrix-name":"LineChart","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"445","data-component-file":"FocusAnalytics.tsx","data-component-name":"LineChart","data-component-content":"%7B%22data%22%3A%22%5BIdentifier%5D%22%7D",children:[x.jsx(Gh,{strokeDasharray:"3 3","data-matrix-id":"src/pages/FocusAnalytics.tsx:446:20","data-matrix-name":"CartesianGrid","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"446","data-component-file":"FocusAnalytics.tsx","data-component-name":"CartesianGrid","data-component-content":"%7B%22strokeDasharray%22%3A%223%203%22%7D"}),x.jsx(as,{dataKey:"date","data-matrix-id":"src/pages/FocusAnalytics.tsx:447:20","data-matrix-name":"XAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"447","data-component-file":"FocusAnalytics.tsx","data-component-name":"XAxis","data-component-content":"%7B%22dataKey%22%3A%22date%22%7D"}),x.jsx(rs,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:448:20","data-matrix-name":"YAxis","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"448","data-component-file":"FocusAnalytics.tsx","data-component-name":"YAxis"}),x.jsx(fr,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:449:20","data-matrix-name":"Tooltip","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"449","data-component-file":"FocusAnalytics.tsx","data-component-name":"Tooltip"}),x.jsx(ts,{"data-matrix-id":"src/pages/FocusAnalytics.tsx:450:20","data-matrix-name":"Legend","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"450","data-component-file":"FocusAnalytics.tsx","data-component-name":"Legend"}),x.jsx(Yf,{type:"monotone",dataKey:"xp",stroke:"#f59e0b",strokeWidth:2,name:"XP Earned","data-matrix-id":"src/pages/FocusAnalytics.tsx:451:20","data-matrix-name":"Line","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"451","data-component-file":"FocusAnalytics.tsx","data-component-name":"Line","data-component-content":"%7B%22type%22%3A%22monotone%22%2C%22dataKey%22%3A%22xp%22%2C%22stroke%22%3A%22%23f59e0b%22%2C%22strokeWidth%22%3A2%2C%22name%22%3A%22XP%20Earned%22%7D"})]})})]}),x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground mb-4","data-matrix-id":"src/pages/FocusAnalytics.tsx:470:14","data-matrix-name":"h3","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"470","data-component-file":"FocusAnalytics.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-4%22%7D",children:"Recent Sessions"}),a.length===0?x.jsxs("div",{className:"text-center py-8 text-muted-foreground","data-matrix-id":"src/pages/FocusAnalytics.tsx:472:16","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"472","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%20text-muted-foreground%22%7D",children:[x.jsx(xr,{className:"w-12 h-12 mx-auto mb-3 opacity-50","data-matrix-id":"src/pages/FocusAnalytics.tsx:473:18","data-matrix-name":"Clock","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"473","data-component-file":"FocusAnalytics.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20mx-auto%20mb-3%20opacity-50%22%7D"}),x.jsx("p",{"data-matrix-id":"src/pages/FocusAnalytics.tsx:474:18","data-matrix-name":"p","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"474","data-component-file":"FocusAnalytics.tsx","data-component-name":"p",children:"No focus sessions yet"}),x.jsx("p",{className:"text-sm","data-matrix-id":"src/pages/FocusAnalytics.tsx:475:18","data-matrix-name":"p","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"475","data-component-file":"FocusAnalytics.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:"Start your first session to see analytics"})]}):x.jsx("div",{className:"space-y-3","data-matrix-id":"src/pages/FocusAnalytics.tsx:478:16","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"478","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:a.slice(-10).reverse().map(_=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl","data-matrix-id":"src/pages/FocusAnalytics.tsx:480:20","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"480","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20bg-gray-50%20rounded-xl%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/FocusAnalytics.tsx:484:22","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"484","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center","data-matrix-id":"src/pages/FocusAnalytics.tsx:485:24","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"485","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20bg-blue-100%20rounded-lg%20flex%20items-center%20justify-center%22%7D",children:x.jsx(xr,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/FocusAnalytics.tsx:486:26","data-matrix-name":"Clock","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"486","data-component-file":"FocusAnalytics.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/FocusAnalytics.tsx:488:24","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"488","data-component-file":"FocusAnalytics.tsx","data-component-name":"div",children:[x.jsxs("div",{className:"font-medium text-foreground","data-matrix-id":"src/pages/FocusAnalytics.tsx:489:26","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"489","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:[_.duration_minutes," minutes"]}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/FocusAnalytics.tsx:492:26","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"492","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:new Date(_.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})})]})]}),x.jsx("div",{className:"text-right","data-matrix-id":"src/pages/FocusAnalytics.tsx:502:22","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"502","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:x.jsxs("div",{className:"font-semibold text-primary","data-matrix-id":"src/pages/FocusAnalytics.tsx:503:24","data-matrix-name":"div","data-component-path":"src/pages/FocusAnalytics.tsx","data-component-line":"503","data-component-file":"FocusAnalytics.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-primary%22%7D",children:["+",_.xp_earned," XP"]})})]},_.id))})]})]})})]})}function $St(){const[n,t]=I.useState("books"),[e,a]=I.useState(0),r=Ia(),i=[{key:"books",icon:Ac,label:"My Books",description:"Uploaded books for gamification"},{key:"topics",icon:Un,label:"My Topics",description:"AI-powered learning paths"},{key:"projects",icon:zR,label:"My Projects",description:"Your learning projects"}];return x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/Library.tsx:37:4","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"37","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsxs("div",{className:"bg-card border-b border-border px-4 sm:px-6 pt-8 sm:pt-12 pb-6 sm:pb-8 rounded-b-3xl shadow-lg","data-matrix-id":"src/pages/Library.tsx:39:6","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"39","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border-b%20border-border%20px-4%20sm%3Apx-6%20pt-8%20sm%3Apt-12%20pb-6%20sm%3Apb-8%20rounded-b-3xl%20shadow-lg%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4","data-matrix-id":"src/pages/Library.tsx:40:8","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"40","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-3%20sm%3Amb-4%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3","data-matrix-id":"src/pages/Library.tsx:41:10","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"41","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-secondary rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Library.tsx:42:12","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"42","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20bg-secondary%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Ac,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary","data-matrix-id":"src/pages/Library.tsx:43:14","data-matrix-name":"BookOpen","data-component-path":"src/pages/Library.tsx","data-component-line":"43","data-component-file":"Library.tsx","data-component-name":"BookOpen","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Library.tsx:45:12","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"45","data-component-file":"Library.tsx","data-component-name":"div",children:[x.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Library.tsx:46:14","data-matrix-name":"h1","data-component-path":"src/pages/Library.tsx","data-component-line":"46","data-component-file":"Library.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-foreground%22%7D",children:"Library"}),x.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm","data-matrix-id":"src/pages/Library.tsx:47:14","data-matrix-name":"p","data-component-path":"src/pages/Library.tsx","data-component-line":"47","data-component-file":"Library.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-xs%20sm%3Atext-sm%22%7D",children:"Your learning collection"})]})]}),x.jsx("div",{className:"flex gap-2 sm:gap-3","data-matrix-id":"src/pages/Library.tsx:50:10","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"50","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20sm%3Agap-3%22%7D",children:x.jsx(MX,{onWipeComplete:()=>a(o=>o+1),"data-matrix-id":"src/pages/Library.tsx:51:12","data-matrix-name":"DataWipe","data-component-path":"src/pages/Library.tsx","data-component-line":"51","data-component-file":"Library.tsx","data-component-name":"DataWipe","data-component-content":"%7B%22onWipeComplete%22%3A%22%5BArrowFunctionExpression%5D%22%7D"})})]}),x.jsx("div",{className:"flex gap-2 overflow-x-auto","data-matrix-id":"src/pages/Library.tsx:56:8","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"56","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20overflow-x-auto%22%7D",children:i.map(o=>{const s=o.icon;return x.jsxs(st.button,{whileTap:{scale:.95},onClick:()=>t(o.key),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all whitespace-nowrap ${n===o.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[x.jsx(s,{className:"w-4 h-4","data-matrix-id":"src/pages/Library.tsx:70:16","data-matrix-name":"Icon","data-component-path":"src/pages/Library.tsx","data-component-line":"70","data-component-file":"Library.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),x.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/pages/Library.tsx:71:16","data-matrix-name":"span","data-component-path":"src/pages/Library.tsx","data-component-line":"71","data-component-file":"Library.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:o.label})]},o.key)})})]}),x.jsxs("div",{className:"px-4 sm:px-6 mt-4 sm:mt-6 space-y-4 sm:space-y-6","data-matrix-id":"src/pages/Library.tsx:79:6","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"79","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20mt-4%20sm%3Amt-6%20space-y-4%20sm%3Aspace-y-6%22%7D",children:[n==="books"&&x.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/Library.tsx:81:10","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"81","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[x.jsx("div",{className:"flex justify-between items-center","data-matrix-id":"src/pages/Library.tsx:82:12","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"82","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",children:x.jsxs("div",{"data-matrix-id":"src/pages/Library.tsx:83:14","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"83","data-component-file":"Library.tsx","data-component-name":"div",children:[x.jsx("h2",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/Library.tsx:84:16","data-matrix-name":"h2","data-component-path":"src/pages/Library.tsx","data-component-line":"84","data-component-file":"Library.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"My Books"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Library.tsx:85:16","data-matrix-name":"p","data-component-path":"src/pages/Library.tsx","data-component-line":"85","data-component-file":"Library.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Books you've uploaded for gamified learning"})]})}),x.jsx(IX,{onUploadSuccess:()=>{a(o=>o+1),Nt.success("Book added to your library!")},"data-matrix-id":"src/pages/Library.tsx:88:12","data-matrix-name":"BookUpload","data-component-path":"src/pages/Library.tsx","data-component-line":"88","data-component-file":"Library.tsx","data-component-name":"BookUpload","data-component-content":"%7B%22onUploadSuccess%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),x.jsx(RX,{onBookSelect:o=>r(`/book/${o.id}`),refreshTrigger:e,"data-matrix-id":"src/pages/Library.tsx:92:12","data-matrix-name":"BookLibrary","data-component-path":"src/pages/Library.tsx","data-component-line":"92","data-component-file":"Library.tsx","data-component-name":"BookLibrary","data-component-content":"%7B%22onBookSelect%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22refreshTrigger%22%3A%22%5BIdentifier%5D%22%7D"})]}),n==="topics"&&x.jsx("div",{className:"space-y-4","data-matrix-id":"src/pages/Library.tsx:100:10","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"100","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:x.jsxs("div",{className:"text-center py-8 sm:py-12","data-matrix-id":"src/pages/Library.tsx:101:12","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"101","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%20sm%3Apy-12%22%7D",children:[x.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-primary rounded-3xl flex items-center justify-center mx-auto mb-4 sm:mb-6","data-matrix-id":"src/pages/Library.tsx:102:14","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"102","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-20%20h-20%20sm%3Aw-24%20sm%3Ah-24%20bg-primary%20rounded-3xl%20flex%20items-center%20justify-center%20mx-auto%20mb-4%20sm%3Amb-6%22%7D",children:x.jsx(Un,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-foreground","data-matrix-id":"src/pages/Library.tsx:103:16","data-matrix-name":"Brain","data-component-path":"src/pages/Library.tsx","data-component-line":"103","data-component-file":"Library.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20sm%3Aw-12%20sm%3Ah-12%20text-primary-foreground%22%7D"})}),x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/Library.tsx:105:14","data-matrix-name":"h2","data-component-path":"src/pages/Library.tsx","data-component-line":"105","data-component-file":"Library.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Learning Paths"}),x.jsx("p",{className:"text-muted-foreground mb-6 text-sm sm:text-base","data-matrix-id":"src/pages/Library.tsx:106:14","data-matrix-name":"p","data-component-path":"src/pages/Library.tsx","data-component-line":"106","data-component-file":"Library.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-6%20text-sm%20sm%3Atext-base%22%7D",children:"Create AI-powered structured learning journeys"}),x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/learn"),className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all",children:[x.jsx(bU,{className:"w-5 h-5","data-matrix-id":"src/pages/Library.tsx:113:16","data-matrix-name":"Plus","data-component-path":"src/pages/Library.tsx","data-component-line":"113","data-component-file":"Library.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Create Path"]})]})}),n==="projects"&&x.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/Library.tsx:121:10","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"121","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[x.jsx("div",{className:"flex justify-between items-center","data-matrix-id":"src/pages/Library.tsx:122:12","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"122","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",children:x.jsxs("div",{"data-matrix-id":"src/pages/Library.tsx:123:14","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"123","data-component-file":"Library.tsx","data-component-name":"div",children:[x.jsx("h2",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/Library.tsx:124:16","data-matrix-name":"h2","data-component-path":"src/pages/Library.tsx","data-component-line":"124","data-component-file":"Library.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"My Projects"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Library.tsx:125:16","data-matrix-name":"p","data-component-path":"src/pages/Library.tsx","data-component-line":"125","data-component-file":"Library.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Your learning projects"})]})}),x.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg text-center","data-matrix-id":"src/pages/Library.tsx:128:12","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"128","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-2xl%20p-6%20shadow-lg%20text-center%22%7D",children:[x.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4","data-matrix-id":"src/pages/Library.tsx:129:14","data-matrix-name":"div","data-component-path":"src/pages/Library.tsx","data-component-line":"129","data-component-file":"Library.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20bg-primary%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-4%22%7D",children:x.jsx(zR,{className:"w-8 h-8 text-primary-foreground","data-matrix-id":"src/pages/Library.tsx:130:16","data-matrix-name":"FolderOpen","data-component-path":"src/pages/Library.tsx","data-component-line":"130","data-component-file":"Library.tsx","data-component-name":"FolderOpen","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-foreground%22%7D"})}),x.jsx("h3",{className:"text-lg font-bold text-foreground mb-2","data-matrix-id":"src/pages/Library.tsx:132:14","data-matrix-name":"h3","data-component-path":"src/pages/Library.tsx","data-component-line":"132","data-component-file":"Library.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%20mb-2%22%7D",children:"Projects Coming Soon"}),x.jsx("p",{className:"text-muted-foreground text-sm mb-4","data-matrix-id":"src/pages/Library.tsx:133:14","data-matrix-name":"p","data-component-path":"src/pages/Library.tsx","data-component-line":"133","data-component-file":"Library.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%20mb-4%22%7D",children:"Your learning projects and custom study plans will appear here"}),x.jsx("button",{onClick:()=>r("/learning-paths"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium","data-matrix-id":"src/pages/Library.tsx:134:14","data-matrix-name":"button","data-component-path":"src/pages/Library.tsx","data-component-line":"134","data-component-file":"Library.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-primary%20text-primary-foreground%20rounded-lg%20font-medium%22%7D",children:"View Learning Paths"})]})]})]})]})}function GSt(){return Ia(),x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/Learn.tsx:11:4","data-matrix-name":"div","data-component-path":"src/pages/Learn.tsx","data-component-line":"11","data-component-file":"Learn.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card border-b border-border px-4 sm:px-6 pt-8 sm:pt-12 pb-6 sm:pb-8 rounded-b-3xl shadow-lg",children:x.jsxs("div",{className:"flex items-center gap-3 mb-4","data-matrix-id":"src/pages/Learn.tsx:18:8","data-matrix-name":"div","data-component-path":"src/pages/Learn.tsx","data-component-line":"18","data-component-file":"Learn.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-4%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-secondary rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Learn.tsx:19:10","data-matrix-name":"div","data-component-path":"src/pages/Learn.tsx","data-component-line":"19","data-component-file":"Learn.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-secondary%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Un,{className:"w-6 h-6 text-primary","data-matrix-id":"src/pages/Learn.tsx:20:12","data-matrix-name":"Brain","data-component-path":"src/pages/Learn.tsx","data-component-line":"20","data-component-file":"Learn.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-primary%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/Learn.tsx:22:10","data-matrix-name":"div","data-component-path":"src/pages/Learn.tsx","data-component-line":"22","data-component-file":"Learn.tsx","data-component-name":"div",children:[x.jsx("h1",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/Learn.tsx:23:12","data-matrix-name":"h1","data-component-path":"src/pages/Learn.tsx","data-component-line":"23","data-component-file":"Learn.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:"Learning Paths"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/Learn.tsx:24:12","data-matrix-name":"p","data-component-path":"src/pages/Learn.tsx","data-component-line":"24","data-component-file":"Learn.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"AI-powered structured learning"})]})]})}),x.jsx("div",{className:"px-4 sm:px-6 mt-6","data-matrix-id":"src/pages/Learn.tsx:30:6","data-matrix-name":"div","data-component-path":"src/pages/Learn.tsx","data-component-line":"30","data-component-file":"Learn.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20mt-6%22%7D",children:x.jsx(FX,{"data-matrix-id":"src/pages/Learn.tsx:31:8","data-matrix-name":"LearningPaths","data-component-path":"src/pages/Learn.tsx","data-component-line":"31","data-component-file":"Learn.tsx","data-component-name":"LearningPaths"})})]})}function USt({book:n,onSuccess:t,onClose:e}){const{user:a}=qe(),[r,i]=I.useState(!1),[o,s]=I.useState(0),[c,l]=I.useState(""),[u,h]=I.useState(null),f=async()=>{var w,v;i(!0),s(0),l("Initializing S3 methodology...");try{s(20),l("Analyzing book structure...");const{data:b,error:S}=await kt.from("book_chapters").select("*").eq("book_id",n.id).order("chapter_number");if(S)throw S;if(!b||b.length===0)throw new Error("No chapters found. Please ensure the book has been processed by AI first.");s(40),l("Generating micro-learning milestones...");const _=await fetch("undefined/functions/v1/generate-s3-milestones",{method:"POST",headers:{Authorization:`Bearer ${(w=(await kt.auth.getSession()).data.session)==null?void 0:w.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({bookId:n.id,userId:a==null?void 0:a.id})});if(!_.ok){const E=await _.json();throw new Error(((v=E.error)==null?void 0:v.message)||"Failed to generate learning path")}const P=await _.json();s(80),l("Creating learning structure..."),await new Promise(E=>setTimeout(E,1e3)),s(100),l("Learning path created!"),h(P.data),setTimeout(()=>{Nt.success(`Generated ${P.data.milestonesCreated} learning milestones!`),t&&t()},1e3)}catch(b){console.error("S3 generation error:",b),Nt.error(b instanceof Error?b.message:"Failed to generate learning path"),i(!1),s(0),l("")}},y=[{icon:Un,title:"Cognitive Science Based",description:"Follows proven learning principles for optimal retention"},{icon:n2,title:"Micro-Learning Steps",description:"Breaks complex topics into digestible 15-30 minute sessions"},{icon:cx,title:"Adaptive Difficulty",description:"Adjusts based on your performance and learning speed"},{icon:xr,title:"Optimized Timing",description:"Schedules reviews using spaced repetition algorithms"}];return u?x.jsx(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-card rounded-3xl p-8 shadow-xl max-w-2xl w-full",children:x.jsxs("div",{className:"text-center","data-matrix-id":"src/components/S3Generator.tsx:122:8","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"122","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[x.jsx(st.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:x.jsx(po,{className:"w-10 h-10 text-primary-foreground","data-matrix-id":"src/components/S3Generator.tsx:129:12","data-matrix-name":"CheckCircle","data-component-path":"src/components/S3Generator.tsx","data-component-line":"129","data-component-file":"S3Generator.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-primary-foreground%22%7D"})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4","data-matrix-id":"src/components/S3Generator.tsx:132:10","data-matrix-name":"h2","data-component-path":"src/components/S3Generator.tsx","data-component-line":"132","data-component-file":"S3Generator.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Learning Path Created!"}),x.jsx("div",{className:"bg-muted rounded-2xl p-6 mb-6","data-matrix-id":"src/components/S3Generator.tsx:136:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"136","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%20rounded-2xl%20p-6%20mb-6%22%7D",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center","data-matrix-id":"src/components/S3Generator.tsx:137:12","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"137","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-4%20text-center%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/S3Generator.tsx:138:14","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"138","data-component-file":"S3Generator.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/components/S3Generator.tsx:139:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"139","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:u.milestonesCreated}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/S3Generator.tsx:142:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"142","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Milestones"})]}),x.jsxs("div",{"data-matrix-id":"src/components/S3Generator.tsx:144:14","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"144","data-component-file":"S3Generator.tsx","data-component-name":"div",children:[x.jsxs("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/components/S3Generator.tsx:145:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"145","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:[Math.round(u.totalEstimatedMinutes/60),"h"]}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/S3Generator.tsx:148:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"148","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Total Time"})]}),x.jsxs("div",{"data-matrix-id":"src/components/S3Generator.tsx:150:14","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"150","data-component-file":"S3Generator.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-3xl font-bold text-primary","data-matrix-id":"src/components/S3Generator.tsx:151:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"151","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-primary%22%7D",children:u.srsCardsCreated}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/S3Generator.tsx:154:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"154","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Study Cards"})]}),x.jsxs("div",{"data-matrix-id":"src/components/S3Generator.tsx:156:14","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"156","data-component-file":"S3Generator.tsx","data-component-name":"div",children:[x.jsx("div",{className:"text-3xl font-bold text-orange-600","data-matrix-id":"src/components/S3Generator.tsx:157:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"157","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-orange-600%22%7D",children:u.dependenciesCreated}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/S3Generator.tsx:160:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"160","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Dependencies"})]})]})}),x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/S3Generator.tsx:165:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"165","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/learning-paths",className:"w-full bg-primary text-primary-foreground py-4 rounded-xl font-medium flex items-center justify-center gap-2",children:["Start Learning Journey",x.jsx(hU,{className:"w-5 h-5","data-matrix-id":"src/components/S3Generator.tsx:173:14","data-matrix-name":"ArrowRight","data-component-path":"src/components/S3Generator.tsx","data-component-line":"173","data-component-file":"S3Generator.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})]}),e&&x.jsx("button",{onClick:e,className:"w-full text-muted-foreground py-2","data-matrix-id":"src/components/S3Generator.tsx:177:14","data-matrix-name":"button","data-component-path":"src/components/S3Generator.tsx","data-component-line":"177","data-component-file":"S3Generator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20text-muted-foreground%20py-2%22%7D",children:"Close"})]})]})}):x.jsx(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl p-8 shadow-xl max-w-2xl w-full",children:r?x.jsxs("div",{className:"text-center","data-matrix-id":"src/components/S3Generator.tsx:269:8","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"269","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[x.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6","data-matrix-id":"src/components/S3Generator.tsx:270:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"270","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-20%20h-20%20bg-primary%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-6%22%7D",children:x.jsx(st.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:x.jsx(Un,{className:"w-10 h-10 text-primary-foreground","data-matrix-id":"src/components/S3Generator.tsx:275:14","data-matrix-name":"Brain","data-component-path":"src/components/S3Generator.tsx","data-component-line":"275","data-component-file":"S3Generator.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-primary-foreground%22%7D"})})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4","data-matrix-id":"src/components/S3Generator.tsx:279:10","data-matrix-name":"h2","data-component-path":"src/components/S3Generator.tsx","data-component-line":"279","data-component-file":"S3Generator.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Creating Your Learning Path"}),x.jsx("p",{className:"text-muted-foreground mb-8","data-matrix-id":"src/components/S3Generator.tsx:282:10","data-matrix-name":"p","data-component-path":"src/components/S3Generator.tsx","data-component-line":"282","data-component-file":"S3Generator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-8%22%7D",children:c}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-6","data-matrix-id":"src/components/S3Generator.tsx:284:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"284","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-3%20mb-6%22%7D",children:x.jsx(st.div,{className:"bg-primary h-3 rounded-full",style:{width:`${o}%`},transition:{duration:.5}})}),x.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/S3Generator.tsx:292:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"292","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"This may take 30-60 seconds as we analyze your book and generate personalized milestones..."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-center mb-8","data-matrix-id":"src/components/S3Generator.tsx:198:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"198","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-8%22%7D",children:[x.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6","data-matrix-id":"src/components/S3Generator.tsx:199:12","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"199","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-20%20h-20%20bg-primary%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-6%22%7D",children:x.jsx(Un,{className:"w-10 h-10 text-primary-foreground","data-matrix-id":"src/components/S3Generator.tsx:200:14","data-matrix-name":"Brain","data-component-path":"src/components/S3Generator.tsx","data-component-line":"200","data-component-file":"S3Generator.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-primary-foreground%22%7D"})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4","data-matrix-id":"src/components/S3Generator.tsx:202:12","data-matrix-name":"h2","data-component-path":"src/components/S3Generator.tsx","data-component-line":"202","data-component-file":"S3Generator.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Generate S3 Learning Path"}),x.jsxs("p",{className:"text-muted-foreground","data-matrix-id":"src/components/S3Generator.tsx:205:12","data-matrix-name":"p","data-component-path":"src/components/S3Generator.tsx","data-component-line":"205","data-component-file":"S3Generator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:['Transform "',n.title,'" into a structured learning journey using the',x.jsx("span",{className:"font-semibold text-primary","data-matrix-id":"src/components/S3Generator.tsx:207:14","data-matrix-name":"span","data-component-path":"src/components/S3Generator.tsx","data-component-line":"207","data-component-file":"S3Generator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-primary%22%7D",children:" Small Simple Steps"})," methodology"]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8","data-matrix-id":"src/components/S3Generator.tsx:211:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"211","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-4%20mb-8%22%7D",children:y.map((w,v)=>x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-muted rounded-xl p-4",children:x.jsxs("div",{className:"flex items-start gap-3","data-matrix-id":"src/components/S3Generator.tsx:220:16","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"220","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",children:[x.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center shrink-0","data-matrix-id":"src/components/S3Generator.tsx:221:18","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"221","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20bg-purple-100%20rounded-lg%20flex%20items-center%20justify-center%20shrink-0%22%7D",children:x.jsx(w.icon,{className:"w-5 h-5 text-primary"})}),x.jsxs("div",{"data-matrix-id":"src/components/S3Generator.tsx:224:18","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"224","data-component-file":"S3Generator.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-foreground text-sm","data-matrix-id":"src/components/S3Generator.tsx:225:20","data-matrix-name":"h3","data-component-path":"src/components/S3Generator.tsx","data-component-line":"225","data-component-file":"S3Generator.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20text-sm%22%7D",children:w.title}),x.jsx("p",{className:"text-muted-foreground text-xs mt-1","data-matrix-id":"src/components/S3Generator.tsx:228:20","data-matrix-name":"p","data-component-path":"src/components/S3Generator.tsx","data-component-line":"228","data-component-file":"S3Generator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-xs%20mt-1%22%7D",children:w.description})]})]})},w.title))}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6","data-matrix-id":"src/components/S3Generator.tsx:237:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"237","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-blue-50%20rounded-xl%20p-4%20mb-6%22%7D",children:[x.jsx("h3",{className:"font-semibold text-blue-900 mb-2","data-matrix-id":"src/components/S3Generator.tsx:238:12","data-matrix-name":"h3","data-component-path":"src/components/S3Generator.tsx","data-component-line":"238","data-component-file":"S3Generator.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-blue-900%20mb-2%22%7D",children:"What will be created:"}),x.jsxs("ul",{className:"text-blue-800 text-sm space-y-1","data-matrix-id":"src/components/S3Generator.tsx:239:12","data-matrix-name":"ul","data-component-path":"src/components/S3Generator.tsx","data-component-line":"239","data-component-file":"S3Generator.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22text-blue-800%20text-sm%20space-y-1%22%7D",children:[x.jsx("li",{"data-matrix-id":"src/components/S3Generator.tsx:240:14","data-matrix-name":"li","data-component-path":"src/components/S3Generator.tsx","data-component-line":"240","data-component-file":"S3Generator.tsx","data-component-name":"li",children:" 3-5 micro-milestones per chapter (15-30 min each)"}),x.jsx("li",{"data-matrix-id":"src/components/S3Generator.tsx:241:14","data-matrix-name":"li","data-component-path":"src/components/S3Generator.tsx","data-component-line":"241","data-component-file":"S3Generator.tsx","data-component-name":"li",children:" Structured learning objectives and key concepts"}),x.jsx("li",{"data-matrix-id":"src/components/S3Generator.tsx:242:14","data-matrix-name":"li","data-component-path":"src/components/S3Generator.tsx","data-component-line":"242","data-component-file":"S3Generator.tsx","data-component-name":"li",children:" Adaptive difficulty based on your progress"}),x.jsx("li",{"data-matrix-id":"src/components/S3Generator.tsx:243:14","data-matrix-name":"li","data-component-path":"src/components/S3Generator.tsx","data-component-line":"243","data-component-file":"S3Generator.tsx","data-component-name":"li",children:" Spaced repetition cards for key concepts"}),x.jsx("li",{"data-matrix-id":"src/components/S3Generator.tsx:244:14","data-matrix-name":"li","data-component-path":"src/components/S3Generator.tsx","data-component-line":"244","data-component-file":"S3Generator.tsx","data-component-name":"li",children:" Visual progress tracking and achievements"})]})]}),x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/S3Generator.tsx:248:10","data-matrix-name":"div","data-component-path":"src/components/S3Generator.tsx","data-component-line":"248","data-component-file":"S3Generator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"w-full bg-primary text-primary-foreground py-4 rounded-xl font-medium",children:"Generate Learning Path"}),e&&x.jsx("button",{onClick:e,className:"w-full text-muted-foreground py-2","data-matrix-id":"src/components/S3Generator.tsx:259:14","data-matrix-name":"button","data-component-path":"src/components/S3Generator.tsx","data-component-line":"259","data-component-file":"S3Generator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20text-muted-foreground%20py-2%22%7D",children:"Cancel"})]})]})})}function zSt({bookId:n,bookContent:t,onFlashcardsGenerated:e}){const[a,r]=I.useState(!1),[i,o]=I.useState(10),[s,c]=I.useState(""),l=async()=>{var u;if(!t||t.length<100){Nt.error("Insufficient content to generate flashcards");return}r(!0),c("Analyzing content with AI...");try{const{data:h,error:f}=await kt.functions.invoke("generate-ai-flashcards",{body:{bookId:n,contentText:t,count:i}});if(f)throw f;const y=((u=h==null?void 0:h.data)==null?void 0:u.count)||(h==null?void 0:h.count)||0;c("Flashcards generated successfully!"),Nt.success(`Generated ${y} AI flashcards!`),setTimeout(()=>{e(y),r(!1),c("")},1e3)}catch(h){console.error("Flashcard generation error:",h),Nt.error(h.message||"Failed to generate flashcards"),r(!1),c("")}};return x.jsxs("div",{className:"bg-secondary rounded-2xl p-6 border border-border","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:64:4","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"64","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-secondary%20rounded-2xl%20p-6%20border%20border-border%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:65:6","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"65","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-4%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:66:8","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"66","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Pm,{className:"w-6 h-6 text-white","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:67:10","data-matrix-name":"Sparkles","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"67","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:69:8","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"69","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:70:10","data-matrix-name":"h3","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"70","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%22%7D",children:"AI Flashcard Generator"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:71:10","data-matrix-name":"p","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"71","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Powered by DeepSeek AI"})]})]}),x.jsx("p",{className:"text-gray-700 mb-4","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:75:6","data-matrix-name":"p","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"75","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-700%20mb-4%22%7D",children:"Let AI automatically create study flashcards from your book content using advanced language models."}),x.jsxs("div",{className:"mb-4","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:79:6","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"79","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%22%7D",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:80:8","data-matrix-name":"label","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"80","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Number of flashcards"}),x.jsxs("select",{value:i,onChange:u=>o(parseInt(u.target.value)),disabled:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:83:8","data-matrix-name":"select","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"83","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20px-4%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-purple-500%20focus%3Aborder-transparent%20disabled%3Aopacity-50%22%7D",children:[x.jsx("option",{value:5,"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:89:10","data-matrix-name":"option","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"89","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A5%7D",children:"5 flashcards"}),x.jsx("option",{value:10,"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:90:10","data-matrix-name":"option","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"90","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A10%7D",children:"10 flashcards"}),x.jsx("option",{value:15,"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:91:10","data-matrix-name":"option","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"91","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A15%7D",children:"15 flashcards"}),x.jsx("option",{value:20,"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:92:10","data-matrix-name":"option","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"92","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A20%7D",children:"20 flashcards"})]})]}),a&&s&&x.jsxs("div",{className:"mb-4 bg-purple-100 rounded-lg p-3 flex items-center gap-3","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:97:8","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"97","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%20bg-purple-100%20rounded-lg%20p-3%20flex%20items-center%20gap-3%22%7D",children:[x.jsx(gr,{className:"w-5 h-5 text-primary animate-spin","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:98:10","data-matrix-name":"Loader2","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"98","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%20animate-spin%22%7D"}),x.jsx("p",{className:"text-sm text-purple-900 font-medium","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:99:10","data-matrix-name":"p","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"99","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-purple-900%20font-medium%22%7D",children:s})]}),x.jsx("button",{onClick:l,disabled:a,className:"w-full py-3 bg-primary text-primary-foreground font-semibold rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:103:6","data-matrix-name":"button","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"103","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20py-3%20bg-primary%20text-primary-foreground%20font-semibold%20rounded-xl%20hover%3Ashadow-lg%20transition-all%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20flex%20items-center%20justify-center%20gap-2%22%7D",children:a?x.jsxs(x.Fragment,{children:[x.jsx(gr,{className:"w-5 h-5 animate-spin","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:110:12","data-matrix-name":"Loader2","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"110","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20animate-spin%22%7D"}),"Generating..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Un,{className:"w-5 h-5","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:115:12","data-matrix-name":"Brain","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"115","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Generate AI Flashcards"]})}),x.jsxs("div",{className:"mt-4 pt-4 border-t border-purple-200","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:121:6","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"121","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-4%20pt-4%20border-t%20border-purple-200%22%7D",children:[x.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:122:8","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"122","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%20text-xs%20text-muted-foreground%22%7D",children:[x.jsx(po,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:123:10","data-matrix-name":"CheckCircle","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"123","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-primary%20flex-shrink-0%20mt-0.5%22%7D"}),x.jsx("p",{"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:124:10","data-matrix-name":"p","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"124","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"p",children:"AI-generated flashcards are automatically added to your review system"})]}),x.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground mt-2","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:126:8","data-matrix-name":"div","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"126","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%20text-xs%20text-muted-foreground%20mt-2%22%7D",children:[x.jsx(po,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5","data-matrix-id":"src/components/AIFlashcardGenerator.tsx:127:10","data-matrix-name":"CheckCircle","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"127","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-primary%20flex-shrink-0%20mt-0.5%22%7D"}),x.jsx("p",{"data-matrix-id":"src/components/AIFlashcardGenerator.tsx:128:10","data-matrix-name":"p","data-component-path":"src/components/AIFlashcardGenerator.tsx","data-component-line":"128","data-component-file":"AIFlashcardGenerator.tsx","data-component-name":"p",children:"Uses spaced repetition algorithm for optimal learning"})]})]})]})}function qSt({bookId:n,bookTitle:t,extractedText:e}){const{showReviewModal:a,triggerReview:r,hideReviewModal:i}=MO(),[o,s]=I.useState(!1),[c,l]=I.useState(null),[u,h]=I.useState(!1),[f,y]=I.useState([]),[w,v]=I.useState(null),[b,S]=I.useState(0),[_,P]=I.useState(null),[E,C]=I.useState(!1),[T,B]=I.useState(0),[L,M]=I.useState(!1),[U,F]=I.useState(5);I.useEffect(()=>{G()},[n]);const G=async()=>{try{const{data:V,error:tt}=await kt.from("ai_generated_content").select("*").eq("book_id",n).eq("content_type","quiz").order("created_at",{ascending:!1});if(tt)throw tt;const nt=V.map(z=>({id:z.id,questions:z.content_data.questions||[],questionCount:z.content_data.questionCount||0,created_at:z.created_at}));y(nt)}catch(V){console.error("Error loading quizzes:",V)}},$=async()=>{var V,tt;if(!e){l("No book content available. Please ensure the book has been processed.");return}s(!0),l(null),h(!1);try{const{data:{session:nt}}=await kt.auth.getSession();if(!nt)throw new Error("Please log in to generate quizzes");const z=await fetch("undefined/functions/v1/generate-ai-quiz",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nt.access_token}`},body:JSON.stringify({bookId:n,contentText:e,questionCount:U})});if(!z.ok){const it=await z.json();throw new Error(((V=it.error)==null?void 0:V.message)||"Failed to generate quiz")}const K=await z.json();h(!0),await G(),(tt=K.data)!=null&&tt.quiz&&(v({id:K.data.quiz.id,questions:K.data.questions,questionCount:K.data.questionCount,created_at:K.data.quiz.created_at}),S(0),B(0),M(!1))}catch(nt){console.error("Quiz generation error:",nt),l(nt.message||"Failed to generate quiz")}finally{s(!1)}},H=V=>{if(E||(P(V),C(!0),!w))return;const tt=w.questions[b];V===tt.correctAnswer&&B(T+1)},X=()=>{w&&(b<w.questions.length-1?(S(b+1),P(null),C(!1)):(M(!0),r()))},Q=()=>{v(null),S(0),P(null),C(!1),B(0),M(!1)},W=V=>{v(V),S(0),P(null),C(!1),B(0),M(!1)};if(w&&!L){const V=w.questions[b],tt=["A","B","C","D"];return x.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:186:6","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"186","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-lg%20shadow-md%20p-6%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:187:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"187","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/AIQuizGenerator.tsx:188:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"188","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-xl font-bold text-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:189:12","data-matrix-name":"h3","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"189","data-component-file":"AIQuizGenerator.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%22%7D",children:"AI Quiz"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:190:12","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"190","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:t})]}),x.jsx("button",{onClick:Q,className:"text-sm text-muted-foreground hover:text-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:192:10","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"192","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-sm%20text-muted-foreground%20hover%3Atext-foreground%22%7D",children:"Exit Quiz"})]}),x.jsxs("div",{className:"mb-4","data-matrix-id":"src/components/AIQuizGenerator.tsx:200:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"200","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:201:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"201","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-2%22%7D",children:[x.jsxs("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:202:12","data-matrix-name":"span","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"202","data-component-file":"AIQuizGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Question ",b+1," of ",w.questions.length]}),x.jsxs("span",{className:"text-sm font-medium text-indigo-600","data-matrix-id":"src/components/AIQuizGenerator.tsx:205:12","data-matrix-name":"span","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"205","data-component-file":"AIQuizGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-indigo-600%22%7D",children:["Score: ",T,"/",w.questions.length]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:209:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"209","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-2%22%7D",children:x.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(b+1)/w.questions.length*100}%`},"data-matrix-id":"src/components/AIQuizGenerator.tsx:210:12","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"210","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-indigo-600%20h-2%20rounded-full%20transition-all%20duration-300%22%2C%22style%22%3A%7B%22width%22%3A%22%5BTemplateLiteral%5D%22%7D%7D"})})]}),x.jsxs("div",{className:"mb-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:217:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"217","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[x.jsxs("div",{className:"flex items-start mb-4","data-matrix-id":"src/components/AIQuizGenerator.tsx:218:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"218","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20mb-4%22%7D",children:[x.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded ${V.difficulty==="easy"?"bg-green-100 text-green-800":V.difficulty==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,"data-matrix-id":"src/components/AIQuizGenerator.tsx:219:12","data-matrix-name":"span","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"219","data-component-file":"AIQuizGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:V.difficulty}),x.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-muted text-foreground rounded","data-matrix-id":"src/components/AIQuizGenerator.tsx:226:12","data-matrix-name":"span","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"226","data-component-file":"AIQuizGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20px-2%20py-1%20text-xs%20font-medium%20bg-muted%20text-foreground%20rounded%22%7D",children:V.topic})]}),x.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4","data-matrix-id":"src/components/AIQuizGenerator.tsx:230:10","data-matrix-name":"h4","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"230","data-component-file":"AIQuizGenerator.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%20mb-4%22%7D",children:V.question})]}),x.jsx("div",{className:"space-y-3 mb-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:235:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"235","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20mb-6%22%7D",children:V.options.map((nt,z)=>{const K=tt[z],it=_===K,ft=K===V.correctAnswer;let ct="w-full text-left p-4 rounded-lg border-2 transition-all ";return E?ft?ct+="border-green-500 bg-green-50":it&&!ft?ct+="border-red-500 bg-red-50":ct+="border-gray-300 bg-muted":ct+=it?"border-indigo-600 bg-indigo-50":"border-gray-300 hover:border-indigo-300",x.jsx("button",{onClick:()=>H(K),disabled:E,className:ct,"data-matrix-id":"src/components/AIQuizGenerator.tsx:258:14","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"258","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BIdentifier%5D%22%7D",children:x.jsxs("div",{className:"flex items-center","data-matrix-id":"src/components/AIQuizGenerator.tsx:264:16","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"264","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",children:[x.jsxs("span",{className:"font-bold mr-3 text-gray-700","data-matrix-id":"src/components/AIQuizGenerator.tsx:265:18","data-matrix-name":"span","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"265","data-component-file":"AIQuizGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-bold%20mr-3%20text-gray-700%22%7D",children:[K,"."]}),x.jsx("span",{className:"text-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:266:18","data-matrix-name":"span","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"266","data-component-file":"AIQuizGenerator.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-foreground%22%7D",children:nt}),E&&ft&&x.jsx(po,{className:"ml-auto text-primary",size:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:268:20","data-matrix-name":"CheckCircle","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"268","data-component-file":"AIQuizGenerator.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22ml-auto%20text-primary%22%2C%22size%22%3A20%7D"})]})},z)})}),E&&x.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg","data-matrix-id":"src/components/AIQuizGenerator.tsx:277:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"277","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%20p-4%20bg-blue-50%20border%20border-blue-200%20rounded-lg%22%7D",children:[x.jsx("h5",{className:"font-semibold text-blue-900 mb-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:278:12","data-matrix-name":"h5","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"278","data-component-file":"AIQuizGenerator.tsx","data-component-name":"h5","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-blue-900%20mb-2%22%7D",children:"Explanation:"}),x.jsx("p",{className:"text-blue-800","data-matrix-id":"src/components/AIQuizGenerator.tsx:279:12","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"279","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-blue-800%22%7D",children:V.explanation})]}),E&&x.jsxs("button",{onClick:X,className:"w-full py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:opacity-90 transition-opacity flex items-center justify-center","data-matrix-id":"src/components/AIQuizGenerator.tsx:284:10","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"284","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20py-3%20bg-primary%20text-primary-foreground%20rounded-lg%20font-semibold%20hover%3Aopacity-90%20transition-opacity%20flex%20items-center%20justify-center%22%7D",children:[b<w.questions.length-1?"Next Question":"Finish Quiz",x.jsx(qw,{size:20,className:"ml-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:289:12","data-matrix-name":"ChevronRight","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"289","data-component-file":"AIQuizGenerator.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22size%22%3A20%2C%22className%22%3A%22ml-2%22%7D"})]})]})}if(w&&L){const V=Math.round(T/w.questions.length*100);return x.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6 text-center","data-matrix-id":"src/components/AIQuizGenerator.tsx:300:6","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"300","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-lg%20shadow-md%20p-6%20text-center%22%7D",children:[x.jsxs("div",{className:"mb-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:301:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"301","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[x.jsx(uc,{size:64,className:"mx-auto text-yellow-500 mb-4","data-matrix-id":"src/components/AIQuizGenerator.tsx:302:10","data-matrix-name":"Trophy","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"302","data-component-file":"AIQuizGenerator.tsx","data-component-name":"Trophy","data-component-content":"%7B%22size%22%3A64%2C%22className%22%3A%22mx-auto%20text-yellow-500%20mb-4%22%7D"}),x.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:303:10","data-matrix-name":"h3","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"303","data-component-file":"AIQuizGenerator.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Quiz Complete!"}),x.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:304:10","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"304","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Great job on completing the quiz"})]}),x.jsxs("div",{className:"mb-6 p-6 bg-secondary rounded-lg","data-matrix-id":"src/components/AIQuizGenerator.tsx:307:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"307","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%20p-6%20bg-secondary%20rounded-lg%22%7D",children:[x.jsxs("div",{className:"text-5xl font-bold text-indigo-600 mb-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:308:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"308","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-5xl%20font-bold%20text-indigo-600%20mb-2%22%7D",children:[V,"%"]}),x.jsxs("p",{className:"text-lg text-gray-700","data-matrix-id":"src/components/AIQuizGenerator.tsx:311:10","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"311","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-lg%20text-gray-700%22%7D",children:[T," out of ",w.questions.length," correct"]})]}),x.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/AIQuizGenerator.tsx:316:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"316","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[x.jsx("button",{onClick:Q,className:"w-full py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:opacity-90 transition-opacity","data-matrix-id":"src/components/AIQuizGenerator.tsx:317:10","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"317","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20py-3%20bg-primary%20text-primary-foreground%20rounded-lg%20font-semibold%20hover%3Aopacity-90%20transition-opacity%22%7D",children:"Back to Quizzes"}),x.jsx("button",{onClick:()=>W(w),className:"w-full py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-muted/80 transition-colors","data-matrix-id":"src/components/AIQuizGenerator.tsx:323:10","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"323","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20py-3%20bg-gray-200%20text-gray-700%20rounded-lg%20font-semibold%20hover%3Abg-muted%2F80%20transition-colors%22%7D",children:"Retake Quiz"})]})]})}return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:336:4","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"336","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-lg%20shadow-md%20p-6%22%7D",children:[x.jsxs("div",{className:"flex items-center mb-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:337:6","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"337","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20mb-6%22%7D",children:[x.jsx(Un,{className:"text-indigo-600 mr-3",size:24,"data-matrix-id":"src/components/AIQuizGenerator.tsx:338:8","data-matrix-name":"Brain","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"338","data-component-file":"AIQuizGenerator.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22text-indigo-600%20mr-3%22%2C%22size%22%3A24%7D"}),x.jsxs("div",{"data-matrix-id":"src/components/AIQuizGenerator.tsx:339:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"339","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-xl font-bold text-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:340:10","data-matrix-name":"h3","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"340","data-component-file":"AIQuizGenerator.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%22%7D",children:"AI Quiz Generator"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:341:10","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"341","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Test your knowledge with AI-generated quizzes"})]})]}),c&&x.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start","data-matrix-id":"src/components/AIQuizGenerator.tsx:346:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"346","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%20p-4%20bg-red-50%20border%20border-red-200%20rounded-lg%20flex%20items-start%22%7D",children:[x.jsx(gU,{className:"text-red-600 mr-2 flex-shrink-0",size:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:347:10","data-matrix-name":"AlertCircle","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"347","data-component-file":"AIQuizGenerator.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22text-red-600%20mr-2%20flex-shrink-0%22%2C%22size%22%3A20%7D"}),x.jsx("p",{className:"text-red-800","data-matrix-id":"src/components/AIQuizGenerator.tsx:348:10","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"348","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-800%22%7D",children:c})]}),u&&x.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start","data-matrix-id":"src/components/AIQuizGenerator.tsx:353:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"353","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-4%20p-4%20bg-green-50%20border%20border-green-200%20rounded-lg%20flex%20items-start%22%7D",children:[x.jsx(po,{className:"text-primary mr-2 flex-shrink-0",size:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:354:10","data-matrix-name":"CheckCircle","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"354","data-component-file":"AIQuizGenerator.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22text-primary%20mr-2%20flex-shrink-0%22%2C%22size%22%3A20%7D"}),x.jsx("p",{className:"text-green-800","data-matrix-id":"src/components/AIQuizGenerator.tsx:355:10","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"355","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-green-800%22%7D",children:"Quiz generated successfully!"})]}),x.jsxs("div",{className:"mb-6","data-matrix-id":"src/components/AIQuizGenerator.tsx:359:6","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"359","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:360:8","data-matrix-name":"label","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"360","data-component-file":"AIQuizGenerator.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-2%22%7D",children:"Number of Questions"}),x.jsxs("select",{value:U,onChange:V=>F(Number(V.target.value)),disabled:o,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent","data-matrix-id":"src/components/AIQuizGenerator.tsx:363:8","data-matrix-name":"select","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"363","data-component-file":"AIQuizGenerator.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20px-4%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-indigo-500%20focus%3Aborder-transparent%22%7D",children:[x.jsx("option",{value:5,"data-matrix-id":"src/components/AIQuizGenerator.tsx:369:10","data-matrix-name":"option","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"369","data-component-file":"AIQuizGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A5%7D",children:"5 Questions"}),x.jsx("option",{value:10,"data-matrix-id":"src/components/AIQuizGenerator.tsx:370:10","data-matrix-name":"option","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"370","data-component-file":"AIQuizGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A10%7D",children:"10 Questions"}),x.jsx("option",{value:15,"data-matrix-id":"src/components/AIQuizGenerator.tsx:371:10","data-matrix-name":"option","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"371","data-component-file":"AIQuizGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A15%7D",children:"15 Questions"}),x.jsx("option",{value:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:372:10","data-matrix-name":"option","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"372","data-component-file":"AIQuizGenerator.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A20%7D",children:"20 Questions"})]})]}),x.jsx("button",{onClick:$,disabled:o,className:"w-full mb-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:opacity-90 disabled:bg-gray-400 disabled:cursor-not-allowed transition-opacity flex items-center justify-center","data-matrix-id":"src/components/AIQuizGenerator.tsx:376:6","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"376","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20mb-6%20py-3%20bg-primary%20text-primary-foreground%20rounded-lg%20font-semibold%20hover%3Aopacity-90%20disabled%3Abg-gray-400%20disabled%3Acursor-not-allowed%20transition-opacity%20flex%20items-center%20justify-center%22%7D",children:o?x.jsxs(x.Fragment,{children:[x.jsx(gr,{className:"animate-spin mr-2",size:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:383:12","data-matrix-name":"Loader2","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"383","data-component-file":"AIQuizGenerator.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22animate-spin%20mr-2%22%2C%22size%22%3A20%7D"}),"Generating Quiz..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Un,{className:"mr-2",size:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:388:12","data-matrix-name":"Brain","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"388","data-component-file":"AIQuizGenerator.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22mr-2%22%2C%22size%22%3A20%7D"}),"Generate New Quiz"]})}),f.length>0&&x.jsxs("div",{"data-matrix-id":"src/components/AIQuizGenerator.tsx:395:8","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"395","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div",children:[x.jsx("h4",{className:"font-semibold text-foreground mb-3","data-matrix-id":"src/components/AIQuizGenerator.tsx:396:10","data-matrix-name":"h4","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"396","data-component-file":"AIQuizGenerator.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20mb-3%22%7D",children:"Previous Quizzes"}),x.jsx("div",{className:"space-y-2","data-matrix-id":"src/components/AIQuizGenerator.tsx:397:10","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"397","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:f.map(V=>x.jsxs("button",{onClick:()=>W(V),className:"w-full p-4 border border-gray-300 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-all text-left flex items-center justify-between","data-matrix-id":"src/components/AIQuizGenerator.tsx:399:14","data-matrix-name":"button","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"399","data-component-file":"AIQuizGenerator.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20p-4%20border%20border-gray-300%20rounded-lg%20hover%3Aborder-indigo-500%20hover%3Abg-indigo-50%20transition-all%20text-left%20flex%20items-center%20justify-between%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/AIQuizGenerator.tsx:404:16","data-matrix-name":"div","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"404","data-component-file":"AIQuizGenerator.tsx","data-component-name":"div",children:[x.jsxs("p",{className:"font-medium text-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:405:18","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"405","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:[V.questionCount," Questions"]}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AIQuizGenerator.tsx:408:18","data-matrix-name":"p","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"408","data-component-file":"AIQuizGenerator.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:new Date(V.created_at).toLocaleDateString()})]}),x.jsx(qw,{className:"text-gray-400",size:20,"data-matrix-id":"src/components/AIQuizGenerator.tsx:412:16","data-matrix-name":"ChevronRight","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"412","data-component-file":"AIQuizGenerator.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22text-gray-400%22%2C%22size%22%3A20%7D"})]},V.id))})]})]}),a&&x.jsx(FO,{onClose:i,sessionType:"quiz","data-matrix-id":"src/components/AIQuizGenerator.tsx:422:6","data-matrix-name":"ReviewModal","data-component-path":"src/components/AIQuizGenerator.tsx","data-component-line":"422","data-component-file":"AIQuizGenerator.tsx","data-component-name":"ReviewModal","data-component-content":"%7B%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22sessionType%22%3A%22quiz%22%7D"})]})}function HSt(){const{id:n}=XJ(),t=Ia(),{user:e}=qe(),[a,r]=I.useState(null),[i,o]=I.useState([]),[s,c]=I.useState(!0),[l,u]=I.useState(!1),[h,f]=I.useState("overview"),[y,w]=I.useState(!1),[v,b]=I.useState(!1),[S,_]=I.useState(!1),[P,E]=I.useState(null),[C,T]=I.useState(!1);I.useEffect(()=>{n&&B()},[n]);const B=async()=>{try{c(!0);const{data:$,error:H}=await kt.from("books").select("*").eq("id",n).single();if(H)throw H;r($);const{data:X,error:Q}=await kt.from("book_chapters").select("*").eq("book_id",n).order("chapter_number",{ascending:!0});if(Q)throw Q;o(X||[]),await L($)}catch($){console.error("Error loading book details:",$),Nt.error("Failed to load book details")}finally{c(!1)}},L=async $=>{try{T(!0);const{data:H,error:X}=await kt.from("projects").select("*").eq("book_id",$.id).eq("user_id",e==null?void 0:e.id).eq("project_type","s3_learning_path").single();if(X&&X.code!=="PGRST116")throw X;H&&E(H)}catch(H){console.error("Error checking learning path:",H)}finally{T(!1)}},M=async()=>{try{u(!0),Nt.loading("Retrying AI analysis...",{id:"retry"});const{error:$}=await kt.from("books").update({processing_status:"uploaded",ai_analysis:null}).eq("id",a.id);if($)throw $;Nt.success("Book reset for reprocessing. AI analysis will start automatically.",{id:"retry"}),setTimeout(()=>{B()},1500)}catch($){console.error("Retry error:",$),Nt.error("Failed to retry analysis. Please try again.",{id:"retry"})}finally{u(!1)}},U=$=>{switch($==null?void 0:$.toLowerCase()){case"beginner":return"text-primary bg-green-100";case"intermediate":return"text-primary bg-blue-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-muted-foreground bg-gray-100"}},F=[{key:"overview",label:"Overview",icon:Ac},{key:"learn",label:"Learn (S3)",icon:Un},{key:"tools",label:"Study Tools",icon:Pm}],G=a==null?void 0:a.ai_analysis;return s?x.jsx("div",{className:"min-h-screen flex items-center justify-center","data-matrix-id":"src/pages/BookDetailPage.tsx:167:6","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"167","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%20items-center%20justify-center%22%7D",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary","data-matrix-id":"src/pages/BookDetailPage.tsx:168:8","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"168","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-b-2%20border-primary%22%7D"})}):a?x.jsxs("div",{className:"min-h-screen pb-24","data-matrix-id":"src/pages/BookDetailPage.tsx:189:4","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"189","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20pb-24%22%7D",children:[x.jsxs("div",{className:"bg-card border-b border-border px-4 sm:px-6 pt-8 sm:pt-12 pb-6 sm:pb-8 rounded-b-3xl shadow-lg","data-matrix-id":"src/pages/BookDetailPage.tsx:191:6","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"191","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border-b%20border-border%20px-4%20sm%3Apx-6%20pt-8%20sm%3Apt-12%20pb-6%20sm%3Apb-8%20rounded-b-3xl%20shadow-lg%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6","data-matrix-id":"src/pages/BookDetailPage.tsx:192:8","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"192","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20sm%3Agap-4%20mb-4%20sm%3Amb-6%22%7D",children:[x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/library"),className:"w-10 h-10 sm:w-12 sm:h-12 bg-secondary rounded-full flex items-center justify-center",children:x.jsx(mU,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary","data-matrix-id":"src/pages/BookDetailPage.tsx:199:12","data-matrix-name":"ArrowLeft","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"199","data-component-file":"BookDetailPage.tsx","data-component-name":"ArrowLeft","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-primary%22%7D"})}),x.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/BookDetailPage.tsx:201:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"201","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[x.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:202:12","data-matrix-name":"h1","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"202","data-component-file":"BookDetailPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-foreground%22%7D",children:a.title}),x.jsxs("p",{className:"text-muted-foreground text-sm sm:text-base","data-matrix-id":"src/pages/BookDetailPage.tsx:203:12","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"203","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%20sm%3Atext-base%22%7D",children:["by ",a.author]})]})]}),x.jsx("div",{className:"flex gap-2 overflow-x-auto","data-matrix-id":"src/pages/BookDetailPage.tsx:208:8","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"208","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20overflow-x-auto%22%7D",children:F.map($=>{const H=$.icon;return x.jsxs(st.button,{whileTap:{scale:.95},onClick:()=>f($.key),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all whitespace-nowrap ${h===$.key?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-muted"}`,children:[x.jsx(H,{className:"w-4 h-4","data-matrix-id":"src/pages/BookDetailPage.tsx:222:16","data-matrix-name":"Icon","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"222","data-component-file":"BookDetailPage.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),x.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/pages/BookDetailPage.tsx:223:16","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"223","data-component-file":"BookDetailPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:$.label})]},$.key)})})]}),x.jsxs("div",{className:"px-4 sm:px-6 mt-4 sm:mt-6","data-matrix-id":"src/pages/BookDetailPage.tsx:231:6","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"231","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20sm%3Apx-6%20mt-4%20sm%3Amt-6%22%7D",children:[h==="overview"&&x.jsxs("div",{className:"space-y-6","data-matrix-id":"src/pages/BookDetailPage.tsx:233:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"233","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[x.jsxs("div",{className:"flex gap-4","data-matrix-id":"src/pages/BookDetailPage.tsx:235:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"235","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-4%22%7D",children:[x.jsx("div",{className:"w-32 h-44 bg-primary rounded-xl flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/BookDetailPage.tsx:236:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"236","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-32%20h-44%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:x.jsx(xU,{className:"w-16 h-16 text-primary-foreground opacity-50","data-matrix-id":"src/pages/BookDetailPage.tsx:237:16","data-matrix-name":"FileText","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"237","data-component-file":"BookDetailPage.tsx","data-component-name":"FileText","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20text-primary-foreground%20opacity-50%22%7D"})}),x.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/BookDetailPage.tsx:239:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"239","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/BookDetailPage.tsx:240:16","data-matrix-name":"h2","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"240","data-component-file":"BookDetailPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%22%7D",children:a.title}),x.jsxs("p",{className:"text-lg text-muted-foreground mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:243:16","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"243","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-lg%20text-muted-foreground%20mb-3%22%7D",children:["by ",a.author]}),a.genre&&x.jsxs("p",{className:"text-sm text-muted-foreground mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:247:18","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"247","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mb-3%22%7D",children:["Genre: ",a.genre]}),G&&x.jsxs("div",{className:"flex flex-wrap gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:252:18","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"252","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:[G.difficulty&&x.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${U(G.difficulty)}`,"data-matrix-id":"src/pages/BookDetailPage.tsx:254:22","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"254","data-component-file":"BookDetailPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:G.difficulty}),G.estimatedMinutes&&x.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium flex items-center gap-1","data-matrix-id":"src/pages/BookDetailPage.tsx:259:22","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"259","data-component-file":"BookDetailPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-3%20py-1%20bg-gray-100%20text-gray-700%20rounded-full%20text-sm%20font-medium%20flex%20items-center%20gap-1%22%7D",children:[x.jsx(xr,{className:"w-4 h-4","data-matrix-id":"src/pages/BookDetailPage.tsx:260:24","data-matrix-name":"Clock","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"260","data-component-file":"BookDetailPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),G.estimatedMinutes," min"]})]})]})]}),(G==null?void 0:G.summary)&&x.jsxs("div",{className:"bg-muted rounded-2xl p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:271:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"271","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%20rounded-2xl%20p-4%22%7D",children:[x.jsxs("h3",{className:"font-semibold text-foreground mb-2 flex items-center gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:272:16","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"272","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20mb-2%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(Ac,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/BookDetailPage.tsx:273:18","data-matrix-name":"BookOpen","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"273","data-component-file":"BookDetailPage.tsx","data-component-name":"BookOpen","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),"Summary"]}),x.jsx("p",{className:"text-gray-700 leading-relaxed","data-matrix-id":"src/pages/BookDetailPage.tsx:276:16","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"276","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-700%20leading-relaxed%22%7D",children:G.summary})]}),a.processing_status==="failed"&&x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:284:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"284","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-red-50%20border%20border-red-200%20rounded-2xl%20p-4%22%7D",children:[x.jsxs("h3",{className:"font-semibold text-red-900 mb-2 flex items-center gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:285:16","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"285","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-red-900%20mb-2%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(mc,{className:"w-5 h-5 text-red-600","data-matrix-id":"src/pages/BookDetailPage.tsx:286:18","data-matrix-name":"X","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"286","data-component-file":"BookDetailPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-red-600%22%7D"}),"AI Analysis Failed"]}),x.jsx("p",{className:"text-red-700 text-sm mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:289:16","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"289","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-700%20text-sm%20mb-3%22%7D",children:"The AI analysis could not be completed for this book. This may be due to the file format, content structure, or processing errors."}),x.jsx("button",{onClick:M,disabled:l,className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-matrix-id":"src/pages/BookDetailPage.tsx:292:16","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"292","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-red-600%20text-white%20text-sm%20font-medium%20rounded-lg%20hover%3Abg-red-700%20transition-colors%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%22%7D",children:l?"Retrying...":"Retry Analysis"})]}),a.processing_status==="analyzing"&&x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:304:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"304","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-blue-50%20border%20border-blue-200%20rounded-2xl%20p-4%22%7D",children:[x.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:305:16","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"305","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-blue-900%20mb-2%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(xr,{className:"w-5 h-5 text-primary animate-pulse","data-matrix-id":"src/pages/BookDetailPage.tsx:306:18","data-matrix-name":"Clock","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"306","data-component-file":"BookDetailPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%20animate-pulse%22%7D"}),"AI Analysis In Progress"]}),x.jsx("p",{className:"text-blue-700 text-sm","data-matrix-id":"src/pages/BookDetailPage.tsx:309:16","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"309","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-blue-700%20text-sm%22%7D",children:"Our AI is analyzing your book content. This usually takes 10-30 seconds. The page will update automatically when complete."})]}),(G==null?void 0:G.topics)&&G.topics.length>0&&x.jsxs("div",{"data-matrix-id":"src/pages/BookDetailPage.tsx:317:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"317","data-component-file":"BookDetailPage.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-foreground mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:318:16","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"318","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20mb-3%22%7D",children:"Main Topics"}),x.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:319:16","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"319","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:G.topics.map(($,H)=>x.jsx("span",{className:"px-3 py-2 bg-blue-50 text-blue-700 rounded-xl text-sm font-medium","data-matrix-id":"src/pages/BookDetailPage.tsx:321:20","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"321","data-component-file":"BookDetailPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-3%20py-2%20bg-blue-50%20text-blue-700%20rounded-xl%20text-sm%20font-medium%22%7D",children:$},H))})]}),(G==null?void 0:G.learningObjectives)&&G.learningObjectives.length>0&&x.jsxs("div",{"data-matrix-id":"src/pages/BookDetailPage.tsx:334:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"334","data-component-file":"BookDetailPage.tsx","data-component-name":"div",children:[x.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:335:16","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"335","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20mb-3%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(n2,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/BookDetailPage.tsx:336:18","data-matrix-name":"Target","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"336","data-component-file":"BookDetailPage.tsx","data-component-name":"Target","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),"Learning Objectives"]}),x.jsx("ul",{className:"space-y-2","data-matrix-id":"src/pages/BookDetailPage.tsx:339:16","data-matrix-name":"ul","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"339","data-component-file":"BookDetailPage.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:G.learningObjectives.map(($,H)=>x.jsxs("li",{className:"flex items-start gap-2 text-gray-700","data-matrix-id":"src/pages/BookDetailPage.tsx:341:20","data-matrix-name":"li","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"341","data-component-file":"BookDetailPage.tsx","data-component-name":"li","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%20text-gray-700%22%7D",children:[x.jsx(qw,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5","data-matrix-id":"src/pages/BookDetailPage.tsx:342:22","data-matrix-name":"ChevronRight","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"342","data-component-file":"BookDetailPage.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%20flex-shrink-0%20mt-0.5%22%7D"}),x.jsx("span",{"data-matrix-id":"src/pages/BookDetailPage.tsx:343:22","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"343","data-component-file":"BookDetailPage.tsx","data-component-name":"span",children:$})]},H))})]}),i.length>0&&x.jsxs("div",{"data-matrix-id":"src/pages/BookDetailPage.tsx:352:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"352","data-component-file":"BookDetailPage.tsx","data-component-name":"div",children:[x.jsxs("h3",{className:"font-semibold text-foreground mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:353:16","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"353","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%20mb-3%22%7D",children:["Chapters (",i.length,")"]}),x.jsx("div",{className:"space-y-3","data-matrix-id":"src/pages/BookDetailPage.tsx:356:16","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"356","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:i.map($=>x.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 hover:border-blue-300 transition-colors","data-matrix-id":"src/pages/BookDetailPage.tsx:358:20","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"358","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border%20border-border%20rounded-xl%20p-4%20hover%3Aborder-blue-300%20transition-colors%22%7D",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2","data-matrix-id":"src/pages/BookDetailPage.tsx:362:22","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"362","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%20mb-2%22%7D",children:[x.jsxs("h4",{className:"font-semibold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:363:24","data-matrix-name":"h4","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"363","data-component-file":"BookDetailPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:[$.chapter_number,". ",$.title]}),$.estimated_minutes&&x.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1 flex-shrink-0 ml-2","data-matrix-id":"src/pages/BookDetailPage.tsx:367:26","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"367","data-component-file":"BookDetailPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20flex%20items-center%20gap-1%20flex-shrink-0%20ml-2%22%7D",children:[x.jsx(xr,{className:"w-3 h-3","data-matrix-id":"src/pages/BookDetailPage.tsx:368:28","data-matrix-name":"Clock","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"368","data-component-file":"BookDetailPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),$.estimated_minutes,"m"]})]}),$.summary&&x.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-matrix-id":"src/pages/BookDetailPage.tsx:374:24","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"374","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mb-2%22%7D",children:$.summary}),$.difficulty_level&&x.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${U($.difficulty_level)}`,"data-matrix-id":"src/pages/BookDetailPage.tsx:379:24","data-matrix-name":"span","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"379","data-component-file":"BookDetailPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:$.difficulty_level})]},$.id))})]})]}),h==="learn"&&x.jsxs("div",{className:"space-y-6","data-matrix-id":"src/pages/BookDetailPage.tsx:392:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"392","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[a.processing_status==="completed"&&G&&x.jsx("div",{className:"space-y-4","data-matrix-id":"src/pages/BookDetailPage.tsx:394:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"394","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:P?x.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:396:18","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"396","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-green-50%20border%20border-green-200%20rounded-2xl%20p-4%22%7D",children:[x.jsxs("h3",{className:"font-semibold text-green-900 mb-2 flex items-center gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:397:20","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"397","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-green-900%20mb-2%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(dJ,{className:"w-5 h-5 text-green-600","data-matrix-id":"src/pages/BookDetailPage.tsx:398:22","data-matrix-name":"MapPin","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"398","data-component-file":"BookDetailPage.tsx","data-component-name":"MapPin","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-green-600%22%7D"}),"Learning Path Active"]}),x.jsxs("p",{className:"text-green-700 text-sm mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:401:20","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"401","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-green-700%20text-sm%20mb-3%22%7D",children:["You have an active learning path for this book (",P.completion_percentage,"% complete)"]}),x.jsx("button",{onClick:()=>t("/learn"),className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors","data-matrix-id":"src/pages/BookDetailPage.tsx:404:20","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"404","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-green-600%20text-white%20text-sm%20font-medium%20rounded-lg%20hover%3Abg-green-700%20transition-colors%22%7D",children:"Continue Learning Path"})]}):x.jsx("div",{className:"space-y-4","data-matrix-id":"src/pages/BookDetailPage.tsx:412:18","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"412","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:413:20","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"413","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-blue-50%20border%20border-blue-200%20rounded-2xl%20p-4%22%7D",children:[x.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2","data-matrix-id":"src/pages/BookDetailPage.tsx:414:22","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"414","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-blue-900%20mb-2%20flex%20items-center%20gap-2%22%7D",children:[x.jsx(Un,{className:"w-5 h-5 text-primary","data-matrix-id":"src/pages/BookDetailPage.tsx:415:24","data-matrix-name":"Brain","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"415","data-component-file":"BookDetailPage.tsx","data-component-name":"Brain","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D"}),"Create S3 Learning Path"]}),x.jsx("p",{className:"text-blue-700 text-sm mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:418:22","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"418","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-blue-700%20text-sm%20mb-3%22%7D",children:"Generate an AI-powered learning path from this book's content"}),x.jsx("button",{onClick:()=>w(!0),disabled:C,className:"px-4 py-2 bg-primary text-primary-foreground text-sm font-medium rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-matrix-id":"src/pages/BookDetailPage.tsx:421:22","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"421","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-primary%20text-primary-foreground%20text-sm%20font-medium%20rounded-lg%20hover%3Abg-primary%2F90%20transition-colors%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%22%7D",children:C?"Checking...":"Create Learning Path"})]})})}),a.processing_status!=="completed"&&x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 text-center","data-matrix-id":"src/pages/BookDetailPage.tsx:435:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"435","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-yellow-50%20border%20border-yellow-200%20rounded-2xl%20p-4%20text-center%22%7D",children:x.jsx("p",{className:"text-yellow-700","data-matrix-id":"src/pages/BookDetailPage.tsx:436:16","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"436","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-yellow-700%22%7D",children:"Complete AI analysis first to unlock learning features"})})]}),h==="tools"&&x.jsx("div",{className:"space-y-6","data-matrix-id":"src/pages/BookDetailPage.tsx:443:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"443","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:a.processing_status==="completed"&&G?x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4","data-matrix-id":"src/pages/BookDetailPage.tsx:445:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"445","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20gap-4%22%7D",children:[x.jsx(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>b(!0),className:"p-6 bg-white rounded-2xl shadow-lg border border-border hover:shadow-xl transition-all text-left",children:x.jsxs("div",{className:"flex items-center gap-3 mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:452:18","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"452","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-3%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center","data-matrix-id":"src/pages/BookDetailPage.tsx:453:20","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"453","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Pm,{className:"w-6 h-6 text-primary-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:454:22","data-matrix-name":"Sparkles","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"454","data-component-file":"BookDetailPage.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-primary-foreground%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/BookDetailPage.tsx:456:20","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"456","data-component-file":"BookDetailPage.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:457:22","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"457","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:"AI Flashcards"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:458:22","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"458","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Generate flashcards automatically"})]})]})}),x.jsx(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>_(!0),className:"p-6 bg-white rounded-2xl shadow-lg border border-border hover:shadow-xl transition-all text-left",children:x.jsxs("div",{className:"flex items-center gap-3 mb-3","data-matrix-id":"src/pages/BookDetailPage.tsx:469:18","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"469","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-3%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center","data-matrix-id":"src/pages/BookDetailPage.tsx:470:20","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"470","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-primary%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(zw,{className:"w-6 h-6 text-primary-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:471:22","data-matrix-name":"Award","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"471","data-component-file":"BookDetailPage.tsx","data-component-name":"Award","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-primary-foreground%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/pages/BookDetailPage.tsx:473:20","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"473","data-component-file":"BookDetailPage.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:474:22","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"474","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:"AI Quiz"}),x.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:475:22","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"475","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Test your knowledge"})]})]})})]}):x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 text-center","data-matrix-id":"src/pages/BookDetailPage.tsx:481:14","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"481","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-yellow-50%20border%20border-yellow-200%20rounded-2xl%20p-4%20text-center%22%7D",children:x.jsx("p",{className:"text-yellow-700","data-matrix-id":"src/pages/BookDetailPage.tsx:482:16","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"482","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-yellow-700%22%7D",children:"Complete AI analysis first to unlock study tools"})})})]}),y&&x.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:491:8","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"491","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:x.jsxs("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto bg-card rounded-3xl","data-matrix-id":"src/pages/BookDetailPage.tsx:492:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"492","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-2xl%20w-full%20max-h-%5B90vh%5D%20overflow-y-auto%20bg-card%20rounded-3xl%22%7D",children:[x.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between","data-matrix-id":"src/pages/BookDetailPage.tsx:493:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"493","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22sticky%20top-0%20bg-card%20border-b%20border-border%20p-4%20flex%20items-center%20justify-between%22%7D",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:494:14","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"494","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%22%7D",children:"Create Learning Path"}),x.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-muted rounded-full transition-colors","data-matrix-id":"src/pages/BookDetailPage.tsx:495:14","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"495","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-muted%20rounded-full%20transition-colors%22%7D",children:x.jsx(mc,{className:"w-5 h-5 text-muted-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:499:16","data-matrix-name":"X","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"499","data-component-file":"BookDetailPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-muted-foreground%22%7D"})})]}),x.jsx("div",{className:"p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:502:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"502","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",children:x.jsx(USt,{book:a,onSuccess:()=>{w(!1),L(a)},onClose:()=>w(!1),"data-matrix-id":"src/pages/BookDetailPage.tsx:503:14","data-matrix-name":"S3Generator","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"503","data-component-file":"BookDetailPage.tsx","data-component-name":"S3Generator","data-component-content":"%7B%22book%22%3A%22%5BIdentifier%5D%22%2C%22onSuccess%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%7D"})})]})}),v&&x.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:518:8","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"518","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:x.jsxs("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto bg-card rounded-3xl","data-matrix-id":"src/pages/BookDetailPage.tsx:519:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"519","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-2xl%20w-full%20max-h-%5B90vh%5D%20overflow-y-auto%20bg-card%20rounded-3xl%22%7D",children:[x.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between","data-matrix-id":"src/pages/BookDetailPage.tsx:520:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"520","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22sticky%20top-0%20bg-card%20border-b%20border-border%20p-4%20flex%20items-center%20justify-between%22%7D",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:521:14","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"521","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%22%7D",children:"AI Flashcards"}),x.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-muted rounded-full transition-colors","data-matrix-id":"src/pages/BookDetailPage.tsx:522:14","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"522","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-muted%20rounded-full%20transition-colors%22%7D",children:x.jsx(mc,{className:"w-5 h-5 text-muted-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:526:16","data-matrix-name":"X","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"526","data-component-file":"BookDetailPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-muted-foreground%22%7D"})})]}),x.jsx("div",{className:"p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:529:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"529","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",children:x.jsx(zSt,{bookId:a.id,bookContent:a.extracted_text||"",onFlashcardsGenerated:$=>{Nt.success(`Generated ${$} flashcards!`),b(!1)},"data-matrix-id":"src/pages/BookDetailPage.tsx:530:14","data-matrix-name":"AIFlashcardGenerator","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"530","data-component-file":"BookDetailPage.tsx","data-component-name":"AIFlashcardGenerator","data-component-content":"%7B%22bookId%22%3A%22%5BMemberExpression%5D%22%2C%22bookContent%22%3A%22%5BLogicalExpression%5D%22%2C%22onFlashcardsGenerated%22%3A%22%5BArrowFunctionExpression%5D%22%7D"})})]})}),S&&x.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:545:8","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"545","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:x.jsxs("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto bg-card rounded-3xl","data-matrix-id":"src/pages/BookDetailPage.tsx:546:10","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"546","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-2xl%20w-full%20max-h-%5B90vh%5D%20overflow-y-auto%20bg-card%20rounded-3xl%22%7D",children:[x.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between","data-matrix-id":"src/pages/BookDetailPage.tsx:547:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"547","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22sticky%20top-0%20bg-card%20border-b%20border-border%20p-4%20flex%20items-center%20justify-between%22%7D",children:[x.jsx("h3",{className:"text-lg font-bold text-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:548:14","data-matrix-name":"h3","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"548","data-component-file":"BookDetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-foreground%22%7D",children:"AI Quiz"}),x.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-muted rounded-full transition-colors","data-matrix-id":"src/pages/BookDetailPage.tsx:549:14","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"549","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-muted%20rounded-full%20transition-colors%22%7D",children:x.jsx(mc,{className:"w-5 h-5 text-muted-foreground","data-matrix-id":"src/pages/BookDetailPage.tsx:553:16","data-matrix-name":"X","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"553","data-component-file":"BookDetailPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-muted-foreground%22%7D"})})]}),x.jsx("div",{className:"p-4","data-matrix-id":"src/pages/BookDetailPage.tsx:556:12","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"556","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",children:x.jsx(qSt,{bookId:a.id,bookTitle:a.title,extractedText:a.extracted_text,"data-matrix-id":"src/pages/BookDetailPage.tsx:557:14","data-matrix-name":"AIQuizGenerator","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"557","data-component-file":"BookDetailPage.tsx","data-component-name":"AIQuizGenerator","data-component-content":"%7B%22bookId%22%3A%22%5BMemberExpression%5D%22%2C%22bookTitle%22%3A%22%5BMemberExpression%5D%22%2C%22extractedText%22%3A%22%5BMemberExpression%5D%22%7D"})})]})})]}):x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6","data-matrix-id":"src/pages/BookDetailPage.tsx:175:6","data-matrix-name":"div","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"175","data-component-file":"BookDetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%20flex-col%20items-center%20justify-center%20p-6%22%7D",children:[x.jsx("h1",{className:"text-xl font-bold text-foreground mb-2","data-matrix-id":"src/pages/BookDetailPage.tsx:176:8","data-matrix-name":"h1","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"176","data-component-file":"BookDetailPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-2%22%7D",children:"Book Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4","data-matrix-id":"src/pages/BookDetailPage.tsx:177:8","data-matrix-name":"p","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"177","data-component-file":"BookDetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-4%22%7D",children:"The book you're looking for doesn't exist."}),x.jsx("button",{onClick:()=>t("/library"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg","data-matrix-id":"src/pages/BookDetailPage.tsx:178:8","data-matrix-name":"button","data-component-path":"src/pages/BookDetailPage.tsx","data-component-line":"178","data-component-file":"BookDetailPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-primary%20text-primary-foreground%20rounded-lg%22%7D",children:"Back to Library"})]})}function VSt({position:n="bottom-right",isOpen:t,onClose:e,onOpen:a}){const[r,i]=I.useState(!1),o=t!==void 0,s=o?t:r,c=()=>{o?a==null||a():i(!0)},l=()=>{o?e==null||e():i(!1)},[u,h]=I.useState([{id:"1",role:"assistant",content:"Hello! I'm your learning assistant. I can help you understand concepts, explain features, and guide you through your learning journey. How can I help you today?",timestamp:new Date}]),[f,y]=I.useState(""),[w,v]=I.useState(!1),b=I.useRef(null),S=()=>{var T;(T=b.current)==null||T.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{S()},[u]);const _=async()=>{if(!(!f.trim()||w)){Nt.error("Configuration error: Missing Supabase URL"),console.error("VITE_SUPABASE_URL is not defined");return}},P=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),_())},E=()=>{switch(n){case"bottom-left":return"bottom-24 sm:bottom-24 left-4 sm:left-6";case"top-right":return"top-4 sm:top-6 right-4 sm:right-6";case"bottom-right":default:return"bottom-24 right-4 sm:right-6"}},C=()=>{switch(n){case"bottom-left":return"bottom-40 sm:bottom-40 left-4 sm:left-6";case"top-right":return"top-16 sm:top-20 right-4 sm:right-6";case"bottom-right":default:return"bottom-40 right-4 sm:right-6"}};return x.jsxs(x.Fragment,{children:[x.jsx(kc,{"data-matrix-id":"src/components/AIChatbot.tsx:212:6","data-matrix-name":"AnimatePresence","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"212","data-component-file":"AIChatbot.tsx","data-component-name":"AnimatePresence",children:!s&&x.jsxs(st.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:c,className:`fixed ${E()} z-40 w-12 h-12 sm:w-14 sm:h-14 bg-primary rounded-full shadow-lg flex items-center justify-center`,children:[x.jsx(uJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white","data-matrix-id":"src/components/AIChatbot.tsx:223:12","data-matrix-name":"MessageCircle","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"223","data-component-file":"AIChatbot.tsx","data-component-name":"MessageCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20sm%3Aw-6%20sm%3Ah-6%20text-white%22%7D"}),x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white","data-matrix-id":"src/components/AIChatbot.tsx:224:12","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"224","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-top-1%20-right-1%20w-3%20h-3%20bg-green-500%20rounded-full%20border-2%20border-white%22%7D"})]})}),x.jsx(kc,{"data-matrix-id":"src/components/AIChatbot.tsx:230:6","data-matrix-name":"AnimatePresence","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"230","data-component-file":"AIChatbot.tsx","data-component-name":"AnimatePresence",children:s&&x.jsxs(st.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`fixed ${C()} z-50 w-[90vw] sm:w-[400px] md:w-[450px] max-w-md h-[65vh] sm:h-[550px] md:h-[600px] max-h-[80vh] bg-card rounded-2xl sm:rounded-3xl shadow-2xl flex flex-col overflow-hidden`,children:[x.jsxs("div",{className:"bg-primary px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between","data-matrix-id":"src/components/AIChatbot.tsx:239:12","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"239","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-primary%20px-4%20sm%3Apx-6%20py-3%20sm%3Apy-4%20flex%20items-center%20justify-between%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3","data-matrix-id":"src/components/AIChatbot.tsx:240:14","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"240","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%22%7D",children:[x.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white/20 rounded-full flex items-center justify-center","data-matrix-id":"src/components/AIChatbot.tsx:241:16","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"241","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20sm%3Aw-10%20sm%3Ah-10%20bg-white%2F20%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Pm,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white","data-matrix-id":"src/components/AIChatbot.tsx:242:18","data-matrix-name":"Sparkles","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"242","data-component-file":"AIChatbot.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/AIChatbot.tsx:244:16","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"244","data-component-file":"AIChatbot.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"text-white font-bold text-sm sm:text-base","data-matrix-id":"src/components/AIChatbot.tsx:245:18","data-matrix-name":"h3","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"245","data-component-file":"AIChatbot.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-white%20font-bold%20text-sm%20sm%3Atext-base%22%7D",children:"AI Learning Assistant"}),x.jsx("p",{className:"text-white/80 text-xs hidden sm:block","data-matrix-id":"src/components/AIChatbot.tsx:246:18","data-matrix-name":"p","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"246","data-component-file":"AIChatbot.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F80%20text-xs%20hidden%20sm%3Ablock%22%7D",children:"Always here to help"})]})]}),x.jsx("button",{onClick:l,className:"w-7 h-7 sm:w-8 sm:h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors","data-matrix-id":"src/components/AIChatbot.tsx:249:14","data-matrix-name":"button","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"249","data-component-file":"AIChatbot.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-7%20h-7%20sm%3Aw-8%20sm%3Ah-8%20bg-white%2F20%20rounded-full%20flex%20items-center%20justify-center%20hover%3Abg-white%2F30%20transition-colors%22%7D",children:x.jsx(mc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white","data-matrix-id":"src/components/AIChatbot.tsx:253:16","data-matrix-name":"X","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"253","data-component-file":"AIChatbot.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-white%22%7D"})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-muted","data-matrix-id":"src/components/AIChatbot.tsx:258:12","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"258","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20overflow-y-auto%20p-3%20sm%3Ap-4%20space-y-3%20sm%3Aspace-y-4%20bg-muted%22%7D",children:[u.map(T=>x.jsx(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:x.jsxs("div",{className:`max-w-[85%] sm:max-w-[80%] rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 sm:py-3 ${T.role==="user"?"bg-primary text-primary-foreground":"bg-card text-foreground shadow-md"}`,"data-matrix-id":"src/components/AIChatbot.tsx:266:18","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"266","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[T.role==="assistant"&&x.jsxs("div",{className:"flex items-center gap-2 mb-1","data-matrix-id":"src/components/AIChatbot.tsx:274:22","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"274","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-1%22%7D",children:[x.jsx(Pm,{className:"w-3 h-3 text-primary","data-matrix-id":"src/components/AIChatbot.tsx:275:24","data-matrix-name":"Sparkles","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"275","data-component-file":"AIChatbot.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-primary%22%7D"}),x.jsx("span",{className:"text-xs font-medium text-primary","data-matrix-id":"src/components/AIChatbot.tsx:276:24","data-matrix-name":"span","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"276","data-component-file":"AIChatbot.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20text-primary%22%7D",children:"AI Assistant"})]}),x.jsx("p",{className:"text-xs sm:text-sm leading-relaxed whitespace-pre-wrap break-words","data-matrix-id":"src/components/AIChatbot.tsx:279:20","data-matrix-name":"p","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"279","data-component-file":"AIChatbot.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20leading-relaxed%20whitespace-pre-wrap%20break-words%22%7D",children:T.content}),x.jsx("p",{className:`text-xs mt-1 ${T.role==="user"?"text-white/70":"text-muted-foreground"}`,"data-matrix-id":"src/components/AIChatbot.tsx:280:20","data-matrix-name":"p","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"280","data-component-file":"AIChatbot.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},T.id)),w&&x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:x.jsx("div",{className:"bg-card rounded-2xl px-4 py-3 shadow-md","data-matrix-id":"src/components/AIChatbot.tsx:293:18","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"293","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-2xl%20px-4%20py-3%20shadow-md%22%7D",children:x.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/components/AIChatbot.tsx:294:20","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"294","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[x.jsx(gr,{className:"w-4 h-4 text-primary animate-spin","data-matrix-id":"src/components/AIChatbot.tsx:295:22","data-matrix-name":"Loader2","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"295","data-component-file":"AIChatbot.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-primary%20animate-spin%22%7D"}),x.jsx("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/components/AIChatbot.tsx:296:22","data-matrix-name":"span","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"296","data-component-file":"AIChatbot.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Thinking..."})]})})}),x.jsx("div",{ref:b,"data-matrix-id":"src/components/AIChatbot.tsx:302:14","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"302","data-component-file":"AIChatbot.tsx","data-component-name":"div"})]}),x.jsx("div",{className:"border-t border-border p-3 sm:p-4 bg-card","data-matrix-id":"src/components/AIChatbot.tsx:306:12","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"306","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20p-3%20sm%3Ap-4%20bg-card%22%7D",children:x.jsxs("div",{className:"flex items-end gap-2","data-matrix-id":"src/components/AIChatbot.tsx:307:14","data-matrix-name":"div","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"307","data-component-file":"AIChatbot.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-end%20gap-2%22%7D",children:[x.jsx("textarea",{value:f,onChange:T=>y(T.target.value),onKeyPress:P,placeholder:"Ask me anything...",disabled:w,className:"flex-1 resize-none border border-border rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 max-h-24 sm:max-h-32 disabled:opacity-50",rows:1,"data-matrix-id":"src/components/AIChatbot.tsx:308:16","data-matrix-name":"textarea","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"308","data-component-file":"AIChatbot.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onKeyPress%22%3A%22%5BIdentifier%5D%22%2C%22placeholder%22%3A%22Ask%20me%20anything...%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20resize-none%20border%20border-border%20rounded-xl%20sm%3Arounded-2xl%20px-3%20sm%3Apx-4%20py-2%20sm%3Apy-3%20text-sm%20sm%3Atext-base%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-purple-500%20max-h-24%20sm%3Amax-h-32%20disabled%3Aopacity-50%22%2C%22rows%22%3A1%7D"}),x.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!f.trim()||w,className:"w-9 h-9 sm:w-10 sm:h-10 bg-primary rounded-full flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsx(wU,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white","data-matrix-id":"src/components/AIChatbot.tsx:324:18","data-matrix-name":"Send","data-component-path":"src/components/AIChatbot.tsx","data-component-line":"324","data-component-file":"AIChatbot.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%20text-white%22%7D"})})]})})]})})]})}console.log("App.tsx loaded");function ko({children:n}){const{user:t,hasCompletedOnboarding:e,isLoading:a}=qe();return console.log("ProtectedRoute check:",{user:!!t,hasCompletedOnboarding:e,isLoading:a}),a?x.jsx(kW,{fullscreen:!0,"data-matrix-id":"src/App.tsx:37:11","data-matrix-name":"BookLoader","data-component-path":"src/App.tsx","data-component-line":"37","data-component-file":"App.tsx","data-component-name":"BookLoader","data-component-content":"%7B%22fullscreen%22%3Atrue%7D"}):e?t?(console.log("ProtectedRoute - access granted"),x.jsx(x.Fragment,{children:n})):(console.log("Redirecting to auth - no user"),x.jsx(Wg,{to:"/auth",replace:!0,"data-matrix-id":"src/App.tsx:49:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"49","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fauth%22%2C%22replace%22%3Atrue%7D"})):(console.log("Redirecting to onboarding - not completed"),x.jsx(Wg,{to:"/onboarding",replace:!0,"data-matrix-id":"src/App.tsx:43:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"43","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fonboarding%22%2C%22replace%22%3Atrue%7D"}))}function WSt(){const n=Uy(),t=Ia(),e=[{path:"/home",icon:oJ,label:"Home"},{path:"/library",icon:Ac,label:"Library"},{path:"/learn",icon:Un,label:"Learn"},{path:"/review",icon:sx,label:"Review"}];return e.some(r=>n.pathname.startsWith(r.path))||n.pathname.startsWith("/focus")||n.pathname.startsWith("/book/")?x.jsx(st.div,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-xl border-t border-gray-200 px-1 sm:px-2 py-1 sm:py-2 safe-area-bottom z-50 shadow-lg",children:x.jsx("div",{className:"flex justify-around items-center max-w-lg mx-auto","data-matrix-id":"src/App.tsx:79:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"79","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-around%20items-center%20max-w-lg%20mx-auto%22%7D",children:e.map(r=>{const i=r.icon,o=n.pathname.startsWith(r.path);return x.jsxs(st.button,{onClick:()=>t(r.path),whileTap:{scale:.95},className:"relative flex flex-col items-center gap-0.5 sm:gap-1 px-2 sm:px-3 py-1.5 sm:py-2 rounded-xl transition-all",children:[o&&x.jsx(st.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 rounded-xl",transition:{type:"spring",stiffness:380,damping:30}}),x.jsx(st.div,{animate:{scale:o?1.1:1,y:o?-2:0},transition:{type:"spring",stiffness:400,damping:17},children:x.jsx(i,{className:`w-5 h-5 sm:w-6 sm:h-6 transition-colors ${o?"text-primary":"text-muted-foreground"}`,"data-matrix-id":"src/App.tsx:105:16","data-matrix-name":"Icon","data-component-path":"src/App.tsx","data-component-line":"105","data-component-file":"App.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})}),x.jsx("span",{className:`text-xs font-medium transition-colors ${o?"text-primary":"text-muted-foreground"}`,"data-matrix-id":"src/App.tsx:111:14","data-matrix-name":"span","data-component-path":"src/App.tsx","data-component-line":"111","data-component-file":"App.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:r.label}),o&&x.jsx(st.div,{layoutId:"activeIndicator",className:"absolute -bottom-1 w-1 h-1 bg-primary rounded-full",transition:{type:"spring",stiffness:380,damping:30}})]},r.path)})})}):null}function KSt(){const{user:n,hasCompletedOnboarding:t,isLoading:e}=qe(),a=Uy(),r=I.useRef(!0),i=qe(s=>s.isTimerActive);if(I.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),I.useEffect(()=>{let s=null;return i&&r.current&&(s=setInterval(()=>{r.current&&qe.getState().decrementTimer()},1e3)),()=>{s&&clearInterval(s)}},[i]),console.log("AppContent render:",{user:!!n,hasCompletedOnboarding:t,isLoading:e,pathname:a.pathname}),e)return x.jsx(kW,{fullscreen:!0,"data-matrix-id":"src/App.tsx:205:11","data-matrix-name":"BookLoader","data-component-path":"src/App.tsx","data-component-line":"205","data-component-file":"App.tsx","data-component-name":"BookLoader","data-component-content":"%7B%22fullscreen%22%3Atrue%7D"});const o=n&&t&&["/home","/books","/learning-paths","/projects","/review","/profile","/menu","/library","/learn","/focus","/book"].some(s=>a.pathname.startsWith(s));return x.jsxs("div",{className:o?"pb-20":"","data-matrix-id":"src/App.tsx:213:4","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"213","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BConditionalExpression%5D%22%7D",children:[x.jsxs(uZ,{"data-matrix-id":"src/App.tsx:214:6","data-matrix-name":"Routes","data-component-path":"src/App.tsx","data-component-line":"214","data-component-file":"App.tsx","data-component-name":"Routes",children:[x.jsx(_a,{path:"/onboarding",element:t?x.jsx(Wg,{to:"/auth",replace:!0,"data-matrix-id":"src/App.tsx:216:53","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"216","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fauth%22%2C%22replace%22%3Atrue%7D"}):x.jsx(yst,{"data-matrix-id":"src/App.tsx:216:36","data-matrix-name":"Onboarding","data-component-path":"src/App.tsx","data-component-line":"216","data-component-file":"App.tsx","data-component-name":"Onboarding"}),"data-matrix-id":"src/App.tsx:215:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"215","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fonboarding%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"}),x.jsx(_a,{path:"/auth",element:n?x.jsx(Wg,{to:"/home",replace:!0,"data-matrix-id":"src/App.tsx:219:29","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"219","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fhome%22%2C%22replace%22%3Atrue%7D"}):x.jsx(vst,{"data-matrix-id":"src/App.tsx:219:18","data-matrix-name":"Auth","data-component-path":"src/App.tsx","data-component-line":"219","data-component-file":"App.tsx","data-component-name":"Auth"}),"data-matrix-id":"src/App.tsx:218:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"218","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fauth%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"}),x.jsx(_a,{path:"/auth/callback",element:x.jsx(bst,{"data-matrix-id":"src/App.tsx:221:46","data-matrix-name":"AuthCallback","data-component-path":"src/App.tsx","data-component-line":"221","data-component-file":"App.tsx","data-component-name":"AuthCallback"}),"data-matrix-id":"src/App.tsx:221:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"221","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fauth%2Fcallback%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/pending-confirmation",element:x.jsx(wst,{"data-matrix-id":"src/App.tsx:222:53","data-matrix-name":"PendingConfirmation","data-component-path":"src/App.tsx","data-component-line":"222","data-component-file":"App.tsx","data-component-name":"PendingConfirmation"}),"data-matrix-id":"src/App.tsx:222:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"222","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fpending-confirmation%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/home",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:224:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"224","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(DAt,{"data-matrix-id":"src/App.tsx:225:12","data-matrix-name":"Home","data-component-path":"src/App.tsx","data-component-line":"225","data-component-file":"App.tsx","data-component-name":"Home"})}),"data-matrix-id":"src/App.tsx:223:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"223","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fhome%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/profile",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:229:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"229","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(BAt,{"data-matrix-id":"src/App.tsx:230:12","data-matrix-name":"Profile","data-component-path":"src/App.tsx","data-component-line":"230","data-component-file":"App.tsx","data-component-name":"Profile"})}),"data-matrix-id":"src/App.tsx:228:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"228","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fprofile%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/books",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:234:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"234","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(TSt,{"data-matrix-id":"src/App.tsx:236:14","data-matrix-name":"Books","data-component-path":"src/App.tsx","data-component-line":"236","data-component-file":"App.tsx","data-component-name":"Books"})})}),"data-matrix-id":"src/App.tsx:233:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"233","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fbooks%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/learning-paths",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:241:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"241","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(FX,{"data-matrix-id":"src/App.tsx:243:14","data-matrix-name":"LearningPaths","data-component-path":"src/App.tsx","data-component-line":"243","data-component-file":"App.tsx","data-component-name":"LearningPaths"})})}),"data-matrix-id":"src/App.tsx:240:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"240","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Flearning-paths%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/library",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:248:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"248","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx($St,{"data-matrix-id":"src/App.tsx:250:14","data-matrix-name":"Library","data-component-path":"src/App.tsx","data-component-line":"250","data-component-file":"App.tsx","data-component-name":"Library"})})}),"data-matrix-id":"src/App.tsx:247:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"247","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Flibrary%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/learn",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:255:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"255","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(GSt,{"data-matrix-id":"src/App.tsx:257:14","data-matrix-name":"Learn","data-component-path":"src/App.tsx","data-component-line":"257","data-component-file":"App.tsx","data-component-name":"Learn"})})}),"data-matrix-id":"src/App.tsx:254:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"254","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Flearn%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/review",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:262:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"262","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(RSt,{"data-matrix-id":"src/App.tsx:264:14","data-matrix-name":"Review","data-component-path":"src/App.tsx","data-component-line":"264","data-component-file":"App.tsx","data-component-name":"Review"})})}),"data-matrix-id":"src/App.tsx:261:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"261","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Freview%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/book/:id",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:269:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"269","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(HSt,{"data-matrix-id":"src/App.tsx:271:14","data-matrix-name":"BookDetailPage","data-component-path":"src/App.tsx","data-component-line":"271","data-component-file":"App.tsx","data-component-name":"BookDetailPage"})})}),"data-matrix-id":"src/App.tsx:268:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"268","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fbook%2F%3Aid%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/focus",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:276:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"276","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(MSt,{"data-matrix-id":"src/App.tsx:278:14","data-matrix-name":"Focus","data-component-path":"src/App.tsx","data-component-line":"278","data-component-file":"App.tsx","data-component-name":"Focus"})})}),"data-matrix-id":"src/App.tsx:275:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"275","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Ffocus%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/focus/analytics",element:x.jsx(ko,{"data-matrix-id":"src/App.tsx:283:10","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"283","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(Eo,{children:x.jsx(FSt,{"data-matrix-id":"src/App.tsx:285:14","data-matrix-name":"FocusAnalytics","data-component-path":"src/App.tsx","data-component-line":"285","data-component-file":"App.tsx","data-component-name":"FocusAnalytics"})})}),"data-matrix-id":"src/App.tsx:282:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"282","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Ffocus%2Fanalytics%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(_a,{path:"/",element:x.jsx(Wg,{to:t?n?"/home":"/auth":"/onboarding",replace:!0,"data-matrix-id":"src/App.tsx:290:10","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"290","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%5BConditionalExpression%5D%22%2C%22replace%22%3Atrue%7D"}),"data-matrix-id":"src/App.tsx:289:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"289","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2F%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"})]}),x.jsx(WSt,{"data-matrix-id":"src/App.tsx:296:6","data-matrix-name":"BottomNav","data-component-path":"src/App.tsx","data-component-line":"296","data-component-file":"App.tsx","data-component-name":"BottomNav"}),x.jsx(VSt,{"data-matrix-id":"src/App.tsx:299:6","data-matrix-name":"AIChatbot","data-component-path":"src/App.tsx","data-component-line":"299","data-component-file":"App.tsx","data-component-name":"AIChatbot"})]})}function XSt(){return console.log("App component render"),x.jsx(Eo,{children:x.jsxs(pZ,{"data-matrix-id":"src/App.tsx:309:6","data-matrix-name":"BrowserRouter","data-component-path":"src/App.tsx","data-component-line":"309","data-component-file":"App.tsx","data-component-name":"BrowserRouter",children:[x.jsx(KSt,{"data-matrix-id":"src/App.tsx:310:8","data-matrix-name":"AppContent","data-component-path":"src/App.tsx","data-component-line":"310","data-component-file":"App.tsx","data-component-name":"AppContent"}),x.jsx(ntt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",borderRadius:"12px"}},"data-matrix-id":"src/App.tsx:311:8","data-matrix-name":"Toaster","data-component-path":"src/App.tsx","data-component-line":"311","data-component-file":"App.tsx","data-component-name":"Toaster","data-component-content":"%7B%22position%22%3A%22top-center%22%2C%22toastOptions%22%3A%7B%22duration%22%3A3000%2C%22style%22%3A%22%5BObjectExpression%5D%22%7D%7D"})]})})}WQ.createRoot(document.getElementById("root")).render(x.jsx(I.StrictMode,{"data-matrix-id":"src/main.tsx:8:2","data-matrix-name":"StrictMode","data-component-path":"src/main.tsx","data-component-line":"8","data-component-file":"main.tsx","data-component-name":"StrictMode",children:x.jsx(Eo,{children:x.jsx(XSt,{"data-matrix-id":"src/main.tsx:10:6","data-matrix-name":"App","data-component-path":"src/main.tsx","data-component-line":"10","data-component-file":"main.tsx","data-component-name":"App"})})}));
